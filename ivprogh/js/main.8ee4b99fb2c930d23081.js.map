{"version":3,"file":"main.8ee4b99fb2c930d23081.js","mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AC/FY;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,oBAAoB;;;;;;;;;;;;ACRP;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,mBAAO,CAAC,2CAAa;AACtC,iBAAiB,mBAAO,CAAC,2CAAa;AACtC;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA,kBAAe;;;;;;;;;;;;ACVF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,GAAG,mBAAmB;AACvC,YAAY,mBAAO,CAAC,sCAAK;AACzB,iBAAiB,mBAAO,CAAC,qCAAU;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,qCAAqC,YAAY,EAAE,YAAY,OAAO,YAAY,EAAE,YAAY,OAAO,YAAY;AACnH,mCAAmC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU;AACjF;AACA,yCAAyC,aAAa,GAAG,YAAY,GAAG,UAAU;AAClF,kDAAkD,QAAQ;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uDAAuD;AAC3E;AACA;AACA;AACA;AACA,uBAAuB;AACvB,wBAAwB;AACxB;AACA;AACA;AACA,oCAAoC,UAAU;AAC9C;AACA;AACA;AACA;AACA,6CAA6C,iBAAiB;AAC9D,gDAAgD,QAAQ;AACxD,eAAe,SAAS,mCAAmC;AAC3D;AACA;AACA,cAAc,wCAAwC;AACtD;AACA,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA;AACA;AACA,iBAAiB;;;;;;;;;;;;ACzFJ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf,gBAAgB,mBAAO,CAAC,oCAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AC/FY;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,mBAAO,CAAC,yCAAe;AACxC,WAAW,mBAAO,CAAC,+BAAU;AAC7B,eAAe,mBAAO,CAAC,qCAAa;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;;AChBF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB,GAAG,iBAAiB;AAC7C,iBAAiB;AACjB,WAAW,oBAAoB;AAC/B,WAAW,oBAAoB;AAC/B,YAAY,oBAAoB;AAChC,WAAW,oBAAoB;AAC/B,WAAW,oBAAoB;AAC/B,UAAU,oBAAoB;AAC9B,UAAU,qBAAqB;AAC/B,UAAU,oBAAoB;AAC9B,UAAU,qBAAqB;AAC/B,UAAU,qBAAqB;AAC/B,WAAW,sBAAsB;AACjC,WAAW,uBAAuB;AAClC,UAAU,sBAAsB;AAChC,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;;;;;;;;;;;ACtCZ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;;;;;;;;;;;ACdF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB;AAChB,kBAAkB,mBAAO,CAAC,yCAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AC5GY;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B,GAAG,8BAA8B;AAC/D,gBAAgB,mBAAO,CAAC,qDAAqB;AAC7C,oBAAoB,mBAAO,CAAC,+CAAkB;AAC9C,oBAAoB,mBAAO,CAAC,6DAAyB;AACrD,iBAAiB,mBAAO,CAAC,2CAAgB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qCAAqC;AACjE;AACA,gCAAgC,sCAAsC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,4BAA4B,qCAAqC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;;;;;;;;;;;;ACrNjB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf,eAAe;AACf;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACPY;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa;AACb,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACTY;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa;AACb;AACA,gBAAgB,mBAAO,CAAC,yCAAU;AAClC,gBAAgB,mBAAO,CAAC,wDAAwB;AAChD,sBAAsB,mBAAO,CAAC,0DAAe;AAC7C,yBAAyB,mBAAO,CAAC,gEAAkB;AACnD,qBAAqB,mBAAO,CAAC,kEAA6B;AAC1D,4BAA4B,mBAAO,CAAC,kFAA2B;AAC/D,mBAAmB,mBAAO,CAAC,sDAAuB;AAClD,2BAA2B,mBAAO,CAAC,oEAAoB;AACvD,sBAAsB,mBAAO,CAAC,sEAAqB;AACnD,8BAA8B,mBAAO,CAAC,sFAA6B;AACnE,0BAA0B,mBAAO,CAAC,8EAAyB;AAC3D,gCAAgC,mBAAO,CAAC,0FAA+B;AACvE,iCAAiC,mBAAO,CAAC,gFAA0B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,IAAI;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,IAAI;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,eAAe,8BAA8B,eAAe;AAC3F;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,aAAa;AAC5B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,IAAI;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,qBAAqB;AAC7D;AACA;AACA;AACA;AACA;AACA,wCAAwC,oBAAoB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F,GAAG;AAC7F;AACA;AACA;AACA;AACA;AACA,0FAA0F,GAAG;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,eAAe,8BAA8B,eAAe;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,IAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,2BAA2B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,WAAW;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,IAAI;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;;;;;;;;;;;AC9QA;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB,mBAAmB,mBAAO,CAAC,sDAAuB;AAClD;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;;;;;;;;;;;AC7DN;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,sBAAsB,mBAAO,CAAC,0DAAe;AAC7C,4BAA4B,mBAAO,CAAC,kFAA2B;AAC/D,mBAAmB,mBAAO,CAAC,sDAAuB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;;;;;;;;;;;ACrIX;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB,sBAAsB,mBAAO,CAAC,0DAAe;AAC7C;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;;;;;;;;;;;;AC3BT;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B,2BAA2B,mBAAO,CAAC,oEAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;;;;;;;;;;;;ACnBd;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,qBAAqB,mBAAO,CAAC,qEAAgC;AAC7D,8BAA8B,mBAAO,CAAC,gFAAuB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;;;;;;;;;;;;ACrFV;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;;;;;;;;;;;;ACvBb;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;;;;;;;;;;;;ACjBL;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,sBAAsB,mBAAO,CAAC,gEAAe;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;;;;;;;;;;;ACXZ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;;;;;;;;;;;;AC5BR;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,kBAAkB,mBAAO,CAAC,4CAAkB;AAC5C,oBAAoB,mBAAO,CAAC,yDAAW;AACvC,iBAAiB,mBAAO,CAAC,6CAAkB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;;;;;;;;;;;;ACzCV;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;;;;;;;;;;;AC7CJ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;;;;;;;;;;;AC/BJ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,0BAA0B;AAC5C;AACA;AACA;AACA;AACA;AACA,YAAY;;;;;;;;;;;;ACfC;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,GAAG,aAAa;AACrC,eAAe,mBAAO,CAAC,uCAAQ;AAC/B,oBAAoB,mBAAO,CAAC,iDAAa;AACzC,gBAAgB,mBAAO,CAAC,yCAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;;;;;;;;;;;;ACjCR;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;;;;;;;;;;;AC7BD;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;;;;;;;;;;;;;;;;;UCtCb;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEhDA;UACA;UACA;UACA;UACA","sources":["webpack://ivprogCore/webpack/universalModuleDefinition","webpack://ivprogCore/./i18n/error.csv","webpack://ivprogCore/./i18n/message.csv","webpack://ivprogCore/./i18n/ui.csv","webpack://ivprogCore/./js/assessment/ivprogAssessment.js","webpack://ivprogCore/./js/assessment/output_matching/assessment_result.js","webpack://ivprogCore/./js/assessment/output_matching/output_matching.js","webpack://ivprogCore/./js/assessment/output_matching/output_result.js","webpack://ivprogCore/./js/ast/commands/arrayAssign.js","webpack://ivprogCore/./js/ast/commands/arrayDeclaration.js","webpack://ivprogCore/./js/ast/commands/assign.js","webpack://ivprogCore/./js/ast/commands/break.js","webpack://ivprogCore/./js/ast/commands/case.js","webpack://ivprogCore/./js/ast/commands/command.js","webpack://ivprogCore/./js/ast/commands/commandBlock.js","webpack://ivprogCore/./js/ast/commands/declaration.js","webpack://ivprogCore/./js/ast/commands/for.js","webpack://ivprogCore/./js/ast/commands/formalParameter.js","webpack://ivprogCore/./js/ast/commands/function.js","webpack://ivprogCore/./js/ast/commands/ifThenElse.js","webpack://ivprogCore/./js/ast/commands/index.js","webpack://ivprogCore/./js/ast/commands/repeatUntil.js","webpack://ivprogCore/./js/ast/commands/return.js","webpack://ivprogCore/./js/ast/commands/switch.js","webpack://ivprogCore/./js/ast/commands/sysCall.js","webpack://ivprogCore/./js/ast/commands/while.js","webpack://ivprogCore/./js/ast/error/syntaxError.js","webpack://ivprogCore/./js/ast/error/syntaxErrorFactory.js","webpack://ivprogCore/./js/ast/expressions/arrayAccess.js","webpack://ivprogCore/./js/ast/expressions/arrayLiteral.js","webpack://ivprogCore/./js/ast/expressions/boolLiteral.js","webpack://ivprogCore/./js/ast/expressions/charLiteral.js","webpack://ivprogCore/./js/ast/expressions/expression.js","webpack://ivprogCore/./js/ast/expressions/functionCall.js","webpack://ivprogCore/./js/ast/expressions/index.js","webpack://ivprogCore/./js/ast/expressions/infixApp.js","webpack://ivprogCore/./js/ast/expressions/intLiteral.js","webpack://ivprogCore/./js/ast/expressions/literal.js","webpack://ivprogCore/./js/ast/expressions/realLiteral.js","webpack://ivprogCore/./js/ast/expressions/stringLiteral.js","webpack://ivprogCore/./js/ast/expressions/unaryApp.js","webpack://ivprogCore/./js/ast/expressions/variableLiteral.js","webpack://ivprogCore/./js/ast/ivprogParser.js","webpack://ivprogCore/./js/ast/sourceInfo.js","webpack://ivprogCore/./js/io/domConsole.js","webpack://ivprogCore/./js/io/input.js","webpack://ivprogCore/./js/io/output.js","webpack://ivprogCore/./js/main.js","webpack://ivprogCore/./js/processor/definedFunctions.js","webpack://ivprogCore/./js/processor/error/processorErrorFactory.js","webpack://ivprogCore/./js/processor/error/runtimeError.js","webpack://ivprogCore/./js/processor/error/semanticError.js","webpack://ivprogCore/./js/processor/ivprogProcessor.js","webpack://ivprogCore/./js/processor/lib/arrays.js","webpack://ivprogCore/./js/processor/lib/io.js","webpack://ivprogCore/./js/processor/lib/lang.js","webpack://ivprogCore/./js/processor/lib/math.js","webpack://ivprogCore/./js/processor/lib/strings.js","webpack://ivprogCore/./js/processor/semantic/semanticAnalyser.js","webpack://ivprogCore/./js/runner.js","webpack://ivprogCore/./js/services/i18nHelper.js","webpack://ivprogCore/./js/services/languageService.js","webpack://ivprogCore/./js/services/localizedStringsService.js","webpack://ivprogCore/./js/services/userLog.js","webpack://ivprogCore/./js/typeSystem/parsers.js","webpack://ivprogCore/./js/util/auto_gen_output.js","webpack://ivprogCore/./js/util/codeParser.js","webpack://ivprogCore/./js/util/dataProcess.js","webpack://ivprogCore/./js/util/editorMode2.js","webpack://ivprogCore/./js/util/iassignHelpers.js","webpack://ivprogCore/./js/util/inputTest.js","webpack://ivprogCore/./js/util/input_assessment.js","webpack://ivprogCore/./js/util/outputTest.js","webpack://ivprogCore/./js/util/parseFromVisual.js","webpack://ivprogCore/./js/util/string_diff.js","webpack://ivprogCore/./js/util/testConsole.js","webpack://ivprogCore/./js/util/utils.js","webpack://ivprogCore/./js/visualUI/algorithm.js","webpack://ivprogCore/./js/visualUI/code_generator.js","webpack://ivprogCore/./js/visualUI/commands.js","webpack://ivprogCore/./js/visualUI/commands/attribution.js","webpack://ivprogCore/./js/visualUI/commands/break.js","webpack://ivprogCore/./js/visualUI/commands/comment.js","webpack://ivprogCore/./js/visualUI/commands/conditional_expression.js","webpack://ivprogCore/./js/visualUI/commands/contextualized_menu.js","webpack://ivprogCore/./js/visualUI/commands/dowhiletrue.js","webpack://ivprogCore/./js/visualUI/commands/functioncall.js","webpack://ivprogCore/./js/visualUI/commands/generic_expression.js","webpack://ivprogCore/./js/visualUI/commands/iftrue.js","webpack://ivprogCore/./js/visualUI/commands/reader.js","webpack://ivprogCore/./js/visualUI/commands/repeatNtimes.js","webpack://ivprogCore/./js/visualUI/commands/return.js","webpack://ivprogCore/./js/visualUI/commands/switch.js","webpack://ivprogCore/./js/visualUI/commands/variable_value_menu.js","webpack://ivprogCore/./js/visualUI/commands/whiletrue.js","webpack://ivprogCore/./js/visualUI/commands/writer.js","webpack://ivprogCore/./js/visualUI/functions.js","webpack://ivprogCore/./js/visualUI/globals.js","webpack://ivprogCore/./js/visualUI/ivprog_elements.js","webpack://ivprogCore/./js/visualUI/text_editor.js","webpack://ivprogCore/./js/visualUI/types.js","webpack://ivprogCore/./js/visualUI/utils.js","webpack://ivprogCore/./js/visualUI/variables.js","webpack://ivprogCore/./grammar/en/ivprog.ts","webpack://ivprogCore/./grammar/helper.ts","webpack://ivprogCore/./grammar/index.ts","webpack://ivprogCore/./grammar/lexer.ts","webpack://ivprogCore/./grammar/pt/ivprog.ts","webpack://ivprogCore/./i18n/index.ts","webpack://ivprogCore/./js/ast/operators.ts","webpack://ivprogCore/./js/memory/address.ts","webpack://ivprogCore/./js/memory/location.ts","webpack://ivprogCore/./js/processor/compatibilityTable.ts","webpack://ivprogCore/./js/processor/context.ts","webpack://ivprogCore/./js/processor/modes.ts","webpack://ivprogCore/./js/processor/store/store.ts","webpack://ivprogCore/./js/processor/store/storeObject.ts","webpack://ivprogCore/./js/processor/store/storeObjectArray.ts","webpack://ivprogCore/./js/processor/store/storeObjectRef.ts","webpack://ivprogCore/./js/processor/store/store_object_array_ref.ts","webpack://ivprogCore/./js/processor/store/value/array_store_value.ts","webpack://ivprogCore/./js/processor/store/value/array_store_value_ref.ts","webpack://ivprogCore/./js/processor/store/value/store_value.ts","webpack://ivprogCore/./js/processor/store/value/store_value_address.ts","webpack://ivprogCore/./js/processor/store/value/store_value_ref.ts","webpack://ivprogCore/./js/services/languageService.ts","webpack://ivprogCore/./js/typeSystem/array_type.ts","webpack://ivprogCore/./js/typeSystem/multiType.ts","webpack://ivprogCore/./js/typeSystem/type.ts","webpack://ivprogCore/./js/typeSystem/types.ts","webpack://ivprogCore/./js/util/config.ts","webpack://ivprogCore/./js/util/maybe.ts","webpack://ivprogCore/webpack/bootstrap","webpack://ivprogCore/webpack/runtime/chunk loaded","webpack://ivprogCore/webpack/runtime/compat get default export","webpack://ivprogCore/webpack/runtime/define property getters","webpack://ivprogCore/webpack/runtime/hasOwnProperty shorthand","webpack://ivprogCore/webpack/runtime/make namespace object","webpack://ivprogCore/webpack/runtime/jsonp chunk loading","webpack://ivprogCore/webpack/before-startup","webpack://ivprogCore/webpack/startup","webpack://ivprogCore/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ivprogCore\"] = factory();\n\telse\n\t\troot[\"ivprogCore\"] = factory();\n})(self, () => {\nreturn ","module.exports = {\"pt\":{\"token_missing_one\":\"Erro de sintaxe: Espera-se $0, mas encontrou-se $1 na linha:$2, coluna:$3\",\"token_missing_two\":\"Erro de sintaxe: Esperava-se $0 ou $1 mas encontrou-se $2 na liha:$3, coluna: $4\",\"eos_missing\":\"Falta uma nova linha ou ; na linha: $0, coluna: $1\",\"invalid_type\":\"$0 na linha: $1, coluna: $2 é um tipo inválido. Os tipos válidos são: $3\",\"invalid_array_dimension\":\"A dimensão inválida na linha: $0, coluna: $1. Insira um $2 ou identificador válido do mesmo tipo.\",\"invalid_array_size\":\"O tamnho do vetor/matriz excede o máximo de 2 na linha $0\",\"extra_lines\":\"Nenhum texto é permitido após '}' em 'programa {...}'\",\"invalid_main_return\":\"A função $0 declarada na linha $2 deve retornar $1.\",\"invalid_var_declaration\":\"Erro na linha $0: variáveis só podem ser declaradas no corpo principal da função e nas primeiras linhas, antes de qualquer comando.\",\"invalid_break_command\":\"Erro na linha $0. O comando $1 não pode ser usado fora de uma estrutura de repetição ou 'escolha...caso'\",\"invalid_terminal\":\"Não é possível utilizar $0 na expressão da linha: $1, coluna: $2. Tente um valor númerico, variável ou chamada de função.\",\"const_not_init\":\"Erro na linha: $0, coluna: $1. Uma variável declarada como const deve ser inicializada\",\"id_missing\":\"Esperava-se um identificador, mas encontrou-se $0 na linha: $1, coluna: $2\",\"invalid_id_format\":\"$0 na linha: $1, coluna: $2 não é um identificador válido. O símbolo '.' não é permitido neste contexto.\",\"main_missing\":\"A função principal não foi encontrada\",\"invalid_global_var\":\"Erro crítico: Chamada inválida da função initGlobal fora do contexto BASE\",\"not_implemented\":\"Erro interno crítico: A função definida pelo sistema $0 não foi implementada.\",\"function_missing\":\"A função $0 não foi encontrada\",\"function_missing_full\":\"A função $0 na linha: $1, coluna: $2 não foi encontrada\",\"invalid_parameters_size_full\":\"Erro na linha $0: a quantidade de parâmetros fornecidos à função $1 está incorreta. Esperava-se $2, encontrou-se $3.\",\"invalid_parameters_size\":\"A quantidade de parâmetros fornecidos à função $0 está incorreta. Esperava-se $1, encontrou-se $2\",\"invalid_ref_full\":\"A expressão $0 fornecida como parâmetro para a função $1 na linha $2 não é válida para esta função. Use uma variável ou posição de vetor.\",\"invalid_ref\":\"A expressão $0 fornecida como parâmetro para a função $1 não é válida para esta função. Use uma variável ou posição de vetor.\",\"invalid_parameter_type_full\":\"A expressão $0 fornecida como parâmetro para a função $1 na linha $2 não é compatível com o tipo esperado.\",\"invalid_parameter_type\":\"A expressão $0 fornecida como parâmetro para a função $1 não é compatível com o tipo esperado.\",\"unknown_command_full\":\"Erro interno crítico: comando desconhecido encontrado na linha $0\",\"unknown_command\":\"Erro interno crítico: comando desconhecido encontrado!\",\"loop_condition_type_full\":\"Erro na linha: $0, coluna $1: a condição $2 do laço de repetição deve ser do tipo lógico\",\"loop_condition_type\":\"A condição $0 do laço de repetição deve ser do tipo lógico\",\"endless_loop_full\":\"Possível laço infinito detectado no seu código. Verifique a linha $0\",\"endless_loop\":\"Possível laço infinito detectado no seu código.\",\"for_condition_type_full\":\"Erro na linha: $0, coluna $1: a condição de parada $2 do comando para(...) deve ser do tipo lógico\",\"for_condition_type\":\"A condição de parada $0 do comando para(...) deve ser do tipo lógico\",\"if_condition_type_full\":\"Erro na linha: $0, coluna $1: a condição $2 do comando se...senao deve ser do tipo lógico\",\"if_condition_type\":\"A condição $0 do comando se...senao deve ser do tipo lógico\",\"invalid_return_type_full\":\"Erro na linha $0: a expressão não produz um tipo compatível com a função $1. Tipo esperado: $2.\",\"invalid_return_type\":\"A expressão não produz um tipo compatível com a função $0. Tipo esperado: $1.\",\"invalid_void_return_full\":\"Erro na linha $0: a função $1 não pode retornar uma expressão vazia, use uma espressão do tipo $2\",\"invalid_void_return\":\"A função $0 não pode retornar uma expressão vazia, use uma espressão do tipo $1\",\"unexpected_break_command_full\":\"Erro interno crítico: comando pare encontrado fora do contexto de um laço/escolha..caso na linha $0\",\"unexpected_break_command\":\"Erro interno crítico: comando pare encontrado fora do contexto de um laço/escolha..caso\",\"invalid_dimension\":\"As dimensões de um vetor/matriz devem ser do tipo inteiro\",\"void_in_expression_full\":\"Erro na linha: $0, coluna: $1: a função $2 não pode ser utilizada em uma expressão pois seu tipo de retorno é vazio\",\"void_in_expression\":\"A função $0 não pode ser utilizada em uma expressão pois seu tipo de retorno é vazio\",\"invalid_array_access_full\":\"Identificador $0 na linha: $1, coluna: $2 não se refere a um vetor/matriz válido\",\"invalid_array_access\":\"Identificador $0 não se refere a um vetor/matriz válido\",\"invalid_matrix_access_full\":\"Identificador $0 na linha: $1, coluna: $2 não se refere a uma matriz válida\",\"invalid_matrix_access\":\"Identificador $0 não se refere a uma matriz válida\",\"matrix_column_outbounds_full\":\"Erro na linha $0: número de colunas $1 é inválido para a matriz $2 que possui $3 colunas\",\"matrix_column_outbounds\":\"Número de colunas $0 é inválido para a matriz $1 que possui $2 colunas\",\"matrix_line_outbounds_full\":\"Erro na linha $0: número de linhas $1 é inválido para a matriz $2 que possui $3 linhas\",\"matrix_line_outbounds\":\"Número de linhas $0 é inválido para a matriz $1 que possui $2 linhas\",\"vector_line_outbounds_full\":\"Erro na linha $0: O número de elementos $1 é inválido para a vetor $2 que possui $3 elementos.\",\"vector_line_outbounds\":\"O número de elementos $1 é inválido para a vetor $2 que possui $3 elementos.\",\"vector_not_matrix_full\":\"Erro na linha $0: $1 não é uma matriz\",\"vector_not_matrix\":\"$0 não é uma matriz\",\"invalid_infix_op_full\":\"Erro na linha $0: a expressão $1 é inválida, pois o operador $2 não pode ser aplicado aos tipos $3 e $4\",\"invalid_infix_op\":\"A expressão $0 é inválida, pois o operador $1 não pode ser aplicado aos tipos $2 e $3\",\"invalid_unary_op_full\":\"Erro na linha $0: a expressão $1 é inválida, pois o operador $2 não pode ser aplicado ao tipo $3\",\"invalid_unary_op\":\"A expressão $0 é inválida, pois o operador $1 não pode ser aplicado ao tipo $2\",\"unknown_op\":\"Erro interno crítico: Operação $0 desconhecida\",\"duplicate_function\":\"A função $0 na linha: $1, coluna: $2 já foi definida anteriormente.\",\"duplicate_variable\":\"A variável $0 na linha: $1, coluna: $2 já foi declarada anteriormente.\",\"main_parameters\":\"A função inicio não pode ter parâmetros.\",\"symbol_not_found_full\":\"A variável $0 na linha: $1, coluna: $2 não foi declarada\",\"symbol_not_found\":\"A variável $0 não foi declarada\",\"array_dimension_not_int_full\":\"As dimensões do arranjo (vetor ou matriz) na linha $0 devem ser do tipo inteiro.\",\"array_dimension_not_int\":\"As dimensões de um arranjo (vetor ou matriz) devem ser do tipo inteiro.\",\"array_dimension_not_positive_full\":\"As dimensões do arranjo (vetor ou matriz) na linha $0 devem ser valores positivos.\",\"array_dimension_not_positive\":\"As dimensões de um arranjo (vetor ou matriz) devem ser valores positivos.\",\"incompatible_types_full\":\"Era esperado um $0 mas a expressão $1 na linha $2 resulta em $3.\",\"incompatible_types\":\"Era esperado um $0 mas a expressão $1 resulta em $2.\",\"incompatible_types_array_full\":\"A expressão $0 na linha $2 é incompatível com o tipo $1.\",\"incompatible_types_array\":\"A expressão $0 é incompatível com o tipo $1.\",\"invalid_case_type_full\":\"O caso $0 na linha $1 é incompatível com o tipo $2.\",\"invalid_case_type\":\"O caso $0 é incompatível com o tipo $1.\",\"function_no_return\":\"A função $0 não possui um comando de devolução acessível. Toda função deve ter ao menos um comando 'devolva' no seu corpo principal.\",\"invalid_array_literal_type_full\":\"Erro na linha $0: a expressão $1 não resulta em um tipo compatível.\",\"invalid_array_literal_type\":\"A expressão $0 não resulta em um tipo compatível.\",\"invalid_array_literal_line_full\":\"Erro na linha $0: esperava-se $1 linhas mas encontrou $2.\",\"invalid_array_literal_line\":\"Esperava-se $0 linhas mas encontrou $1.\",\"invalid_array_literal_column_full\":\"Erro na linha $0: esperava-se $1 colunas mas encontrou $2.\",\"invalid_array_literal_column\":\"Esperava-se $0 colunas mas encontrou $1.\",\"exceeded_input_request\":\"A quantidade de leituras requisitadas excedeu a quantidade de entradas disponíveis.\",\"test_case_few_reads\":\"Caso de teste $0 falhou: ainda restam entradas!\",\"test_case_failed\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$1\\\"> <span>Caso de teste $0 não executou com sucesso.</span></div>\",\"test_case_failed_exception\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$2\\\"> <span>Caso de teste $0 falhou</span>: $1\",\"test_case_exception\":\"Ocorreu uma exceção no caso de teste $0: $1\",\"invalid_type_conversion\":\"O valor $0 não pode ser convertido para o tipo $1\",\"invalid_read_type\":\"Erro na linha $0: A entrada \\\"$1\\\" não é do tipo $2, que é o tipo da variável <span class='ivprog-error-varname'>$3</span>.\",\"invalid_read_type_array\":\"Erro na linha $0: A entrada \\\"$1\\\" não é do tipo $2, que é o tipo aceito pela variável <span class='ivprog-error-varname'>$3</span> que é um $4.\",\"inform_valid_identifier\":\"Informe um nome válido! O nome não pode ser uma palavra reservadas e deve começar com letras ou _ e conter apenas letras, números e _.\",\"inform_valid_global_duplicated\":\"Já existe uma variável global com o nome <span class='ivprog-error-varname'>$0</span>, você precisa de nomes distintos.\",\"inform_valid_variable_duplicated\":\"Já existe uma variável com o nome <span class='ivprog-error-varname'>$0</span> na função <span class='ivprog-error-varname'>$1</span>, você precisa de nomes distintos.\",\"inform_valid_function_duplicated\":\"Já existe uma função com o nome <span class='ivprog-error-varname'>$0</span>, você precisa de nomes distintos.\",\"inform_valid_param_duplicated\":\"Já existe um parâmetro com o nome <span class='ivprog-error-varname'>$0</span> na função <span class='ivprog-error-varname'>$1</span>, você precisa de nomes distintos.\",\"invalid_character\":\"O caractere $0 na linha $1 não pode ser utilizado neste contexto.\",\"invalid_syntax\":\"O iVProg não reconhece o texto $0 na linha $1. Certifique-se que não há erro de digitação ou caractere inválido.\",\"annonymous_array_literal\":\"Erro na linha $0: a notação de vetor/matriz só permitida durante a inicialização de uma variável desse tipo. Ex: inteiro vec[3] ← {1,2,3}.\",\"invalid_matrix_literal_line\":\"A expressão $0 na linha $1 não possui um número de elementos igual a linha anterior. Todas as linhas de uma matriz devem ter a mesma quantidade de elementos.\",\"cannot_infer_matrix_line\":\"Não é possível inferir o número de linhas da matriz $0 na linha $1. É necessário que ela seja inicializada ou que o valor seja informado de forma explícita.\",\"cannot_infer_matrix_column\":\"Não é possível inferir o número de colunas da matriz $0 na linha $1. É necessário que ela seja inicializada ou que o valor seja informado de forma explícita.\",\"cannot_infer_vector_size\":\"Não é possível inferir o número de elementos do vetor $0 na linha $1. É necessário que ele seja inicializado ou que o valor seja informado de forma explícita\",\"matrix_to_vector_literal_attr\":\"Erro na linha $0: A expressão $1 representa uma matriz e não pode ser atribuída ao vetor $2.\",\"vector_to_matrix_literal_attr\":\"Erro na linha $0: A expressão $1 representa um vetor e não pode ser atribuído a matriz $2.\",\"invalid_const_ref_full\":\"A variável $0 fornecida como parâmetro para a função $1 na linha $2 é uma constante e não pode ser usada neste contexto. Use uma variável ou posição de vetor.\",\"invalid_const_ref\":\"A variável $0 fornecida como parâmetro para a função $1 é uma constante e não pode ser usada neste contexto. Use uma variável ou posição de vetor.\",\"invalid_const_assignment_full\":\"Erro na linha $0: $1 é uma constante e portanto não pode ter seu valor alterado\",\"invalid_const_assignment\":\"$0 é uma constante e portanto não pode ter seu valor alterado\",\"array_init_not_literal\":\"Erro na linha $0: Vetor/Matriz só pode ser inicializado por literal. Ex: real vetor[] <- {1,2,3}\",\"array_exceeds_2d\":\"Erro na linha $0: O número máximo de dimensões que um arranjo pode ter é 2. Elemento de 3 ou mais dimensões encontrado!\",\"invalid_matrix_id_dimension\":\"Erro na linha $0: Você deve definir todas as dimensões da matriz quando uma delas é definida por uma variável! Ex: real mat1[var][5], mat2[5][var]\",\"invalid_vector_init\":\"Erro na linha $0: Não se pode inicializar um vetor que teve seu tamanho declarado utilizando uma variável! Utilize uma atribuição de vetores ou use um laço de repetição.\",\"invalid_matrix_init\":\"Erro na linha $0: Não se pode inicializar uma matrix que teve ao menos uma das suas dimensões declaradas utilizando uma variável! Utilize uma atribuição de matrizes ou use um laço de repetição.\",\"invalid_vector_assignment_full\":\"Erro na linha $0: Só se pode atribuir um vetor a outro desde que eles comportem o mesmo número de elementos. $1 comporta $2 e $3 comporta $4!\",\"invalid_vector_assignment\":\"Só se pode atribuir um vetor a outro desde que eles comportem o mesmo número de elementos. $0 comporta $1 e $2 comporta $3!\",\"invalid_matrix_assignment_full\":\"Erro na linha $0: Só se pode atribuir uma matriz a outra desde que ambas possuam dimensões de mesmo tamanho. $1 tem $2 linhas e $3 colunas, enquanto $4 possui $5 linhas e $6 colunas!\",\"invalid_matrix_assignment\":\"Só se pode atribuir uma matriz a outra desde que ambas possuam dimensões de mesmo tamanho. $0 tem $1 linhas e $2 colunas, enquanto $3 possui $4 linhas e $5 colunas!\",\"matrix_to_vector_attr\":\"Erro na linha $0: $1 representa uma matriz e não pode ser atribuída ao vetor $2.\",\"vector_to_matrix_attr\":\"Erro na linha $0: $1 representa um vetor e não pode ser atribuído a matriz $2.\",\"invalid_matrix_index_assign_full\":\"Erro na linha $0: A posição $1 da matriz $2 aceita apenas vetores de tamanho $3, mas $4 tem tamanho $5\",\"invalid_matrix_index_assign\":\"A linha $0 da matriz $1 aceita apenas vetores de tamanho $2, mas $3 tem tamanho $4\",\"invalid_number_elements_vector\":\"Esperava-se por $0 elementos na linha $1 mas a expressão $2 possui $3 elementos.\",\"invalid_number_lines_matrix\":\"Esperava-se por uma matriz com $0 linhas na linha $1 mas a expressão $2 possui $3 linhas\",\"divsion_by_zero_full\":\"Erro na linha $0: A expressão $1 resulta em uma divisão por 0.\",\"divsion_by_zero\":\"A expressão $0 resulta em uma divisão por 0.\",\"undefined_tanget_value\":\"Erro na linha $0: A tangente de $1° não é indefinida.\",\"negative_log_value\":\"Erro na linha $0: Não se pode calcular o log de um valor negativo.\",\"invalid_string_index\":\"Erro na linha $0 durante a execução da função $1: $2 é um índice inválido para a cadeia de texto $3. Os valores válidos vão de 0 à $4\",\"negative_sqrt_value\":\"Erro na linha $0: Não é permitido calcular a raiz quadrada de um número negativo.\",\"exceeded_recursive_calls\":\"Erro na execução da linha $0: Número de chamadas recursivas excedeu o limite máximo definido!\",\"invalid_for_variable\":\"Erro na linha $0: A variavel $1 utilizada no comando repita_para deve ser do tipo inteiro.\",\"invalid_for_from\":\"Erro na linha $0: O valor $1 passado para o parâmetro 'de' do comando repita_para deve ser do tipo inteiro.\",\"invalid_for_to\":\"Erro na linha $0: O valor $1 passado para o parâmetro 'para' do comando repita_para deve ser do tipo inteiro.\",\"invalid_for_pass\":\"Erro na linha $0: O valor $1 passado para o parâmetro 'passo' do comando repita_para deve ser do tipo inteiro.\",\"exceed_max_instructions\":\"Número de instruções excedeu o limite definido. Certifique-se que seu código não possui laços infinitos ou muitas chamadas de funções recursivas.\"},\"en\":{\"token_missing_one\":\"Syntax error: Expected $0 but found $1 at line:$2, column:$3\",\"token_missing_two\":\"Syntax error: Expected $0 or $1 but found $2 at line:$3, column: $4\",\"eos_missing\":\"A new line or a ‘;’ is missing at line: $0, column: $1\",\"invalid_type\":\"$0 at line: $1, column: $2 is a invalid type. The valid types are: $3\",\"invalid_array_dimension\":\"Invalid dimension at line: $0, column: $1. Insert a $2 or a valid identifier of the same type.\",\"invalid_array_size\":\"The array at line $0 exceeds the maximum size of 2.\",\"extra_lines\":\"No text is allowed after '}' in 'program { … }'\",\"invalid_main_return\":\"The function $0 declared at line $2 must return $1.\",\"invalid_var_declaration\":\"Error at line $0: Variables can only be declared in the main body of a function and at the first lines, before any command.\",\"invalid_break_command\":\"Error at line $0. The command $1 cannot be used outside a loop command or ‘switch ...case’ structure.\",\"invalid_terminal\":\"It is not possible to use $0 in the expression at line: $1, column: $2. Try a numeric value, variable or function call.\",\"const_not_init\":\"Error at line: $0, column: $1. A variable declared as const must be initialized.\",\"id_missing\":\"Expected an identifier but found $0 at line: $1, column: $2.\",\"invalid_id_format\":\"$0 at line: $1, column: $2 is not a valid identifier. The symbol '.' is not permitted in this context.\",\"main_missing\":\"The main function was not found. You need to declare a function of return type void named main.\",\"invalid_global_var\":\"Critical Error: Invalid call of the function IVProgProcessor.initGlobal outside the BASE context.\",\"not_implemented\":\"Critial internal error: The system defined function $0 was not found.\",\"function_missing\":\"The function $0 was not found.\",\"function_missing_full\":\"The function $0 at line: $1, column: $2 was not found.\",\"invalid_parameters_size_full\":\"Error at line $0: The number of parameters provided to the function $1 is incorrect. It expected $2 but found $3.\",\"invalid_parameters_size\":\"The number of parameters provided to the function $0 is incorrect. It expected $1 but found $2.\",\"invalid_ref_full\":\"The expression $0 provided as a parameter to the function $1 at line $2 is not valid in this context. Use a variable or a position of a vector.\",\"invalid_ref\":\"The expression $0 provided as a parameter to the function $1 is not valid in this context. Use a variable or a position of a vector.\",\"invalid_parameter_type_full\":\"The expression $0 provided as a parameter to the function $1 at line $2 is not of the expected type.\",\"invalid_parameter_type\":\"The expression $0 provided as a parameter to the function $1 is not of the expected type.\",\"unknown_command_full\":\"Internal error: an unknown command found at line $0.\",\"unknown_command\":\"Internal error: an unknown command found.\",\"loop_condition_type_full\":\"Error at line: $0, column $1: the condition $2 of the loop must be of type bool (true or false).\",\"loop_condition_type\":\"The condition $0 of the loop must be of type bool (true or false).\",\"endless_loop_full\":\"Possible infinite loop detected in your code. Check line $0.\",\"endless_loop\":\"Possible infinite loop detected in your code.\",\"for_condition_type_full\":\"Erro na linha: $0, coluna $1: a condição de parada $2 do comando para(...) deve ser do tipo lógico\",\"for_condition_type\":\"A condição de parada $0 do comando para(...) deve ser do tipo lógico\",\"if_condition_type_full\":\"Error at line: $0, column $1: the condition $2 in the if … else command must result in a bool (true or false).\",\"if_condition_type\":\"The condition $0 in the if … else command must result in a bool (true or false).\",\"invalid_return_type_full\":\"Error at line $0: The expression doest not result in a type compatible with the function $1.  Expected type: $2.\",\"invalid_return_type\":\"The expression doest not result in a type compatible with the function $0.  Expected type: $1.\",\"invalid_void_return_full\":\"Error at line $0: The function $1 cannot return an empty expression, use an expression that results in a $2\",\"invalid_void_return\":\"The function $0 cannot return an empty expression, use an expression that results in a $1\",\"unexpected_break_command_full\":\"Critical error at line $0:  a break command was found outside a valid context: loop or switch … case structure.\",\"unexpected_break_command\":\"Critical error:  a break command was found outside a valid context: loop or switch … case structure.\",\"invalid_dimension\":\"Array (vector or matrix) dimensions must be of type int.\",\"void_in_expression_full\":\"Error at line: $0, column: $1: The function $2 cannot be used inside an expression since its return type is void.\",\"void_in_expression\":\"The function $0 cannot be used inside an expression since its return type is void.\",\"invalid_array_access_full\":\"Identifier $0 at line: $1, column: $2 does not identify a valid vector or matrix.\",\"invalid_array_access\":\"Identifier $0 does not identify a valid vector or matrix.\",\"invalid_matrix_access_full\":\"Identifier $0 at line: $1, column: $2 does not identify a valid matrix.\",\"invalid_matrix_access\":\"Identifier $0 does not identify a valid matrix.\",\"matrix_column_outbounds_full\":\"Error at line $0: The number of columns $1 is invalid for the matrix $2 which has $3 columns.\",\"matrix_column_outbounds\":\"The number of columns $0 is invalid for the matrix $1 which has $2 columns.\",\"matrix_line_outbounds_full\":\"Error at line $0: The number of lines $1 is invalid for matrix $2 which has $3 lines.\",\"matrix_line_outbounds\":\"The number of lines $0 is invalid for matrix $1 which has $2 lines.\",\"vector_line_outbounds_full\":\"Error at line $0: The number of elements $1 is invalid for vector $2 which has $3 elements.\",\"vector_line_outbounds\":\"Error at line $0: The number of elements $1 is invalid for vector $2 which has $3 elements.\",\"vector_not_matrix_full\":\"Error at line $0: $1 is not a matrix.\",\"vector_not_matrix\":\"$0 is not a matrix.\",\"invalid_infix_op_full\":\"Error at line $0:  The expression $1 is not valid because the operator $2 cannot be applied to the types $3 and $4.\",\"invalid_infix_op\":\"The expression $0 is not valid because the operator $1 cannot be applied to the types $2 and $3.\",\"invalid_unary_op_full\":\"Error at line $0:  The expression $1 is not valid because the operator $2 cannot be applied to the type $3.\",\"invalid_unary_op\":\"The expression $0 is not valid because the operator $1 cannot be applied to the type $2.\",\"unknown_op\":\"Critical error: Unknown operator $0.\",\"duplicate_function\":\"The function $0 at line: $1, column: $2 has already been declared.\",\"duplicate_variable\":\"The variable $0 at line: $1, column: $2 has already been declared.\",\"main_parameters\":\"The main function cannot have parameters.\",\"symbol_not_found_full\":\"The variable $0 at line: $1, column: $2 has not been declared.\",\"symbol_not_found\":\"The variable $0 has not been declared.\",\"array_dimension_not_int_full\":\"The array (vector or matrix) dimensions at line $0 must be of type int.\",\"array_dimension_not_int\":\"An array (vector or matrix) dimensions must be of type int.\",\"array_dimension_not_positive_full\":\"The array (vector or matrix) dimensions at line $0 must be positive.\",\"array_dimension_not_positive\":\"An array (vector or matrix) dimensions must be positive.\",\"incompatible_types_full\":\"It expected $0 but the expression $1 at line $2 results in $3.\",\"incompatible_types\":\"It expected $0 but the expression $1 results in $2.\",\"incompatible_types_array_full\":\"The expression $0 at line $2 is not compatible with type $1.\",\"incompatible_types_array\":\"The expression $0 is not compatible with type $1.\",\"invalid_case_type_full\":\"The case expression $0 at line $1 is not compatible with type $2.\",\"invalid_case_type\":\"The case expression $0 is not compatible with type $1.\",\"function_no_return\":\"The function $0 does not have a reacheable return command. Every function must have at least one return command in its main body.\",\"invalid_array_literal_type_full\":\"Error at line $0: the expression $1 does not result in a compatible type.\",\"invalid_array_literal_type\":\"The expression $0 does not result in a compatible type.\",\"invalid_array_literal_line_full\":\"Error at line $0: it expected $1 lines but found $2.\",\"invalid_array_literal_line\":\"It expected $0 lines but found $1.\",\"invalid_array_literal_column_full\":\"Error at line $0: it expected $1 column but found $2.\",\"invalid_array_literal_column\":\"It expected $0 column but found $1.\",\"exceeded_input_request\":\"The amount of reads requested exceeded the amount of inputs available.\",\"test_case_few_reads\":\"Test case $0 failed: there are available inputs remaining.\",\"test_case_failed\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$1\\\"> <span>Test case $0 did not executed successfully.</span></div>\",\"test_case_failed_exception\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$2\\\"> <span>Test case $0 failed</span>: $1\",\"test_case_exception\":\"An exception has ocurred during the execution of test case $0: $1\",\"invalid_type_conversion\":\"The value $0 cannot be converted to type $1.\",\"invalid_read_type\":\"Error at line $0: The input \\\"$1\\\" is not of type $2 which is the type of the variable <span class='ivprog-error-varname'>$3</span>.\",\"invalid_read_type_array\":\"Error at line $0: The input \\\"$1\\\" is not of type $2 which is the type  accepted by the variable <span class='ivprog-error-varname'>$3</span> of type $4.\",\"inform_valid_identifier\":\"Enter a valid identifier! The identifier cannot be a reserved word and it must begin with a letter or _, followed by numbers, letters and _ only.\",\"inform_valid_global_duplicated\":\"A global variable named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each gloval variable.\",\"inform_valid_variable_duplicated\":\"A variable named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each variable.\",\"inform_valid_function_duplicated\":\"A function named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each function.\",\"inform_valid_param_duplicated\":\"A parameter named <span class='ivprog-error-varname'>$0</span> already exists in function <span class='ivprog-error-varname'>$1</span>, you need distinc names for each parameter.\",\"invalid_character\":\"The character $0 at line $1 cannot be used in this context.\",\"invalid_syntax\":\"iVProg does not recognize the text $0 at line $1. Check for typos or invalid character.\",\"annonymous_array_literal\":\"Error at line $0: the array notation is only permitted during initialization of an array variable. i. e.: int vec[3] ← {1, 2, 3}.\",\"invalid_matrix_literal_line\":\"The expression $0 at line $1 does not have the same number of elements as the last line. All lines of a matrix must have the same number of elements.\",\"cannot_infer_matrix_line\":\"It is not possible to infer the number of lines of matrix $0 at line $1. It must be initialized or have its lines explicitly declared.\",\"cannot_infer_matrix_column\":\"It is not possible to infer the number of columns of matrix $0 at line $1. It must be initialized or have its columns explicitly declared.\",\"cannot_infer_vector_size\":\"It is not possible to infer the number of elements of vector $0 at line $1. It must be initialized or have its size explicitly declard.\",\"matrix_to_vector_literal_attr\":\"Error at line $0: The expression $1 represents a matrix and cannot be assigned to the vector $2.\",\"vector_to_matrix_literal_attr\":\"Error at line $0: The expression $1 represents a vector and cannot be assigned to the matrix $2.\",\"invalid_const_ref_full\":\"The variable $0 provided as a parameter to the function $1 at line $2 is a constant and cannot be used in this context. Use a non-constant variable or vector position.\",\"invalid_const_ref\":\"The variable $0 provided as a parameter to the function $1 is a constant and cannot be used in this context. Use a non-constant variable or vector position.\",\"invalid_const_assignment_full\":\"Error at line $0: $1 is a constant e therefore cannot have its value changed.\",\"invalid_const_assignment\":\"$0 is a constant e therefore cannot have its value changed.\",\"array_init_not_literal\":\"Error at line $0: An array (vector or matrix) can only be initialized by an array literal. i.e : real vector[] <- {1,2,3}\",\"array_exceeds_2d\":\"Error at line $0: The maximum number of dimensions an array can have is 2. An element of 3 or dimensions was found.\",\"invalid_matrix_id_dimension\":\"Error at line $0: You must define all dimensions of the matrix when one of them is defined by a variable! i.e: real mat1[var][5], mat2[5][var]\",\"invalid_vector_init\":\"Error at line $0: You cannot initialize a vector when its size is defined by a variable. Use a vector assignment or loop command.\",\"invalid_matrix_init\":\"Error at line $0: You cannot initialize a matrix when one of its dimensions is defined by a variable. Use a matrix assignment or loop command.\",\"invalid_vector_assignment_full\":\"Error at line $0: You can only assign a vector to another when both have the same number of elements. $1 has $2 and $3 has $4 elements!\",\"invalid_vector_assignment\":\"You can only assign a vector to another when both have the same number of elements. $0 has $1 and $2 has $3 elements!\",\"invalid_matrix_assignment_full\":\"Error at line $0: You can only assign a matrix to another when both have dimensions of the same size. $1 has $2 lines e $3 columns while $4 has $5 lines and $6 columns!\",\"invalid_matrix_assignment\":\"You can only assign a matrix to another when both have dimensions of the same size. $0 has $1 lines e $2 columns while $3 has $4 lines and $5 columns!\",\"matrix_to_vector_attr\":\"Error at line $0: $1 represents a matrix and cannot be assigned to the vector $2.\",\"vector_to_matrix_attr\":\"Error at line $0: $1 represents a vector and cannot be assigned to the matrix $2.\",\"invalid_matrix_index_assign_full\":\"Error at line $0: The position $1 of the matrix $2 only accepts vectors of size $3 but $4 has size $5.\",\"invalid_matrix_index_assign\":\"The position $0 of the matrix $1 only accepts vectors of size $2 but $3 has size $4.\",\"invalid_number_elements_vector\":\"It expected $0 elements at line $1 but the expression $2 has $3 elements.\",\"invalid_number_lines_matrix\":\"It expected a matrix with $0 lines at line $1 but the expression $2 has $3 lines.\",\"divsion_by_zero_full\":\"Error at line $0: The expression $1 resuts in a division by zero.\",\"divsion_by_zero\":\"The expression $0 resuts in a division by zero.\",\"undefined_tanget_value\":\"Error at line $0: The tangent of $1° is undefined.\",\"negative_log_value\":\"Error at line $0: You cannot calculate the logarithm of a negative value.\",\"invalid_string_index\":\"Error at line $0 during the execution of the function $1: $2 is an invalid index for the text string $3. The valid indexes go from 0 to $4.\",\"negative_sqrt_value\":\"Error at line $0: It is not allowd to calculate the square root of a negative number.\",\"exceeded_recursive_calls\":\"Error during the execution of line $0: The number of recursive calls exceeded the allowed number of calls.\",\"invalid_for_variable\":\"Error at line $0: The variable $1 used in the repeat_for command must be of type int.\",\"invalid_for_from\":\"Error at line $0: The value $1 passed to the parameter 'from' of the repeat_for command must be of type int.\",\"invalid_for_to\":\"Error at line $0: The value $1 passed to the parameter 'to' of the repeat_for command must be of type int.\",\"invalid_for_pass\":\"Error at line $0: The value $1 passed to the parameter 'pass' of the repeat_for command must be of type int.\",\"exceed_max_instructions\":\"The number of instructions executed by your program exceed the defined limit. Check your code for infinite loops or excessive recursive functions calls.\"},\"es\":{\"token_missing_one\":\"Syntax error: Expected $0 but found $1 at line:$2, column:$3\",\"token_missing_two\":\"Syntax error: Expected $0 or $1 but found $2 at line:$3, column: $4\",\"eos_missing\":\"A new line or a ‘;’ is missing at line: $0, column: $1\",\"invalid_type\":\"$0 at line: $1, column: $2 is a invalid type. The valid types are: $3\",\"invalid_array_dimension\":\"Invalid dimension at line: $0, column: $1. Insert a $2 or a valid identifier of the same type.\",\"invalid_array_size\":\"The array at line $0 exceeds the maximum size of 2.\",\"extra_lines\":\"No text is allowed after '}' in 'program { … }'\",\"invalid_main_return\":\"The function $0 declared at line $2 must return $1.\",\"invalid_var_declaration\":\"Error at line $0: Variables can only be declared in the main body of a function and at the first lines, before any command.\",\"invalid_break_command\":\"Error at line $0. The command $1 cannot be used outside a loop command or ‘switch ...case’ structure.\",\"invalid_terminal\":\"It is not possible to use $0 in the expression at line: $1, column: $2. Try a numeric value, variable or function call.\",\"const_not_init\":\"Error at line: $0, column: $1. A variable declared as const must be initialized.\",\"id_missing\":\"Expected an identifier but found $0 at line: $1, column: $2.\",\"invalid_id_format\":\"$0 at line: $1, column: $2 is not a valid identifier. The symbol '.' is not permitted in this context.\",\"main_missing\":\"The main function was not found. You need to declare a function of return type void named main.\",\"invalid_global_var\":\"Critical Error: Invalid call of the function IVProgProcessor.initGlobal outside the BASE context.\",\"not_implemented\":\"Critial internal error: The system defined function $0 was not found.\",\"function_missing\":\"The function $0 was not found.\",\"function_missing_full\":\"The function $0 at line: $1, column: $2 was not found.\",\"invalid_parameters_size_full\":\"Error at line $0: The number of parameters provided to the function $1 is incorrect. It expected $2 but found $3.\",\"invalid_parameters_size\":\"The number of parameters provided to the function $0 is incorrect. It expected $1 but found $2.\",\"invalid_ref_full\":\"The expression $0 provided as a parameter to the function $1 at line $2 is not valid in this context. Use a variable or a position of a vector.\",\"invalid_ref\":\"The expression $0 provided as a parameter to the function $1 is not valid in this context. Use a variable or a position of a vector.\",\"invalid_parameter_type_full\":\"The expression $0 provided as a parameter to the function $1 at line $2 is not of the expected type.\",\"invalid_parameter_type\":\"The expression $0 provided as a parameter to the function $1 is not of the expected type.\",\"unknown_command_full\":\"Internal error: an unknown command found at line $0.\",\"unknown_command\":\"Internal error: an unknown command found.\",\"loop_condition_type_full\":\"Error at line: $0, column $1: the condition $2 of the loop must be of type bool (true or false).\",\"loop_condition_type\":\"The condition $0 of the loop must be of type bool (true or false).\",\"endless_loop_full\":\"Possible infinite loop detected in your code. Check line $0.\",\"endless_loop\":\"Possible infinite loop detected in your code.\",\"for_condition_type_full\":\"Erro na linha: $0, coluna $1: a condição de parada $2 do comando para(...) deve ser do tipo lógico\",\"for_condition_type\":\"A condição de parada $0 do comando para(...) deve ser do tipo lógico\",\"if_condition_type_full\":\"Error at line: $0, column $1: the condition $2 in the if … else command must result in a bool (true or false).\",\"if_condition_type\":\"The condition $0 in the if … else command must result in a bool (true or false).\",\"invalid_return_type_full\":\"Error at line $0: The expression doest not result in a type compatible with the function $1.  Expected type: $2.\",\"invalid_return_type\":\"The expression doest not result in a type compatible with the function $0.  Expected type: $1.\",\"invalid_void_return_full\":\"Error at line $0: The function $1 cannot return an empty expression, use an expression that results in a $2\",\"invalid_void_return\":\"The function $0 cannot return an empty expression, use an expression that results in a $1\",\"unexpected_break_command_full\":\"Critical error at line $0:  a break command was found outside a valid context: loop or switch … case structure.\",\"unexpected_break_command\":\"Critical error:  a break command was found outside a valid context: loop or switch … case structure.\",\"invalid_dimension\":\"Array (vector or matrix) dimensions must be of type int.\",\"void_in_expression_full\":\"Error at line: $0, column: $1: The function $2 cannot be used inside an expression since its return type is void.\",\"void_in_expression\":\"The function $0 cannot be used inside an expression since its return type is void.\",\"invalid_array_access_full\":\"Identifier $0 at line: $1, column: $2 does not identify a valid vector or matrix.\",\"invalid_array_access\":\"Identifier $0 does not identify a valid vector or matrix.\",\"invalid_matrix_access_full\":\"Identifier $0 at line: $1, column: $2 does not identify a valid matrix.\",\"invalid_matrix_access\":\"Identifier $0 does not identify a valid matrix.\",\"matrix_column_outbounds_full\":\"Error at line $0: The number of columns $1 is invalid for the matrix $2 which has $3 columns.\",\"matrix_column_outbounds\":\"The number of columns $0 is invalid for the matrix $1 which has $2 columns.\",\"matrix_line_outbounds_full\":\"Error at line $0: The number of lines $1 is invalid for matrix $2 which has $3 lines.\",\"matrix_line_outbounds\":\"The number of lines $0 is invalid for matrix $1 which has $2 lines.\",\"vector_line_outbounds_full\":\"Error at line $0: The number of elements $1 is invalid for vector $2 which has $3 elements.\",\"vector_line_outbounds\":\"Error at line $0: The number of elements $1 is invalid for vector $2 which has $3 elements.\",\"vector_not_matrix_full\":\"Error at line $0: $1 is not a matrix.\",\"vector_not_matrix\":\"$0 is not a matrix.\",\"invalid_infix_op_full\":\"Error at line $0:  The expression $1 is not valid because the operator $2 cannot be applied to the types $3 and $4.\",\"invalid_infix_op\":\"The expression $0 is not valid because the operator $1 cannot be applied to the types $2 and $3.\",\"invalid_unary_op_full\":\"Error at line $0:  The expression $1 is not valid because the operator $2 cannot be applied to the type $3.\",\"invalid_unary_op\":\"The expression $0 is not valid because the operator $1 cannot be applied to the type $2.\",\"unknown_op\":\"Critical error: Unknown operator $0.\",\"duplicate_function\":\"The function $0 at line: $1, column: $2 has already been declared.\",\"duplicate_variable\":\"The variable $0 at line: $1, column: $2 has already been declared.\",\"main_parameters\":\"The main function cannot have parameters.\",\"symbol_not_found_full\":\"The variable $0 at line: $1, column: $2 has not been declared.\",\"symbol_not_found\":\"The variable $0 has not been declared.\",\"array_dimension_not_int_full\":\"The array (vector or matrix) dimensions at line $0 must be of type int.\",\"array_dimension_not_int\":\"An array (vector or matrix) dimensions must be of type int.\",\"array_dimension_not_positive_full\":\"The array (vector or matrix) dimensions at line $0 must be positive.\",\"array_dimension_not_positive\":\"An array (vector or matrix) dimensions must be positive.\",\"incompatible_types_full\":\"It expected $0 but the expression $1 at line $2 results in $3.\",\"incompatible_types\":\"It expected $0 but the expression $1 results in $2.\",\"incompatible_types_array_full\":\"The expression $0 at line $2 is not compatible with type $1.\",\"incompatible_types_array\":\"The expression $0 is not compatible with type $1.\",\"invalid_case_type_full\":\"The case expression $0 at line $1 is not compatible with type $2.\",\"invalid_case_type\":\"The case expression $0 is not compatible with type $1.\",\"function_no_return\":\"The function $0 does not have a reacheable return command. Every function must have at least one return command in its main body.\",\"invalid_array_literal_type_full\":\"Error at line $0: the expression $1 does not result in a compatible type.\",\"invalid_array_literal_type\":\"The expression $0 does not result in a compatible type.\",\"invalid_array_literal_line_full\":\"Error at line $0: it expected $1 lines but found $2.\",\"invalid_array_literal_line\":\"It expected $0 lines but found $1.\",\"invalid_array_literal_column_full\":\"Error at line $0: it expected $1 column but found $2.\",\"invalid_array_literal_column\":\"It expected $0 column but found $1.\",\"exceeded_input_request\":\"The amount of reads requested exceeded the amount of inputs available.\",\"test_case_few_reads\":\"Test case $0 failed: there are available inputs remaining.\",\"test_case_failed\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$1\\\"> <span>Test case $0 did not executed successfully.</span></div>\",\"test_case_failed_exception\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$2\\\"> <span>Test case $0 failed</span>: $1\",\"test_case_exception\":\"An exception has ocurred during the execution of test case $0: $1\",\"invalid_type_conversion\":\"The value $0 cannot be converted to type $1.\",\"invalid_read_type\":\"Error at line $0: The input \\\"$1\\\" is not of type $2 which is the type of the variable <span class='ivprog-error-varname'>$3</span>.\",\"invalid_read_type_array\":\"Error at line $0: The input \\\"$1\\\" is not of type $2 which is the type  accepted by the variable <span class='ivprog-error-varname'>$3</span> of type $4.\",\"inform_valid_identifier\":\"Enter a valid identifier! The identifier cannot be a reserved word and it must begin with a letter or _, followed by numbers, letters and _ only.\",\"inform_valid_global_duplicated\":\"A global variable named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each gloval variable.\",\"inform_valid_variable_duplicated\":\"A variable named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each variable.\",\"inform_valid_function_duplicated\":\"A function named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each function.\",\"inform_valid_param_duplicated\":\"A parameter named <span class='ivprog-error-varname'>$0</span> already exists in function <span class='ivprog-error-varname'>$1</span>, you need distinc names for each parameter.\",\"invalid_character\":\"The character $0 at line $1 cannot be used in this context.\",\"invalid_syntax\":\"iVProg does not recognize the text $0 at line $1. Check for typos or invalid character.\",\"annonymous_array_literal\":\"Error at line $0: the array notation is only permitted during initialization of an array variable. i. e.: int vec[3] ← {1, 2, 3}.\",\"invalid_matrix_literal_line\":\"The expression $0 at line $1 does not have the same number of elements as the last line. All lines of a matrix must have the same number of elements.\",\"cannot_infer_matrix_line\":\"It is not possible to infer the number of lines of matrix $0 at line $1. It must be initialized or have its lines explicitly declared.\",\"cannot_infer_matrix_column\":\"It is not possible to infer the number of columns of matrix $0 at line $1. It must be initialized or have its columns explicitly declared.\",\"cannot_infer_vector_size\":\"It is not possible to infer the number of elements of vector $0 at line $1. It must be initialized or have its size explicitly declard.\",\"matrix_to_vector_literal_attr\":\"Error at line $0: The expression $1 represents a matrix and cannot be assigned to the vector $2.\",\"vector_to_matrix_literal_attr\":\"Error at line $0: The expression $1 represents a vector and cannot be assigned to the matrix $2.\",\"invalid_const_ref_full\":\"The variable $0 provided as a parameter to the function $1 at line $2 is a constant and cannot be used in this context. Use a non-constant variable or vector position.\",\"invalid_const_ref\":\"The variable $0 provided as a parameter to the function $1 is a constant and cannot be used in this context. Use a non-constant variable or vector position.\",\"invalid_const_assignment_full\":\"Error at line $0: $1 is a constant e therefore cannot have its value changed.\",\"invalid_const_assignment\":\"$0 is a constant e therefore cannot have its value changed.\",\"array_init_not_literal\":\"Error at line $0: An array (vector or matrix) can only be initialized by an array literal. i.e : real vector[] <- {1,2,3}\",\"array_exceeds_2d\":\"Error at line $0: The maximum number of dimensions an array can have is 2. An element of 3 or dimensions was found.\",\"invalid_matrix_id_dimension\":\"Error at line $0: You must define all dimensions of the matrix when one of them is defined by a variable! i.e: real mat1[var][5], mat2[5][var]\",\"invalid_vector_init\":\"Error at line $0: You cannot initialize a vector when its size is defined by a variable. Use a vector assignment or loop command.\",\"invalid_matrix_init\":\"Error at line $0: You cannot initialize a matrix when one of its dimensions is defined by a variable. Use a matrix assignment or loop command.\",\"invalid_vector_assignment_full\":\"Error at line $0: You can only assign a vector to another when both have the same number of elements. $1 has $2 and $3 has $4 elements!\",\"invalid_vector_assignment\":\"You can only assign a vector to another when both have the same number of elements. $0 has $1 and $2 has $3 elements!\",\"invalid_matrix_assignment_full\":\"Error at line $0: You can only assign a matrix to another when both have dimensions of the same size. $1 has $2 lines e $3 columns while $4 has $5 lines and $6 columns!\",\"invalid_matrix_assignment\":\"You can only assign a matrix to another when both have dimensions of the same size. $0 has $1 lines e $2 columns while $3 has $4 lines and $5 columns!\",\"matrix_to_vector_attr\":\"Error at line $0: $1 represents a matrix and cannot be assigned to the vector $2.\",\"vector_to_matrix_attr\":\"Error at line $0: $1 represents a vector and cannot be assigned to the matrix $2.\",\"invalid_matrix_index_assign_full\":\"Error at line $0: The position $1 of the matrix $2 only accepts vectors of size $3 but $4 has size $5.\",\"invalid_matrix_index_assign\":\"The position $0 of the matrix $1 only accepts vectors of size $2 but $3 has size $4.\",\"invalid_number_elements_vector\":\"It expected $0 elements at line $1 but the expression $2 has $3 elements.\",\"invalid_number_lines_matrix\":\"It expected a matrix with $0 lines at line $1 but the expression $2 has $3 lines.\",\"divsion_by_zero_full\":\"Error at line $0: The expression $1 resuts in a division by zero.\",\"divsion_by_zero\":\"The expression $0 resuts in a division by zero.\",\"undefined_tanget_value\":\"Error at line $0: The tangent of $1° is undefined.\",\"negative_log_value\":\"Error at line $0: You cannot calculate the logarithm of a negative value.\",\"invalid_string_index\":\"Error at line $0 during the execution of the function $1: $2 is an invalid index for the text string $3. The valid indexes go from 0 to $4.\",\"negative_sqrt_value\":\"Error at line $0: It is not allowd to calculate the square root of a negative number.\",\"exceeded_recursive_calls\":\"Error during the execution of line $0: The number of recursive calls exceeded the allowed number of calls.\",\"invalid_for_variable\":\"Error at line $0: The variable $1 used in the repeat_for command must be of type int.\",\"invalid_for_from\":\"Error at line $0: The value $1 passed to the parameter 'from' of the repeat_for command must be of type int.\",\"invalid_for_to\":\"Error at line $0: The value $1 passed to the parameter 'to' of the repeat_for command must be of type int.\",\"invalid_for_pass\":\"Error at line $0: The value $1 passed to the parameter 'pass' of the repeat_for command must be of type int.\",\"exceed_max_instructions\":\"The number of instructions executed by your program exceed the defined limit. Check your code for infinite loops or excessive recursive functions calls.\"}}","module.exports = {\"pt\":{\"test_case_success\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$1\\\"><span>Caso de teste $0</span>: OK</div>\",\"test_case_duration\":\"Levou $0ms\",\"test_suite_grade\":\"A sua solução alcançou $0% da nota.\",\"awaiting_input_message\":\"O seu programa está em execução e aguardando uma entrada! Digite algo e pressione ENTER...\",\"assessment-empty-expected-tooltip\":\"A saída gerada foi além do esperado\",\"assessment-empty-generated-tooltip\":\"O programa não gerou saídas suficientes\",\"testcase_autogen_unused_input\":\"A solução submetida não lê todas entradas disponíveis no caso de teste 1\",\"testcase_autogen_empty\":\"Sua solução não gerou qualquer saída para o caso de teste $0.\",\"success_execution\":\"Execução do programa finalizada!\",\"aborted_execution\":\"A execução do programa foi interrompida!\",\"unexpected_execution_error\":\"Erro inesperado durante a execução do programa.\"},\"en\":{\"test_case_success\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$1\\\"><span>Test case $0</span>: OK</div>\",\"test_case_duration\":\"Took $0ms\",\"test_suite_grade\":\"Your solution scored $0% of the grade.\",\"awaiting_input_message\":\"Your program is running and awaiting for an input. Type something and press ENTER…\",\"assessment-empty-expected-tooltip\":\"The generated output was beyond the amount expected\",\"assessment-empty-generated-tooltip\":\"The program did not generate enough outputs\",\"testcase_autogen_unused_input\":\"The submitted solution does not read all inputs available in the test case $0\",\"testcase_autogen_empty\":\"Your solution did not generate any output for test case $0.\",\"success_execution\":\"Program execution finished!\",\"aborted_execution\":\"Program execution was aborted!\",\"unexpected_execution_error\":\"Unexpected error during program execution.\"},\"es\":{\"test_case_success\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$1\\\"><span>Test case $0</span>: OK</div>\",\"test_case_duration\":\"Tardó $0ms\",\"test_suite_grade\":\"Su solución obtuvo $0% de la calificación.\",\"awaiting_input_message\":\"Su programa se está ejecutando y esperando una entrada. Escriba algo y presione ENTER ...\",\"assessment-empty-expected-tooltip\":\"The generated output was beyond the amount expected\",\"assessment-empty-generated-tooltip\":\"El programa no generó suficientes resultados.\",\"testcase_autogen_unused_input\":\"La solución presentada no lee todas las entradas disponibles en el caso de prueba 1\",\"testcase_autogen_empty\":\"Su solución no generó ningún resultado para el caso de prueba de $ 0.\",\"success_execution\":\"¡Ejecución del programa terminada!\",\"aborted_execution\":\"¡La ejecución del programa fue abortada!\",\"unexpected_execution_error\":\"Error inesperado durante la ejecución del programa.\"}}","module.exports = {\"pt\":{\"function\":\"funcao\",\"btn_clear\":\"Limpar\",\"btn_function\":\"Função\",\"btn_arithmetic_plus\":\"Adição\",\"btn_arithmetic_minus\":\"Subtração\",\"btn_arithmetic_multiplication\":\"Multiplicação\",\"btn_arithmetic_division\":\"Divisão\",\"btn_arithmetic_module\":\"Módulo\",\"btn_break\":\"Pare\",\"btn_case\":\"Caso\",\"btn_add_var\":\"Adicionar variável\",\"btn_drag_and_drop_function\":\"Mover função\",\"btn_delete_function\":\"Excluir função\",\"expression_invalid\":\"Expressão inválida. Verifique a sintáxe antes de continuar.\",\"expression_undelcared_variable\":\"Variáveis não declaradas:\",\"expression_undeclared_function\":\"Funções não definidas:\",\"start\":\"inicio\",\"type_void\":\"vazio\",\"type_integer\":\"inteiro\",\"logic_operator_and\":\"E\",\"logic_operator_or\":\"OU\",\"logic_operator_not\":\"nao\",\"type_real\":\"real\",\"program\":\"programa\",\"type_text\":\"cadeia\",\"textvar_default_value\":\"texto\",\"type_boolean\":\"logico\",\"logic_value_true\":\"verdadeiro\",\"logic_value_false\":\"falso\",\"variable\":\"Variável\",\"command\":\"Comando\",\"new_parameter\":\"parametro\",\"new_variable\":\"variavel\",\"new_global\":\"global\",\"new_function\":\"nova_funcao\",\"matrix\":\"matriz\",\"vector\":\"vetor\",\"text_lock_expression\":\"Bloquear expressão\",\"text_unlock_expression\":\"Desbloquear expressão\",\"text_edit_expression\":\"Editar expressão manualmente\",\"text_edit_expression_confirm\":\"Confirmar edição\",\"text_edit_expression_cancel\":\"Cancelar edição\",\"text_add_function\":\"Adicionar uma nova função ao programa\",\"text_move_command\":\"Mover comando\",\"text_add_parameters\":\"Adicionar um novo parâmetro\",\"text_parameter_reference\":\"Definir parâmetro como passagem por referência\",\"text_parameter_copy\":\"Definir parâmetro como passagem por cópia\",\"text_comment_start\":\"Comentário inicial da função...\",\"text_comment_main\":\"Esta é a função principal...\",\"text_read_var\":\"Entrada/Leitura de dados\",\"text_write_var\":\"Saída/Escrita de dados\",\"text_command_read\":\"leia\",\"text_command_write\":\"escreva\",\"text_return\":\"devolva\",\"text_btn_return\":\"Devolver\",\"text_comment\":\"Comentário\",\"string_join_or\":\"ou\",\"matrix_info_string\":\"matriz de $0\",\"vector_info_string\":\"vetor de $0\",\"text_attribution\":\"Atribuição\",\"text_if\":\"se\",\"text_break\":\"pare\",\"text_else\":\"senao\",\"text_for\":\"repita_para\",\"text_code_while\":\"repita_enquanto\",\"text_code_do\":\"repita\",\"text_code_do_until\":\"ate_que\",\"text_command_do\":\"repita\",\"text_command_while\":\"repita enquanto\",\"text_command_do_until\":\"até que\",\"text_code_switch\":\"escolha\",\"text_code_case\":\"caso\",\"text_config_programming\":\"Programação\",\"text_config_programming_both\":\"Visual e textual\",\"text_config_programming_textual\":\"Textual\",\"text_config_programming_visual\":\"Visual\",\"text_logic_expression\":\"Lógicos\",\"text_arithmetic_expression\":\"Aritméticos\",\"text_iftrue\":\"Se condição senão\",\"text_message_error_activity_file\":\"Aconteceu um erro ao processar a atividade. <br> Recarregue a página para tentar novamente.\",\"text_message_error_upload_file\":\"Não foi possível carregar o arquivo.<br>Verifique o conteúdo do arquivo e tente novamente.\",\"text_message_error_upload_close\":\"Fechar\",\"text_message_error_activity_reload\":\"Recarregar\",\"text_repeatNtimes\":\"Repita N vezes\",\"text_receives\":\"recebe\",\"text_whiletrue\":\"Enquanto verdadeiro\",\"text_dowhiletrue\":\"Repita até que verdadeiro\",\"text_switch\":\"Escolha\",\"text_functioncall\":\"Chamada de função\",\"text_value\":\"Valor\",\"text_operator\":\"Operador\",\"text_parentheses\":\"Parênteses\",\"text_change\":\"Alterar\",\"text_teacher_algorithm\":\"Algoritmo\",\"text_teacher_algorithm_include\":\"Incluir o algoritmo abaixo no exercício\",\"text_teacher_test_case\":\"Casos de teste\",\"text_teacher_config\":\"Configurações\",\"text_teacher_data_types\":\"Tipos de dados\",\"text_teacher_commands\":\"Comandos\",\"text_teacher_functions\":\"Funções\",\"text_teacher_create_functions\":\"Criar novas funções\",\"text_teacher_create_movement_functions\":\"Movimentar funções\",\"text_teacher_test_case_input\":\"Entrada\",\"text_teacher_test_case_output\":\"Saída\",\"text_teacher_test_case_actions\":\"Ações\",\"text_teacher_test_case_add\":\"Adicionar caso de teste\",\"text_header_ivprog_functions\":\"Funções do iVProg\",\"text_menu_functions_math\":\"Matemática\",\"text_menu_functions_text\":\"Texto\",\"text_menu_functions_array\":\"Arranjo\",\"text_menu_functions_conversion\":\"Conversão\",\"text_no_variable\":\"Nenhuma variável declarada\",\"text_no_variable_instruction\":\"Antes de utilizar uma variável, é necessário criá-la\",\"text_ivprog_description\":\"Programação Visual interativa na Internet\",\"tooltip_visual\":\"Programação visual\",\"tooltip_textual\":\"Programação textual\",\"tooltip_upload\":\"Upload de código fonte\",\"tooltip_download\":\"Download do código fonte\",\"tooltip_undo\":\"Desfazer\",\"tooltip_redo\":\"Refazer\",\"tooltip_run\":\"Executar o programa\",\"tooltip_evaluate\":\"Avaliar o programa\",\"tooltip_help\":\"Ajuda\",\"tooltip_add_global\":\"Adicionar variável global\",\"tooltip_hide_function\":\"Ocultar os elementos da função\",\"var_menu_select_var\":\"Selecione uma variável\",\"var_menu_select_all\":\"Selecione\",\"var_menu_select_function\":\"Selecione uma função\",\"expression_menu_select\":\"Construir uma expressão lógica\",\"inform_valid_content\":\"Informe o conteúdo!\",\"inform_valid_expression\":\"Construa uma expressão lógica!\",\"tooltip_terminal_clear\":\"Limpa o terminal removendo todos os textos já escritos e os pendentes.\",\"tooltip_terminal_show\":\"Exibe o terminal caso esteja escondido\",\"tooltip_terminal_hide\":\"Esconde o terminal caso não esteja escondido\",\"tooltip_menu_read\":\"Comando para receber dados pelo teclado\",\"tooltip_menu_write\":\"Comando para apresentar conteúdo ao usuário\",\"tooltip_menu_comments\":\"Bloco para comentários internos do programador\",\"tooltip_menu_attribution\":\"Comando para atribuir uma expressão a uma variável\",\"tooltip_menu_call_function\":\"Comando para realizar a chamada de uma função\",\"tooltip_menu_if_else\":\"Estrutura para que os comandos só sejam executados de acordo com as condições estabelecidas\",\"tooltip_menu_repeat_n_times\":\"Estrutura para executar um bloco de comandos repetidamente\",\"tooltip_menu_repeat_whiletrue\":\"Estrutura para repetir um bloco de comandos enquanto a condição for verdadeira\",\"tooltip_menu_repeat_dowhiletrue\":\"Estrutura que executa um bloco e o repete enquanto a condição for verdadeira\",\"tooltip_menu_repeat_switch\":\"Estrutura de escolha do bloco a ser executado\",\"tooltip_menu_repeat_return\":\"Comando para devolver o resultado e finalizar a função\",\"tooltip_move_var\":\"Mover variável\",\"tooltip_remove_var\":\"Excluir variável\",\"text_ivprog_version\":\"Versão\",\"text_teacher_filter\":\"Filtro\",\"text_teacher_filter_active\":\"Ativado\",\"text_teacher_filter_help\":\"Ao ativar o filtro, as modificações do iVProg estarão bloqueadas.\",\"text_join_assessment_outputs\":\" ; \",\"assessment-detail-time-label\":\"Duração\",\"assessment-detail-grade-label\":\"Nota\",\"assessment-detail-input-label\":\"Entradas\",\"assessment-detail-output-label\":\"Saídas\",\"assessment-detail-expected-label\":\"Esperava\",\"assessment-detail-generated-label\":\"Gerou\",\"assessment-detail-result-label\":\"Correção\",\"assessment-detail-title\":\"Caso de Teste $0\",\"text_teacher_generate_outputs\":\"Gerar saídas\",\"text_teacher_generate_outputs_algorithm\":\"Antes de gerar as saídas, elabore um algoritmo!\",\"text_code_for_from\":\"de\",\"text_code_for_to\":\"ate\",\"text_code_for_pass\":\"passo\",\"text_for_from\":\"de\",\"text_for_to\":\"até\",\"text_for_pass\":\"passo\",\"text_relational_expression\":\"Relacionais\",\"write_command_newline_on\":\"Quebra de linha ativada\",\"write_command_newline_off\":\" Quebra de linha desativada\",\"write_seprator_menu_text\":\"Espaço\",\"initial_program_code\":\"programa {\\\\n\\\\n\\\\t\\\\tfuncao vazio inicio () {\\\\n\\\\t\\\\t\\\\t// Inicie seu codigo aqui!\\\\n\\\\t\\\\t}\\\\n}\",\"type_char\":\"caractere\",\"charvar_default_value\":\"A\",\"write_seprator_menu_tooltip\":\"Separador para imprimir mais valores/variáveis\"},\"en\":{\"function\":\"function\",\"btn_clear\":\"Clean\",\"btn_function\":\"Function\",\"btn_arithmetic_plus\":\"Addition\",\"btn_arithmetic_minus\":\"Subtraction\",\"btn_arithmetic_multiplication\":\"Multiplication\",\"btn_arithmetic_division\":\"Division\",\"btn_arithmetic_module\":\"Remainder\",\"btn_break\":\"break\",\"btn_case\":\"Case\",\"btn_add_var\":\"Add a variable\",\"btn_drag_and_drop_function\":\"Move function\",\"btn_delete_function\":\"Delete function\",\"expression_invalid\":\"Invalid expression. Check the syntax before proceeding.\",\"expression_undelcared_variable\":\"Undeclared variables:\",\"expression_undeclared_function\":\"Undefined functions:\",\"start\":\"main\",\"type_void\":\"void\",\"type_integer\":\"int\",\"logic_operator_and\":\"AND\",\"logic_operator_or\":\"OR\",\"logic_operator_not\":\"not\",\"type_real\":\"real\",\"program\":\"program\",\"type_text\":\"string\",\"textvar_default_value\":\"text\",\"type_boolean\":\"bool\",\"logic_value_true\":\"true\",\"logic_value_false\":\"false\",\"variable\":\"Variable\",\"command\":\"Command\",\"new_parameter\":\"parameter\",\"new_variable\":\"variable\",\"new_global\":\"global\",\"new_function\":\"new_function\",\"matrix\":\"matrix\",\"vector\":\"vector\",\"text_lock_expression\":\"Block expression\",\"text_unlock_expression\":\"Unlock expression\",\"text_edit_expression\":\"Edit expression manually\",\"text_edit_expression_confirm\":\"Confirm edition\",\"text_edit_expression_cancel\":\"Cancel edition\",\"text_add_function\":\"Add a new function to the program\",\"text_move_command\":\"Move command\",\"text_add_parameters\":\"Add a new parameter\",\"text_parameter_reference\":\"Define parameter passed by reference\",\"text_parameter_copy\":\"Define parameter passed by copy\",\"text_comment_start\":\"Function initial comment\",\"text_comment_main\":\"This is the main funcion\",\"text_read_var\":\"Input/Read data\",\"text_write_var\":\"Output/Write data\",\"text_command_read\":\"read\",\"text_command_write\":\"write\",\"text_return\":\"return\",\"text_btn_return\":\"Return\",\"text_comment\":\"Comment\",\"string_join_or\":\"or\",\"matrix_info_string\":\"matrix of $0\",\"vector_info_string\":\"vector of $0\",\"text_attribution\":\"Assignment\",\"text_if\":\"if\",\"text_break\":\"break\",\"text_else\":\"else\",\"text_for\":\"repeat_for\",\"text_code_while\":\"repeat_while\",\"text_code_do\":\"repeat\",\"text_code_do_until\":\"until\",\"text_command_do\":\"repeat\",\"text_command_while\":\"repeat while\",\"text_command_do_until\":\"until\",\"text_code_switch\":\"switch\",\"text_code_case\":\"case\",\"text_config_programming\":\"Programming\",\"text_config_programming_both\":\"Visual & Textual\",\"text_config_programming_textual\":\"Textual\",\"text_config_programming_visual\":\"Visual\",\"text_logic_expression\":\"Logic\",\"text_arithmetic_expression\":\"Arithmetics\",\"text_iftrue\":\"If condition else\",\"text_message_error_activity_file\":\"There was an error processing the activity.<br> Reload the page to try again.\",\"text_message_error_upload_file\":\"It was not possible upload the file.<br>Verify the file's content and try again.\",\"text_message_error_upload_close\":\"Close\",\"text_message_error_activity_reload\":\"Reload\",\"text_repeatNtimes\":\"Repeat N times\",\"text_receives\":\"receives\",\"text_whiletrue\":\"While true\",\"text_dowhiletrue\":\"Repeat until true\",\"text_switch\":\"Switch\",\"text_functioncall\":\"Function call\",\"text_value\":\"Value\",\"text_operator\":\"Operator\",\"text_parentheses\":\"Parentheses\",\"text_change\":\"Modify\",\"text_teacher_algorithm\":\"Algorithm\",\"text_teacher_algorithm_include\":\"Include the algorithm below in the activity\",\"text_teacher_test_case\":\"Test cases\",\"text_teacher_config\":\"Configurations\",\"text_teacher_data_types\":\"Data types\",\"text_teacher_commands\":\"Commands\",\"text_teacher_functions\":\"Functions\",\"text_teacher_create_functions\":\"Create new functions\",\"text_teacher_create_movement_functions\":\"Move functions\",\"text_teacher_test_case_input\":\"Input\",\"text_teacher_test_case_output\":\"Output\",\"text_teacher_test_case_actions\":\"Actions\",\"text_teacher_test_case_add\":\"Add test case\",\"text_header_ivprog_functions\":\"iVProg Functions\",\"text_menu_functions_math\":\"Math\",\"text_menu_functions_text\":\"Text\",\"text_menu_functions_array\":\"Array\",\"text_menu_functions_conversion\":\"Conversion\",\"text_no_variable\":\"No variable declared\",\"text_no_variable_instruction\":\"Before using a variable, you need to create it\",\"text_ivprog_description\":\"Interactive and Visual Programming on the Internet\",\"tooltip_visual\":\"Visual programming\",\"tooltip_textual\":\"Textual programming\",\"tooltip_upload\":\"Upload source code\",\"tooltip_download\":\"Download source code\",\"tooltip_undo\":\"Undo\",\"tooltip_redo\":\"Redo\",\"tooltip_run\":\"Run the program\",\"tooltip_evaluate\":\"Evaluate the program\",\"tooltip_help\":\"Help\",\"tooltip_add_global\":\"Add a global variable\",\"tooltip_hide_function\":\"Hide function elements\",\"var_menu_select_var\":\"Select a variable\",\"var_menu_select_all\":\"Select\",\"var_menu_select_function\":\"Select a function\",\"expression_menu_select\":\"Construct a logic expression\",\"inform_valid_content\":\"Provide some data\",\"inform_valid_expression\":\"Construct a logic expression\",\"tooltip_terminal_clear\":\"Clears the terminal by removing all wrriten and pending text.\",\"tooltip_terminal_show\":\"Shows the terminal if it is hidden\",\"tooltip_terminal_hide\":\"Hides the terminal if it is not on display\",\"tooltip_menu_read\":\"Command to input data from keyboard\",\"tooltip_menu_write\":\"Command to present content to user\",\"tooltip_menu_comments\":\"Block to comments from developer\",\"tooltip_menu_attribution\":\"Command to assign an expression to a variable\",\"tooltip_menu_call_function\":\"Command to execute a function call\",\"tooltip_menu_if_else\":\"Structure in which command only run when the conditions are satisfied\",\"tooltip_menu_repeat_n_times\":\"Structure to execute a block of commands repeatedly\",\"tooltip_menu_repeat_whiletrue\":\"Structure to execute a block repeatdly while condition is true\",\"tooltip_menu_repeat_dowhiletrue\":\"Structure that executes a block and repeat while the condition is true\",\"tooltip_menu_repeat_switch\":\"Structure that choices the block to be executed\",\"tooltip_menu_repeat_return\":\"Command to return the result and finish the function\",\"tooltip_move_var\":\"Move variable\",\"tooltip_remove_var\":\"Delete variable\",\"text_ivprog_version\":\"Version\",\"text_teacher_filter\":\"Filter\",\"text_teacher_filter_active\":\"Activated\",\"text_teacher_filter_help\":\"By activating the filter modifications in iVProg will be blocked\",\"text_join_assessment_outputs\":\" ; \",\"assessment-detail-time-label\":\"Duration\",\"assessment-detail-grade-label\":\"Grade\",\"assessment-detail-input-label\":\"Inputs\",\"assessment-detail-output-label\":\"Outputs\",\"assessment-detail-expected-label\":\"Expected\",\"assessment-detail-generated-label\":\"Generated\",\"assessment-detail-result-label\":\"Correction\",\"assessment-detail-title\":\"Test Case $0\",\"text_teacher_generate_outputs\":\"Generate outputs\",\"text_teacher_generate_outputs_algorithm\":\"Before generating the outputs you need to create an algorithm\",\"text_code_for_from\":\"from\",\"text_code_for_to\":\"to\",\"text_code_for_pass\":\"pass\",\"text_for_from\":\"from\",\"text_for_to\":\"to\",\"text_for_pass\":\"pass\",\"text_relational_expression\":\"Relational\",\"write_command_newline_on\":\" Line break is on\",\"write_command_newline_off\":\" Line break is off\",\"write_seprator_menu_text\":\"Spacer\",\"initial_program_code\":\"program {\\\\n\\\\n\\\\t\\\\tfunction void main () {\\\\n\\\\t\\\\t\\\\t// Start your code here!\\\\n\\\\t\\\\t}\\\\n}\",\"type_char\":\"char\",\"charvar_default_value\":\"A\",\"write_seprator_menu_tooltip\":\"Separator used to print more values/variables\"},\"es\":{\"function\":\"function\",\"btn_clear\":\"Limpiar\",\"btn_function\":\"Funcíon\",\"btn_arithmetic_plus\":\"Adición\",\"btn_arithmetic_minus\":\"Sustracción\",\"btn_arithmetic_multiplication\":\"Multiplicación\",\"btn_arithmetic_division\":\"División\",\"btn_arithmetic_module\":\"Resto\",\"btn_break\":\"break\",\"btn_case\":\"Caso\",\"btn_add_var\":\"Add a variable\",\"btn_drag_and_drop_function\":\"Mover función\",\"btn_delete_function\":\"Borrar función\",\"expression_invalid\":\"Expresión no válida. Verifique la sintaxis antes de continuar.\",\"expression_undelcared_variable\":\"Variables no declaradas:\",\"expression_undeclared_function\":\"Funcíon no declaradas:\",\"start\":\"main\",\"type_void\":\"void\",\"type_integer\":\"int\",\"logic_operator_and\":\"AND\",\"logic_operator_or\":\"OR\",\"logic_operator_not\":\"not\",\"type_real\":\"real\",\"program\":\"program\",\"type_text\":\"string\",\"textvar_default_value\":\"texto\",\"type_boolean\":\"bool\",\"logic_value_true\":\"true\",\"logic_value_false\":\"false\",\"variable\":\"Variable\",\"command\":\"Comando\",\"new_parameter\":\"parametro\",\"new_variable\":\"variable\",\"new_global\":\"global\",\"new_function\":\"nueva_función\",\"matrix\":\"matriz\",\"vector\":\"vector\",\"text_lock_expression\":\"Expresión de bloque\",\"text_unlock_expression\":\"Desbloquear expresión\",\"text_edit_expression\":\"Editar expresión manualmente\",\"text_edit_expression_confirm\":\"Confirmar edición\",\"text_edit_expression_cancel\":\"Cancelar edición\",\"text_add_function\":\"Agregar una nueva función al programa\",\"text_move_command\":\"Mover comando\",\"text_add_parameters\":\"Agregar un nuevo parámetro\",\"text_parameter_reference\":\"Define parameter passed by reference\",\"text_parameter_copy\":\"Define parameter passed by copy\",\"text_comment_start\":\"Comentario inicial de la función\",\"text_comment_main\":\"Esta es la función principal\",\"text_read_var\":\"Entrada/Lectura de dados\",\"text_write_var\":\"Salida/Escribir datos\",\"text_command_read\":\"read\",\"text_command_write\":\"write\",\"text_return\":\"return\",\"text_btn_return\":\"Devolución\",\"text_comment\":\"Comentario\",\"string_join_or\":\"or\",\"matrix_info_string\":\"matriz de $0\",\"vector_info_string\":\"vector de $0\",\"text_attribution\":\"Asignación\",\"text_if\":\"if\",\"text_break\":\"break\",\"text_else\":\"else\",\"text_for\":\"repeat_for\",\"text_code_while\":\"repeat_while\",\"text_code_do\":\"repeat\",\"text_code_do_until\":\"until\",\"text_command_do\":\"repeat\",\"text_command_while\":\"repeat while\",\"text_command_do_until\":\"until\",\"text_code_switch\":\"switch\",\"text_code_case\":\"case\",\"text_config_programming\":\"Programación\",\"text_config_programming_both\":\"Visual & Textual\",\"text_config_programming_textual\":\"Textual\",\"text_config_programming_visual\":\"Visual\",\"text_logic_expression\":\"Lógicos\",\"text_arithmetic_expression\":\"Aritmética\",\"text_iftrue\":\"Si condicion sino\",\"text_message_error_activity_file\":\"Se produjo un error al procesar la actividad.<br> Recargar la página para volver a intentarlo.\",\"text_message_error_upload_file\":\"text_message_error_upload_file\",\"text_message_error_upload_close\":\"Close\",\"text_message_error_activity_reload\":\"Recargar\",\"text_repeatNtimes\":\"Repetir N veces\",\"text_receives\":\"receives\",\"text_whiletrue\":\"Mientras verdad\",\"text_dowhiletrue\":\"Repita hasta verdad\",\"text_switch\":\"Switch\",\"text_functioncall\":\"Llamada de función\",\"text_value\":\"Valor\",\"text_operator\":\"Operador\",\"text_parentheses\":\"Paréntesis\",\"text_change\":\"Modify\",\"text_teacher_algorithm\":\"Algorithm\",\"text_teacher_algorithm_include\":\"Incluir el algoritmo en la actividad.\",\"text_teacher_test_case\":\"Test cases\",\"text_teacher_config\":\"Configuraciones\",\"text_teacher_data_types\":\"Data types\",\"text_teacher_commands\":\"Commands\",\"text_teacher_functions\":\"Funciones\",\"text_teacher_create_functions\":\"Create new functions\",\"text_teacher_create_movement_functions\":\"Move functions\",\"text_teacher_test_case_input\":\"Input\",\"text_teacher_test_case_output\":\"Output\",\"text_teacher_test_case_actions\":\"Actions\",\"text_teacher_test_case_add\":\"Add test case\",\"text_header_ivprog_functions\":\"iVProg Functions\",\"text_menu_functions_math\":\"Math\",\"text_menu_functions_text\":\"Text\",\"text_menu_functions_array\":\"Array\",\"text_menu_functions_conversion\":\"Conversion\",\"text_no_variable\":\"No variable declared\",\"text_no_variable_instruction\":\"Antes de usar una variable, debe crearla\",\"text_ivprog_description\":\"Interactive and Visual Programming on the Internet\",\"tooltip_visual\":\"Visual programming\",\"tooltip_textual\":\"Textual programming\",\"tooltip_upload\":\"Upload source code\",\"tooltip_download\":\"Download source code\",\"tooltip_undo\":\"Undo\",\"tooltip_redo\":\"Redo\",\"tooltip_run\":\"Run the program\",\"tooltip_evaluate\":\"Evaluate the program\",\"tooltip_help\":\"Help\",\"tooltip_add_global\":\"Add a global variable\",\"tooltip_hide_function\":\"Hide function elements\",\"var_menu_select_var\":\"Select a variable\",\"var_menu_select_all\":\"Select\",\"var_menu_select_function\":\"Select a function\",\"expression_menu_select\":\"Construct a logic expression\",\"inform_valid_content\":\"Proporcionar algunos datos\",\"inform_valid_expression\":\"Construct a logic expression\",\"tooltip_terminal_clear\":\"Borra el terminal eliminando todo el texto escrito y pendiente.\",\"tooltip_terminal_show\":\"Muestra el terminal si está oculto.\",\"tooltip_terminal_hide\":\"Oculta el terminal si no está en exhibición\",\"tooltip_menu_read\":\"Command to input data from keyboard\",\"tooltip_menu_write\":\"Command to present content to user\",\"tooltip_menu_comments\":\"Block to comments from developer\",\"tooltip_menu_attribution\":\"Command to assign an expression to a variable\",\"tooltip_menu_call_function\":\"Command to execute a function call\",\"tooltip_menu_if_else\":\"Structure in which command only run when the conditions are satisfied\",\"tooltip_menu_repeat_n_times\":\"Structure to execute a block of commands repeatedly\",\"tooltip_menu_repeat_whiletrue\":\"Structure to execute a block repeatdly while condition is true\",\"tooltip_menu_repeat_dowhiletrue\":\"Structure that executes a block and repeat while the condition is true\",\"tooltip_menu_repeat_switch\":\"Structure that choices the block to be executed\",\"tooltip_menu_repeat_return\":\"Command to return the result and finish the function\",\"tooltip_move_var\":\"Move variable\",\"tooltip_remove_var\":\"Delete variable\",\"text_ivprog_version\":\"Version\",\"text_teacher_filter\":\"Filter\",\"text_teacher_filter_active\":\"Activated\",\"text_teacher_filter_help\":\"Al activar el filtro, las modificaciones en iVProg serán bloqueadas\",\"text_join_assessment_outputs\":\" ;\",\"assessment-detail-time-label\":\"Duration\",\"assessment-detail-grade-label\":\"Grade\",\"assessment-detail-input-label\":\"Inputs\",\"assessment-detail-output-label\":\"Outputs\",\"assessment-detail-expected-label\":\"Expected\",\"assessment-detail-generated-label\":\"Generated\",\"assessment-detail-result-label\":\"Correction\",\"assessment-detail-title\":\"Test Case $0\",\"text_teacher_generate_outputs\":\"Generate outputs\",\"text_teacher_generate_outputs_algorithm\":\"Antes de generar las salidas necesita crear un algoritmo\",\"text_code_for_from\":\"from\",\"text_code_for_to\":\"to\",\"text_code_for_pass\":\"pass\",\"text_for_from\":\"from\",\"text_for_to\":\"to\",\"text_for_pass\":\"pass\",\"text_relational_expression\":\"Relational\",\"write_command_newline_on\":\"El salto de línea está activado\",\"write_command_newline_off\":\"El salto de línea está desactivado\",\"write_seprator_menu_text\":\"Spacer\",\"initial_program_code\":\"program {\\\\n\\\\n\\\\t\\\\tfunction void main () {\\\\n\\\\t\\\\t\\\\t// Start your code here!\\\\n\\\\t\\\\t}\\\\n}\",\"type_char\":\"char\",\"charvar_default_value\":\"A\",\"write_seprator_menu_tooltip\":\"Separator used to print more values/variables\"}}","import line_i18n from 'line-i18n'\nimport { IVProgProcessor } from \"./../processor/ivprogProcessor\";\nimport { DOMConsole} from \"./../io/domConsole\";\nimport * as LocalizedStringsService from \"../services/localizedStringsService\";\nimport { OutputMatching } from './output_matching/output_matching';\nimport { Config } from '../util/config';\n\n\nconst LocalizedStrings = LocalizedStringsService.getInstance();\n\nconst StringTypes = line_i18n.StringTypes;\n\nconst AssessmentConfig = {\n  max_instruction_count: 350250,\n  suspend_threshold: 200\n}\n\nexport class IVProgAssessment {\n\n  constructor (ast_code, testCases, domConsole) {\n    this.ast_code = ast_code;\n    this.testCases = testCases;\n    this.domConsole = domConsole;\n    this.old_config = JSON.parse(JSON.stringify(Config));\n    Config.setConfig(AssessmentConfig);\n  }\n\n  runTest () {\n    try {\n      // loop test cases and show messages through domconsole\n      const partialTests = this.testCases.map( (t, name) => {\n        return new OutputMatching(new IVProgProcessor(this.ast_code), t.input, t.output, name);\n      });\n      const testResult = partialTests.map(om => om.eval());\n      return Promise.all(testResult).then(results => {\n        let grade = 0;\n        for(let i = 0; i < results.length; i += 1) {\n          const result = results[i];\n          grade += result.grade;\n          if(result.grade == 1) {\n            this.writeToConsole(DOMConsole.INFO, StringTypes.MESSAGE,'test_case_success',\n              result.name + 1, result.generateOutput());\n          } else if (result.status == 1) {\n            this.writeToConsole(DOMConsole.ERR, StringTypes.ERROR,'test_case_failed_exception',\n              result.name + 1, result.error_msg, result.generateOutput());\n          } else {\n            this.writeToConsole(DOMConsole.ERR, StringTypes.ERROR,'test_case_failed',\n              result.name + 1, result.generateOutput());\n          }\n        }\n        grade /= results.length;\n        const channel = grade == 1 ? DOMConsole.INFO : DOMConsole.ERR;\n        this.writeToConsole(channel, StringTypes.MESSAGE, \"test_suite_grade\", (grade * 100).toFixed(2));\n        return grade;\n      });\n      // return testResult.then(function (total) {\n      //   const grade = total / this.testCases.length;\n      //   const channel = grade == 1 ? DOMConsole.INFO : DOMConsole.ERR;\n      //   this.writeToConsole(channel, StringTypes.MESSAGE, \"test_suite_grade\", (grade * 100).toFixed(2));\n      //   return Promise.resolve(grade)\n      // }).catch(err => {\n      //   this.domConsole.err(\"Erro inesperado durante o cálculo da nota.\");// try and show error messages through domconsole\n      //   this.domConsole.err(err.message);\n      //   return Promise.resolve(0);\n      // });\n    } catch (error) {\n      this.showErrorMessage(DOMConsole.ERR, StringTypes.MESSAGE, \"unexpected_execution_error\");\n      this.domConsole.err(error.message);\n      return Promise.resolve(0);\n    } finally {\n      Config.setConfig(this.old_config);\n    }\n  }\n\n  showErrorMessage (errorID, ...args) {\n    this.domConsole.err(LocalizedStrings.getError(errorID, args));\n  }\n\n  showInfoMessage (msgID, ...args) {\n    this.domConsole.info(LocalizedStrings.getMessage(msgID, args));\n  }\n\n  writeToConsole (channel, msgType, msgID, ...args) {\n    let msg = LocalizedStrings.getString(msgID, msgType);\n    msg = LocalizedStrings.processString(msg, args);\n    this.domConsole.writeRawHTML(msg, channel);\n  }\n}\n","import StringDiff from \"./../../util/string_diff\";\nimport { LocalizedStrings } from './../../services/localizedStringsService'\n\nexport class OutputAssessmentResult {\n\n  static get PAGE_TEMPLATE () {\n    return `<!DOCTYPE html>\n    <html>\n      <head>\n        <meta http-equiv='content-type' content='text/html; charset=UTF-8'>\n        <link rel='stylesheet' href='css/ivprog-assessment.css' type='text/css'/>\n      </head>\n    <body>\n      :assessment-result:\n    </body>\n    </html>`;\n  }\n\n  static get DETAIL_TEMPLATE () {\n    return `<div class='details-body'>\n        <div class='details-header'>\n          <h2>:test-name:</h2>\n          <p>:time-label:: <span>:time:ms</span></p>\n          <p>:grade-label:: <span>:grade:%</span></p>\n        </div>\n        <div>\n          <h3>:input-label:</h3>\n          <ul>\n            <li>:input-list:</li>\n          </ul>\n        </div>\n        <div>\n          <h3>:output-label:</h3>\n          :output-result:\n        </div>\n      </div>`;\n  }\n\n  static get OUPUT_TABLE_TEMPLATE () {\n    return `<div class='detaisl-div-table'>\n        <table class='assessment-output-table'>\n          <tr>\n            <th>:expected-label:</th>\n            <th>:generated-label:</th>\n            <th>:result-label:</th>\n          </tr>\n          :results:\n        </table>\n      </div>`;\n  }\n\n  static get OUTPUT_TEMPLATE () {\n    return `<tr><td class=':class-expected:'>$0</td>\n            <td class=':class-generated:'>$1</td>\n            <td class=':class-result:'>$2</td></tr>`;\n  }\n\n  static get EMPTY_OUTPUT_TEMPLATE () {\n    return `<div class='assessment-popup'><img class='assessment-empty-output' src='img/empty.svg'>\n      <span class='assessment-popuptext'>$0</span></div>`;\n  }\n\n  static get FAILED_TEMPLATE () {\n    return `<p class='assessment-failed-execution'><span class='assessment-failed-case'>✗</span>$0</p>`;\n  }\n\n  static get INPUT_INFO_TEMPLATE () {\n    return `<span class='$0'>$1</span>`;\n  }\n\n  // Status code - it is not grade related!\n  // 0 - Succesful execution\n  // 1 - failed execution\n  constructor (name, status, inputs, result, store, time, error_msg = '') {\n    this.name = name;\n    this.status = status;\n    this.inputs = inputs;\n    this.results = result;\n    this.store = store;\n    this.time = time;\n    this.error_msg = error_msg;\n  }\n\n  get grade () {\n    if(this.results == null) {\n      return 0;\n    }\n    return this.results.reduce((prev, val) => prev + val.grade, 0) / this.results.length;\n  }\n\n  prepareResults () {\n    let template = OutputAssessmentResult.DETAIL_TEMPLATE;\n    const grade = (this.grade * 100).toFixed(2);\n    const time = this.time || \"-\";\n    template = template.replace(':test-name:', LocalizedStrings.getUI('assessment-detail-title', [this.name + 1]));\n    template = template.replace(':time-label:', LocalizedStrings.getUI('assessment-detail-time-label'));\n    template = template.replace(':time:', time);\n    template = template.replace(':grade-label:', LocalizedStrings.getUI('assessment-detail-grade-label'));\n    template = template.replace(':grade:', grade);\n    const input_spans = this.prepareInputList(this.inputs);\n    template = template.replace(':input-label:', LocalizedStrings.getUI('assessment-detail-input-label'));\n    template = template.replace(':input-list:', input_spans);\n    template = template.replace(':output-label:', LocalizedStrings.getUI('assessment-detail-output-label'));\n    if(this.status == 0) {\n      const output_rows = this.results.map(result => {\n        if(result.type == \"string\") {\n          return this.formatString(result);\n        } else if (result.type == \"number\") {\n          return this.formatNumber(result);\n        } else {\n          return this.formatBool(result);\n        }\n      }, this);\n      template = template.replace(':output-result:', this.prepareOutputTable(output_rows));\n    } else {\n      let failed_text =  OutputAssessmentResult.FAILED_TEMPLATE;\n      failed_text = failed_text.replace(\"$0\", this.error_msg);\n      template = template.replace(\":output-result:\", failed_text);\n    }\n    return template;\n  }\n\n  prepareInputList (input_list) {\n    const list = input_list.map(input => {\n      let template = OutputAssessmentResult.INPUT_INFO_TEMPLATE;\n      template = template.replace(\"$1\", input.value);\n      if(input.read) {\n        template = template.replace(\"$0\", \"assessment-input-read\");\n      } else {\n        template = template.replace(\"$0\", \"assessment-input-unread\");\n      }\n      return template;\n    }, this);\n    return list.join(LocalizedStrings.getUI('text_join_assessment_outputs'));\n  }\n\n  prepareOutputTable (output_rows) {\n    let template = OutputAssessmentResult.OUPUT_TABLE_TEMPLATE;\n    template = template.replace(':expected-label:', LocalizedStrings.getUI('assessment-detail-expected-label'));\n    template = template.replace(':generated-label:', LocalizedStrings.getUI('assessment-detail-generated-label'));\n    template = template.replace(':result-label:', LocalizedStrings.getUI('assessment-detail-result-label'));\n    template = template.replace(':results:', output_rows.join(''));\n    return template;\n  }\n\n  generateOutput () {\n    const assessment_result =  this.prepareResults();\n    let page = OutputAssessmentResult.PAGE_TEMPLATE;\n    page = page.replace(':assessment-result:', assessment_result);\n    page = page.replace(/(\\r|\\n|\\t)/gm,'').replace(/> *</g, '><');\n    return page;\n  }\n\n  formatNumber (result) {\n    const result_class = result.grade == 1 ? 'assessment-number-result' : 'assessment-number-result-failed';\n    let template = this.formatOutput('assessment-number-expected',\n      'assessment-number-generated', result_class, result);\n    return template\n  }\n\n  formatBool (result) {\n    const result_class = result.grade == 1 ? 'assessment-bool-result' : 'assessment-bool-result-failed';\n    let template = this.formatOutput('assessment-bool-expected',\n      'assessment-bool-generated', result_class, result);\n    return template\n  }\n\n  formatOutput (expected_class, generated_class, result_class, result) {\n    let template = OutputAssessmentResult.OUTPUT_TEMPLATE;\n    template = template.replace(\":class-expected:\", expected_class);\n    template = template.replace(\":class-generated:\", generated_class);\n    template = template.replace(\":class-result:\", result_class);\n    let expected_tmpl = result.expected;\n    let generated_tmpl = result.generated;\n    if(expected_tmpl == null) {\n      expected_tmpl = OutputAssessmentResult.EMPTY_OUTPUT_TEMPLATE.replace('$0',\n        LocalizedStrings.getMessage('assessment-empty-expected-tooltip'));\n    } else if(generated_tmpl == null) {\n      generated_tmpl = OutputAssessmentResult.EMPTY_OUTPUT_TEMPLATE.replace('$0',\n        LocalizedStrings.getMessage('assessment-empty-generated-tooltip'));\n    }\n    template = template.replace(\"$0\", expected_tmpl);\n    template = template.replace(\"$1\", generated_tmpl);\n    const final_result = result.grade == 1 ? \"✓\" : \"✗\"\n    template = template.replace(\"$2\", final_result);\n    return template\n  }\n\n  formatString (result) {\n    const expected_class = 'assessment-string-expected';\n    const generated_class = 'assessment-string-generated';\n    //const result_class = 'assessment-string-result';\n\n    let template = OutputAssessmentResult.OUTPUT_TEMPLATE;\n    template = template.replace(\":class-expected:\", expected_class);\n    template = template.replace(\":class-generated:\", generated_class);\n    //template = template.replace(\":class-result:\", result_class);\n\n    const g_string = result.generated || \"\";\n    const e_string = result.expected || \"\";\n    // console.log(\"generated: \", g_string,\"expected: \", e_string);\n    let g_string_tmpl = g_string;\n    let e_string_tmpl = e_string;\n    if(result.generated == null) {\n      g_string_tmpl = OutputAssessmentResult.EMPTY_OUTPUT_TEMPLATE.replace('$0',\n        LocalizedStrings.getMessage('assessment-empty-generated-tooltip'));\n    } else if (result.expected == null) {\n     e_string_tmpl = OutputAssessmentResult.EMPTY_OUTPUT_TEMPLATE.replace('$0',\n        LocalizedStrings.getMessage('assessment-empty-expected-tooltip'));\n    }\n    template = template.replace(\"$0\", e_string_tmpl);\n    template = template.replace(\"$1\", g_string_tmpl);\n    if(result.grade == 1) {\n      template = template.replace(\"$2\", \"✓\");\n      template = template.replace(\":class-result:\", 'assessment-string-result');\n    } else {\n      const diff = StringDiff(g_string, e_string);\n      // console.log(diff);\n      const diff_vec = diff.map(part => this.getDiffStringStyle(part[1], part[0]), this);\n      const diff_string = diff_vec.reduce((prev, actual) => prev + actual, \"\");\n      template = template.replace(\"$2\", \"<span class='assessment-failed-case'>✗</span>\" + diff_string);\n      template = template.replace(\":class-result:\", \"assessment-string-diff\");\n    }\n    return template;\n  }\n\n  getDiffStringStyle (text, action) {\n    const template = \"<span class='$0'>$1</span>\"\n    // Fix missing whitespace when its a single element\n    text = text.replace(/\\s/g,\"&#160;\");\n    switch(action) {\n      case StringDiff.INSERT:\n        return template.replace(\"$0\", \"stringdiff-insert\").replace(\"$1\", text);\n      case StringDiff.DELETE:\n        return template.replace(\"$0\", \"stringdiff-delete\").replace(\"$1\", text);\n      case StringDiff.EQUAL:\n        return template.replace(\"$0\", \"stringdiff-equal\").replace(\"$1\", text);\n    }\n  }\n}\n","\n// iVProg - https://www.usp.br/line/ivprog\n// LInE - Free Education, Private Data\n// ./src/ivprog/js/assessment/output_matching/output_matching.js\n// + Considering assessments (exercises with automatic evaluation), it\n//   checks the learner answer against the expected answer\n\nimport { Decimal } from 'decimal.js';\nimport { InputAssessment } from \"../../util/input_assessment\";\nimport { OutputTest } from \"../../util/outputTest\";\nimport { Config } from \"../../util/config\";\nimport { levenshteinDistance } from \"../../util/utils\";\nimport { OutputAssessmentResult } from './assessment_result';\nimport * as TypeParser from \"./../../typeSystem/parsers\";\nimport * as LocalizedStringsService from \"../../services/localizedStringsService\";\nimport * as OutputResult from \"./output_result\";\n\nconst LocalizedStrings = LocalizedStringsService.getInstance();\n\nexport class OutputMatching {\n\n  static get NUM_REGEX () {\n    return /^[+-]?([0-9]+([.][0-9]*)?(e[+-]?[0-9]+)?)$/;\n    }\n\n  static get NUM_IN_STRING_REGEX () {\n    return /[+-]?([0-9]+([.][0-9]*)?(e[+-]?[0-9]+)?)/g;\n    }\n\n  static get BOOLEAN_REGEX () {\n    const str = `^(${LocalizedStrings.getUI(\"logic_value_true\")}|${LocalizedStrings.getUI(\"logic_value_false\")})$`;\n    return new RegExp(str);\n    }\n\n  static get BOOLEAN_IN_STRING_REGEX () {\n    const str = `(${LocalizedStrings.getUI(\"logic_value_true\")}|${LocalizedStrings.getUI(\"logic_value_false\")})`;\n    return new RegExp(str, 'g');\n    }\n\n  constructor (program, input_list, expected_output, test_name) {\n    this.program = program;\n    this.name = test_name;\n    this.input_list = input_list;\n    this.expected_output = expected_output;\n    }\n\n  eval () {\n    const refThis = this;\n    const input = new InputAssessment(this.input_list);\n    const gen_output = new OutputTest();\n    this.program.registerInput(input);\n    this.program.registerOutput(gen_output);\n    const start_time = Date.now();\n    return this.program.interpretAST().then( sto => {\n      const final_time = Date.now() - start_time;\n      if (input.isInputAvailable()) {\n        return new OutputAssessmentResult(this.name, 1, input.input_list,\n          null, sto, final_time, refThis.getErrorMessage('test_case_few_reads', this.name+1))\n        }\n      const result = gen_output.list.map((g_out, i) => {\n        if (i >= this.expected_output.length) {\n          return new OutputResult.OutputMatchResult(null, g_out, 0, this.getPotentialOutputType(g_out));\n          }\n        return this.outputMatch(g_out, this.expected_output[i]);\n        }, this);\n      if (this.expected_output.length > gen_output.list.length) {\n        console.log(\"Saidas insuficientes! #expected=\" + this.expected_output.length + \" x #output=\" + gen_output.list.length);\n        for (let i = gen_output.list.length; i < this.expected_output.length; ++i) {\n          const e_out = this.expected_output[i];\n          result.push(new OutputResult.OutputMatchResult(e_out, null, 0, this.getPotentialOutputType(e_out)));\n          }\n      } else if (this.expected_output.length == 0 && this.expected_output.length == gen_output.list.length) {\n        // no output expected....\n        result.push(new OutputResult.OutputMatchResult(\"\", \"\", 1, \"string\"));\n        }\n      return new OutputAssessmentResult(this.name, 0,  input.input_list, result, sto, final_time);\n      }).catch(error => {\n        return new OutputAssessmentResult(this.name, 1,  input.input_list, null, null,\n          null, refThis.getErrorMessage('test_case_exception', this.name + 1, error.message))\n        });\n    }\n\n  getPotentialOutputType (output) {\n    if (OutputMatching.NUM_REGEX.test(output)) {\n      return \"number\";\n    } else if (OutputMatching.BOOLEAN_REGEX.test(output)) {\n      return \"bool\";\n    } else {\n      return \"string\";\n      }\n    }\n\n  outputMatch (g_output, e_output) {\n    if (OutputMatching.NUM_REGEX.test(e_output)) {\n      if (!OutputMatching.NUM_REGEX.test(g_output)) {\n        return this.checkStrings(g_output, e_output);\n        }\n      const g_num = new Decimal(g_output);\n      const e_num = new Decimal(e_output);\n      return this.checkNumbers(g_num, e_num);\n    } else if (OutputMatching.BOOLEAN_REGEX.test(e_output)) {\n      if (!OutputMatching.BOOLEAN_REGEX.test(g_output)) {\n        return this.checkStrings(g_output, e_output)\n        }\n      const g_bool = TypeParser.toBool(g_output);\n      const e_bool = TypeParser.toBool(e_output);\n      return this.checkBoolean(g_bool, e_bool);\n    } else {\n      return this.checkStrings(g_output, e_output);\n      }\n    }\n\n  checkNumbers (g_num, e_num) {\n    const decimalPlaces = Math.min(e_num.dp(), Config.decimalPlaces);\n    g_num = new Decimal(g_num.toFixed(decimalPlaces, Decimal.ROUND_FLOOR));\n    e_num = new Decimal(e_num.toFixed(decimalPlaces, Decimal.ROUND_FLOOR));\n    const result = g_num.eq(e_num);\n    const grade = result ? 1 : 0;\n    return OutputResult.createNumberResult(e_num.toNumber(), g_num.toNumber(), grade);\n    }\n\n  checkBoolean (g_bool, e_bool) {\n    const grade = g_bool == e_bool ? 1 : 0;\n    const g_bool_text = TypeParser.convertBoolToString(g_bool);\n    const e_bool_text = TypeParser.convertBoolToString(e_bool);\n    return OutputResult.createBoolResult(e_bool_text, g_bool_text, grade);\n    }\n\n  checkStrings (g_output, e_ouput) {\n    const assessmentList = []\n    let e_output_clean = e_ouput.trim();\n    let g_output_clean = g_output.trim();\n    if (OutputMatching.NUM_IN_STRING_REGEX.test(e_ouput)) {\n      const expected_numbers = e_ouput.match(OutputMatching.NUM_IN_STRING_REGEX);\n      const generated_numbers = g_output.match(OutputMatching.NUM_IN_STRING_REGEX) || [];\n      const result = generated_numbers.map((val, i) => {\n        if (i >= expected_numbers.length) {\n          return OutputResult.createNumberResult(null, val, 0);\n          }\n        const g_val = new Decimal(val)\n        const e_val = new Decimal(expected_numbers[i]);\n        return this.checkNumbers(g_val, e_val);\n        }, this);\n      if (expected_numbers.length > generated_numbers.length) {\n        for (let i = generated_numbers.length; i < expected_numbers.length; ++i) {\n          result.push(OutputResult.createNumberResult(expected_numbers[i], null, 0));\n          }\n        }\n      e_output_clean = e_output_clean.replace(OutputMatching.NUM_IN_STRING_REGEX, '');\n      g_output_clean = g_output_clean.replace(OutputMatching.NUM_IN_STRING_REGEX, '');\n      const numberGrade = result.reduce((prev, r) => prev + r.grade, 0) / result.length;\n      assessmentList.push(numberGrade);\n      }\n    if (OutputMatching.BOOLEAN_IN_STRING_REGEX.test(e_ouput)) {\n      const expected_bools = e_ouput.match(OutputMatching.BOOLEAN_IN_STRING_REGEX);\n      const generated_bools = g_output.match(OutputMatching.BOOLEAN_IN_STRING_REGEX) || [];\n      const result = generated_bools.map((val, i) => {\n        if (i >= expected_bools.length) {\n          return OutputResult.createBoolResult(null, val, 0);\n          }\n        const g_bool = TypeParser.toBool(val);\n        const e_bool = TypeParser.toBool(expected_bools[i]);\n        return this.checkBoolean(g_bool, e_bool );\n        }, this);\n      if (expected_bools.length > generated_bools.length) {\n        for (let i = generated_bools.length; i < expected_bools.length; ++i) {\n          result.push(OutputResult.createBoolResult(expected_bools[i], null, 0));\n          }\n        }\n      e_output_clean = e_output_clean.replace(OutputMatching.BOOLEAN_IN_STRING_REGEX, '');\n      g_output_clean = g_output_clean.replace(OutputMatching.BOOLEAN_IN_STRING_REGEX, '');\n      const boolGrade = result.reduce((prev, r) => prev + r.grade, 0) / result.length;\n      assessmentList.push(boolGrade);\n      }\n    const dist = levenshteinDistance(g_output_clean, e_output_clean);\n    let gradeDiff = Math.max(0, e_output_clean.length - dist)/e_output_clean.length;\n    gradeDiff = Number.isNaN(gradeDiff) ? 0 : gradeDiff;\n    const assessment_size = assessmentList.length + 1;\n    const gradeAcc = assessmentList.reduce((prev, val) => prev + val/assessment_size, 0);\n    const finalGrade = 1 * (gradeDiff/assessment_size + gradeAcc);\n    return OutputResult.createStringResult(e_ouput, g_output, finalGrade);\n    }\n\n  getErrorMessage (errorID, ...args) {\n    return LocalizedStrings.getError(errorID, args);\n    }\n\n  }\n\n","\nexport function createNumberResult (expected, generated, grade) {\n  return new OutputMatchResult(expected, generated, grade, \"number\");\n}\n\nexport function createBoolResult (expected, generated, grade) {\n  return new OutputMatchResult(expected, generated, grade, \"bool\");\n}\n\nexport function createStringResult (expected, generated, grade) {\n  return new OutputMatchResult(expected, generated, grade, \"string\");\n}\n\nexport class OutputMatchResult {\n\n  constructor (expected, generated, grade, type) {\n    this.expected = expected;\n    this.generated = generated;\n    this.grade = grade;\n    this.type = type;\n  }\n}","import { Assign } from './assign';\n\nexport class ArrayIndexAssign extends Assign {\n\n  constructor (id, lineExpression, columnExpression, expression) {\n    super(id, expression);\n    this.line = lineExpression;\n    this.column = columnExpression;\n  }\n}\n","import { Declaration } from './declaration';\n\nexport class ArrayDeclaration extends Declaration {\n\n  constructor (id, type, lines, columns, initial, isConst)   {\n    super(id, type, initial, isConst);\n    this.lines = lines;\n    this.columns = columns;\n  }\n\n  get isVector () {\n    return this.columns == null;\n  }\n}","import { Command } from './command';\n\nexport class Assign extends Command {\n  \n  constructor (id, expression) {\n    super();\n    this.id = id;\n    this.expression = expression;\n  }\n}","import { Command } from './command';\n\nexport class Break extends Command {\n\n  constructor () {\n    super();\n  }\n}\n","import { Command } from './command';\n\nexport class Case extends Command {\n\n  constructor (expression) {\n    super();\n    this.expression = expression;\n    /**\n     * @type {Command[]}\n     */\n    this.commands = [];\n  }\n\n  /**\n   * \n   * @param {Command[]} commands \n   */\n  setCommands (commands) {\n    this.commands = commands;\n  }\n\n  get isDefault () {\n    return this.expression === null;\n  }\n}","export class Command {\n\n  constructor () {\n    this._sourceInfo = null;\n  }\n\n  set sourceInfo (sourceInfo) {\n    this._sourceInfo = sourceInfo;\n  }\n\n  get sourceInfo () {\n    return this._sourceInfo;\n  }\n}\n","export class CommandBlock {\n\t\n\tconstructor(variables, commands) {\n\t\tthis.variables = variables;\n\t\tthis.commands = commands;\n\t\tthis._sourceInfo = null;\n\t}\n\n\tset sourceInfo (sourceInfo) {\n\t\tthis._sourceInfo = sourceInfo;\n\t}\n\n\tget sourceInfo () {\n\t\treturn this._sourceInfo;\n\t}\n}","import { Command } from './command';\n\nexport class Declaration extends Command {\n  \n  constructor (id, type, initial, isConst) {\n    super();\n    this.id = id;\n    this.type = type;\n    this.initial = initial;\n    this.isConst = isConst;\n  }\n}\n","import { Command } from './command';\n\nexport class For extends Command {\n\n  constructor (for_id, for_from, for_to, for_pass, commandBlock) {\n    super();\n    this.for_id = for_id;\n    this.for_from = for_from;\n    this.for_to = for_to;\n    this.for_pass = for_pass;\n    this.commandBlock = commandBlock;\n  }\n\n  get commands () {\n    return this.commandBlock.commands;\n  }\n}","export class FormalParameter {\n\n  constructor (type, id, byRef = false, variadic = false) {\n    this.type = type;\n    this.id = id;\n    this.byRef = byRef;\n    this.variadic = variadic;\n    this._sourceInfo = null;\n  }\n\n  set sourceInfo (sourceInfo) {\n\t\tthis._sourceInfo = sourceInfo;\n\t}\n\n\tget sourceInfo () {\n\t\treturn this._sourceInfo;\n\t}\n}","import { Types } from './../../typeSystem/types';\n\nexport class Function {\n\n  /**\n   * \n   * @param {string} name \n   * @param {import('./../../typeSystem/itype').IType} returnType \n   * @param {import('./formalParameter').FormalParameter[]} formalParameters \n   * @param {import('./commandBlock').CommandBlock} commandBlock \n   */\n  constructor(name, returnType, formalParameters, commandBlock) {\n    this.name = name;\n    this.returnType = returnType;\n    this.formalParameters = formalParameters;\n    this.commandBlock = commandBlock;\n    this._sourceInfo = null;\n  }\n\n  get isMain () {\n    return this.name === null && this.returnType.isCompatible(Types.VOID);\n  }\n\n  get commands () {\n    return this.commandBlock.commands;\n  }\n\n  get variablesDeclarations () {\n    return this.commandBlock.variables;\n  }\n\n  set sourceInfo (sourceInfo) {\n\t\tthis._sourceInfo = sourceInfo;\n\t}\n\n\tget sourceInfo () {\n\t\treturn this._sourceInfo;\n  }\n  \n  hasVariadic () {\n    return this.formalParameters.some( p => p.variadic);\n  }\n}","import { Command } from './command';\n\nexport class IfThenElse extends Command {\n\n  constructor (condition, ifTrue, ifFalse) {\n    super();\n    this.condition = condition;\n    this.ifTrue = ifTrue;\n    this.ifFalse = ifFalse;\n  }\n}","import { Break } from './break';\nimport { Return } from './return';\nimport { Assign } from './assign';\nimport { ArrayIndexAssign } from './arrayAssign';\nimport { Declaration } from './declaration';\nimport { ArrayDeclaration } from './arrayDeclaration';\nimport { While } from './while';\nimport { For } from './for';\nimport { Function } from './function';\nimport { IfThenElse } from './ifThenElse';\nimport { CommandBlock } from './commandBlock';\nimport { RepeatUntil } from './repeatUntil';\nimport { Switch } from './switch';\nimport { Case } from './case';\nimport { SysCall } from './sysCall';\nimport { FormalParameter } from './formalParameter';\nimport { FunctionCall } from './../expressions/functionCall'; //Proxy to expression since they do exatcly the same thing\n\nexport {\n  Break,\n  Return,\n  Assign,\n  ArrayIndexAssign,\n  Declaration,\n  ArrayDeclaration,\n  While,\n  For,\n  Function,\n  IfThenElse,\n  CommandBlock,\n  RepeatUntil,\n  Switch,\n  Case,\n  SysCall,\n  FormalParameter,\n  FunctionCall\n};","import { While } from './while';\n\nexport class RepeatUntil extends While {\n\n  constructor(condition, commandBlock) {\n    super(condition, commandBlock);\n  }\n\n  get testFirst () {\n    return false;\n  }\n  \n}","import { Command } from './command';\n\nexport class Return extends Command {\n\n  constructor(expression) {\n    super();\n    this.expression = expression;\n  }\n  \n}","import { Command } from './command';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { Expression } from '../expressions/expression';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { Case } from '.';\n\nexport class Switch extends Command {\n  \n  /**\n   * \n   * @param {Expression} expression \n   * @param {Case[]} cases \n   */\n  constructor (expression, cases) {\n    super();\n    this.expression = expression;\n    this.cases = cases;\n  }\n}","/**\n * This class represents all the language defined functions.\n * The language processor uses the id provided here to properly execute the desired function.\n * The function is actually implemented inside the language processor.\n * All the functions can be found at: js/processor/definedFunctions.js\n */\nexport class SysCall {\n\n  constructor (langFunc) {\n    this.langFunc = langFunc;\n  }\n}","import { Command } from './command';\n\nexport class While extends Command {\n\n  constructor (expression, commandBlock) {\n    super();\n    this.expression = expression;\n    this.commandBlock = commandBlock;\n  }\n\n  get commands () {\n    return this.commandBlock.commands;\n  }\n\n  get testFirst () {\n  \treturn true;\n  }\n}","export class SyntaxError extends Error {\n  constructor (msg, id) {\n    super(msg);\n    this.id = id;\n    this._context = {};\n    if (Error.captureStackTrace) Error.captureStackTrace(this, SyntaxError);\n  }\n\n  get context () {\n    return this._context;\n  }\n\n  set context (contextObj) {\n    this._context = contextObj;\n  }\n}\n","import * as LocalizedStringsService from \"./../../services/localizedStringsService\";\nimport { SyntaxError } from \"./syntaxError\";\n\nconst LocalizedStrings = LocalizedStringsService.getInstance();\n\nfunction createError (message_id, context = []) {\n  return new SyntaxError(\n    LocalizedStrings.getError(message_id, context),\n    message_id\n  );\n}\n\nexport const SyntaxErrorFactory = Object.freeze({\n  extra_lines: () => new SyntaxError(LocalizedStrings.getError(\"extra_lines\")),\n  token_missing_one: (expected, token) => {\n    const context = [expected, token.text, token.line, token.col];\n    const error = createError(\"token_missing_one\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  token_missing_list: (expectedList, token) => {\n    const line = expectedList.join(LocalizedStrings.getOR());\n    const error = SyntaxErrorFactory.token_missing_one(line, token);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  id_missing: (token) => {\n    const context = [token.text, token.line, token.col];\n    const error = createError(\"id_missing\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  eos_missing: (token) => {\n    const context = [token.line, token.col];\n    const error = createError(\"eos_missing\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  invalid_array_dimension: (typeName, token) => {\n    const context = [token.line, token.col, typeName];\n    const error = createError(\"invalid_array_dimension\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  invalid_array_size: (token) => {\n    const context = [token.line];\n    const error = createError(\"invalid_array_size\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  invalid_main_return: (name, typeName, token) => {\n    const context = [name, typeName, token.line];\n    const error = createError(\"invalid_main_return\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  invalid_var_declaration: (token) => {\n    const context = [token.line];\n    const error = createError(\"invalid_var_declaration\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  invalid_break_command: (cmdName, token) => {\n    const context = [token.line, cmdName];\n    const error = createError(\"invalid_break_command\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  invalid_terminal: (token) => {\n    const context = [token.text, token.line, token.col];\n    const error = createError(\"invalid_terminal\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  invalid_type: (list, token) => {\n    const line = list.join(LocalizedStrings.getOR());\n    const context = [token.text, token.line, token.col, line];\n    const error = createError(\"invalid_type\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  const_not_init: (token) => {\n    const context = [token.line, token.col];\n    const error = createError(\"const_not_init\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  invalid_id_format: (token) => {\n    const context = [token.text, token.line, token.col];\n    const error = createError(\"invalid_id_format\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  duplicate_function: (token) => {\n    const context = [token.text, token.line, token.col];\n    const error = createError(\"duplicate_function\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  main_parameters: () => {\n    return createError(\"main_parameters\");\n  },\n  duplicate_variable: (token) => {\n    const context = [token.text, token.line, token.col];\n    const error = createError(\"duplicate_variable\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  invalid_character: (text, line, column) => {\n    const context = [text, line];\n    const error = createError(\"invalid_character\", context);\n    error.context = { line: line, column: column };\n    return error;\n  },\n  annonymous_array_literal: (token) => {\n    const context = [token.line];\n    const error = createError(\"annonymous_array_literal\", context);\n    error.context = { line: token.line, column: token.col};\n    return error;\n  },\n  invalid_matrix_literal_line: (exp, sourceInfo) => {\n    const context = [exp, sourceInfo.line];\n    const error = createError(\"invalid_matrix_literal_line\", context);\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\n    return error;\n  },\n  cannot_infer_matrix_line: (name, sourceInfo) => {\n    const context = [name, sourceInfo.line];\n    const error = createError(\"cannot_infer_matrix_line\", context);\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\n    return error;\n  },\n  cannot_infer_matrix_column: (name, sourceInfo) => {\n    const context = [name, sourceInfo.line];\n    const error = createError(\"cannot_infer_matrix_column\", context);\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\n    return error;\n  },\n  cannot_infer_vector_size: (name, sourceInfo) => {\n    const context = [name, sourceInfo.line];\n    const error = createError(\"cannot_infer_vector_size\", context);\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\n    return error;\n  },\n  matrix_to_vector_literal_attr: (name, exp, sourceInfo) => {\n    const context = [sourceInfo.line, exp, name];\n    const error = createError(\"matrix_to_vector_literal_attr\", context);\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\n    return error;\n  },\n  vector_to_matrix_literal_attr: (name, exp, sourceInfo) => {\n    const context = [sourceInfo.line, exp, name];\n    const error = createError(\"vector_to_matrix_literal_attr\", context);\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\n    return error;\n  },\n  array_init_not_literal: (sourceInfo) => {\n    const context = [sourceInfo.line];\n    const error = createError(\"array_init_not_literal\", context);\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\n    return error;\n  },\n  array_exceeds_2d: (sourceInfo) => {\n    const context = [sourceInfo.line];\n    const error = createError(\"array_exceeds_2d\", context);\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\n    return error;\n  },\n  invalid_matrix_id_dimension: (sourceInfo) => {\n    const context = [sourceInfo.line];\n    const error = createError(\"invalid_matrix_id_dimension\", context);\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\n    return error;\n  },\n  invalid_vector_init: (sourceInfo) => {\n    const context = [sourceInfo.line];\n    const error = createError(\"invalid_vector_init\", context);\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\n    return error;\n  },\n  invalid_matrix_init: (sourceInfo) => {\n    const context = [sourceInfo.line];\n    const error = createError(\"invalid_matrix_init\", context);\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\n    return error;\n  },\n  invalid_syntax: (text, line, column) => {\n    const context = [text, line];\n    const error = createError(\"invalid_syntax\", context);\n    error.context = { line: line, column: column };\n    return error;\n  }\n});\n","import { Expression } from './expression';\n\nexport class ArrayAccess extends Expression {\n\t\n\tconstructor (id, line, column) {\n\t\tsuper();\n\t\tthis.id = id;\n\t\tthis.line = line;\n\t\tthis.column = column;\n\t}\n\n\ttoString () {\n\t\tconst strLine = this.line.toString();\n\t\tlet strColumn = null;\n\t\tif(this.column) {\n\t\t\tstrColumn = this.column.toString();\n\t\t}\n\t\tlet text = null;\n\t\tif(strColumn) {\n\t\t\ttext = `${this.id}[${strLine}][${strColumn}]`;\n\t\t} else {\n\t\t\ttext = `${this.id}[${strLine}]`;\n\t\t}\n\t\tif(this.parenthesis ){\n\t\t\treturn `(${text})`\n\t\t} else {\n\t\t\treturn text;\n\t\t}\n\t}\n}","import { Literal } from './literal';\n\nexport class ArrayLiteral extends Literal {\n  \n  /**\n   * \n   * @param {import('../../typeSystem/itype').IType} type \n   * @param {import('./expression').Expression[]} value \n   */\n  constructor(type, value) {\n    super(type);\n    this.value = value;\n  }\n\n  get subtype () {\n    const element = this.value[0];\n    if (element instanceof ArrayLiteral) {\n      return element.value[0].type;\n    } else {\n      return element.type;\n    }\n  }\n\n  get lines () {\n    return this.value.length;\n  }\n\n  get columns () {\n    const element = this.value[0];\n    if (!(element instanceof ArrayLiteral)){\n      return null;\n    } else {\n      return element.value.length;\n    }\n  }\n\n  get isVector () {\n    return this.columns === null;\n  }\n\n  get isValid () {\n    return this.validateSize() && this.validateType();\n  }\n\n  validateType () {\n    const valid = true;\n    // const subtype = this.subtype;\n    // if(this.columns !== null) {\n    //   const len = this.lines;\n    //   const len2 = this.columns;\n    //   for (let i = len - 1; i >= 0 && valid; --i) {\n    //     for (let j = len2 - 1; j >= 0 && valid; --j) {\n    //       if(!this.value[i].value[j].type.isCompatilbe(subtype)) {\n    //         valid = false;\n    //         break;\n    //       }\n    //     }\n    //   }\n    // } else {\n    //   const len = this.lines;\n    //   for (var i = len - 1; i >= 0 && valid; i--) {\n    //     if(!this.value[i].type.isCompatilbe(subtype)) {\n    //       valid = false;\n    //       break;\n    //     }\n    //   }\n    // }\n    // Cannot validate type since no information on variables literals are available\n    return valid;\n  }\n\n  validateSize () {\n    const valid = true;\n    // if(this.columns !== null) {\n    //   const equalityTest = this.value.map(v => v.value.length)\n    //     .reduce((old, next) => {\n    //       console.log(next);\n    //       if (old == null) {\n    //         return next;\n    //       } else if (old === next) {\n    //         return old\n    //       } else {\n    //         return -1;\n    //       }\n    //     }, null);\n    //   valid = equalityTest !== -1;\n    // }\n    // check is now made inside IVProgParser.parseVectorList(...)\n    return valid;\n  }\n\n  toString () {\n    const strList = this.value.map(arrayLiteral => arrayLiteral.toString());\n    const text = \"{\" + strList.join(',') + \"}\";\n    if(this.parenthesis) {\n      return `(${text})`;\n    } else {\n      return text;\n    }\n  }\n}\n","import { Literal } from './literal';\nimport { Types } from './../../typeSystem/types';\nimport { convertBoolToString } from \"./../../typeSystem/parsers\";\n\nexport class BoolLiteral extends Literal {\n  \n  constructor(value) {\n    super(Types.BOOLEAN);\n    this.value = value;\n  }\n\n  toString () {\n    const text = convertBoolToString(this.value);\n    if(this.parenthesis) {\n      return `(${text})`\n    } else {\n      return text;\n    }\n  }\n}","import { Literal } from './literal';\nimport { Types } from './../../typeSystem/types';\n\nexport class CharLiteral extends Literal {\n  \n  constructor(value) {\n    super(Types.CHAR);\n    this.value = value;\n  }\n\n  toString () {\n    const text = `'${this.value}'`;\n    if(this.parenthesis) {\n      return `(${text})`\n    } else {\n      return text;\n    }\n  }\n}","export class Expression {\n\n  constructor () {\n\t\tthis._sourceInfo = null;\n\t\tthis._parenthesis = false;\n  }\n\n  set sourceInfo (sourceInfo) {\n\t\tthis._sourceInfo = sourceInfo;\n\t}\n\n\tget sourceInfo () {\n\t\treturn this._sourceInfo;\n\t}\n\n\tset parenthesis (flag) {\n\t\tthis._parenthesis = flag;\n\t}\n\n\tget parenthesis () {\n\t\treturn this._parenthesis;\n\t}\n}","import { Expression } from './expression';\nimport { LanguageDefinedFunction } from '../../processor/definedFunctions';\n\nexport class FunctionCall extends Expression {\n\n\t/**\n\t * \n\t * @param {string} id \n\t * @param {Expression[]} actualParameters \n\t */\n\tconstructor (id, actualParameters) {\n\t\tsuper();\n\t\tthis.id = id;\n\t\tthis.actualParameters = actualParameters;\n\t}\n\n\tget isMainCall () {\n\t\treturn this.id === null;\n\t}\n\n\tget parametersSize () {\n\t\treturn this.actualParameters.length;\n\t}\n\n\ttoString () {\n\t\tlet name = null;\n\t\tif(this.isMainCall) {\n\t\t\tname = LanguageDefinedFunction.getMainFunctionName();\n\t\t} else {\n\t\t\tname = LanguageDefinedFunction.getLocalName(this.id);\n\t\t}\n\t\tlet params = null;\n\t\tif(this.actualParameters.length == 0) {\n\t\t\tparams = \"()\";\n\t\t} else {\n\t\t\tconst strParams = this.actualParameters.map(v => v.toString());\n\t\t\tparams = \"(\" + strParams.join(\",\") + \")\";\n\t\t}\n\t\tif(this.parenthesis) {\n\t\t\treturn `(${name + params})`;\n\t\t} else {\n\t\t\treturn name + params;\n\t\t}\n\t}\n}","import { ArrayAccess } from './arrayAccess';\nimport { FunctionCall } from './functionCall';\nimport { IntLiteral } from './intLiteral';\nimport { RealLiteral } from './realLiteral';\nimport { BoolLiteral } from './boolLiteral';\nimport { CharLiteral } from './charLiteral'\nimport { StringLiteral } from './stringLiteral';\nimport { ArrayLiteral } from './arrayLiteral';\nimport { VariableLiteral } from './variableLiteral';\nimport { InfixApp } from './infixApp';\nimport { UnaryApp } from './unaryApp';\n\nexport {\n\tArrayAccess,\n\tFunctionCall,\n  IntLiteral,\n  RealLiteral,\n  BoolLiteral,\n  CharLiteral,\n  StringLiteral,\n  ArrayLiteral,\n  VariableLiteral,\n  InfixApp,\n  UnaryApp\n};","import { Expression } from './expression';\n\nexport class InfixApp extends Expression {\n\n  constructor(op, left, right) {\n    super();\n    this.op = op;\n    this.left = left;\n    this.right = right;\n  }\n\n  toString () {\n    const l = this.left.toString();\n    const op = this.op.value;\n    const r = this.right.toString();\n    if(this.parenthesis) {\n      return  `(${l + op + r})`;\n    } else {\n      return l + op + r;\n    }\n  }\n}","import { Literal } from './literal';\nimport { Types } from './../../typeSystem/types';\nimport { convertToString } from './../../typeSystem/parsers';\n\nexport class IntLiteral extends Literal {\n  \n  constructor(value) {\n    super(Types.INTEGER);\n    this.value = value;\n  }\n\n  toString() {\n    const text = convertToString(this.value, this.type);\n    if(this.parenthesis) {\n      return `(${text})`;\n    } else {\n      return text;\n    }\n  }\n}","import { Expression } from './expression';\n\nexport class Literal extends Expression {\n  \n  constructor (type) {\n    super();\n    this.type = type;\n  }\n}","import { Literal } from './literal';\nimport { Types } from './../../typeSystem/types';\nimport { convertToString } from './../../typeSystem/parsers';\n\nexport class RealLiteral extends Literal {\n  \n  constructor(value) {\n    super(Types.REAL);\n    this.value = value;\n  }\n\n  toString() {\n    const text = convertToString(this.value, this.type);\n    if (this.parenthesis) {\n      return `(${text})`;\n    } else {\n      return text;\n    }\n  }\n}","import { Literal } from './literal';\nimport { Types } from './../../typeSystem/types';\n\nexport class StringLiteral extends Literal {\n  \n  constructor(value) {\n    super(Types.STRING);\n    this.value = value;\n  }\n\n  toString() {\n    const text = '\"' + this.value + '\"';\n    if(this.parenthesis) {\n      return `(${text})`;\n    } else {\n      return text;\n    }\n  }\n}","import {InfixApp} from './infixApp';\n\nexport class UnaryApp extends InfixApp {\n  \n  constructor (op, left) {\n    super(op, left, null);\n  }\n\n  toString () {\n    const l = this.left.toString();\n    const op = this.op.value;\n    if(this.parenthesis) {\n      return `(${op + l})`;\n    } else {\n      return op + l;\n    }\n  }\n}","import { Literal } from './literal';\nimport { Types } from './../../typeSystem/types';\n\nexport class VariableLiteral extends Literal {\n  \n  constructor(id) {\n    super(Types.UNDEFINED);\n    this.id = id;\n  }\n\n  toString () {\n    if(this.parenthesis) {\n      return `(${this.id})`;\n    } else {\n      return this.id;\n    }\n  }\n}","// iVProg - www.usp.br/line/ivprog\n// LInE - Free Education, Private Data\n\nimport * as Expressions from \"./expressions\";\nimport * as Commands from \"./commands\";\nimport * as Parsers from \"../typeSystem/parsers\";\nimport { Types } from \"../typeSystem/types\";\nimport { ArrayType } from \"../typeSystem/array_type\";\nimport { SourceInfo } from \"./sourceInfo\";\nimport { convertFromString } from \"./operators\";\nimport { SyntaxErrorFactory } from \"./error/syntaxErrorFactory\";\nimport { LanguageDefinedFunction } from \"../processor/definedFunctions\";\nimport { LanguageService } from \"../services/languageService\";\n\nexport class IVProgParser {\n\n  static createParser (input, fill = true) {\n    // Language Detection: this allow iVProg load without error when it\n    // is under language X, but ivph code is under another language Y\n    if (input!=\"\" && input!=null) { // undefined\n      if (input.includes(\"programa\") && input.includes(\"funcao\")) {\n        LanguageService.setLang('pt');\n        }\n      else {\n        LanguageService.setLang('en');\n        }\n      }\n    const lexer = LanguageService.getCurrentLexer();\n    const parser = new IVProgParser(input, lexer);\n    if (fill) {\n      parser.fill();\n    }\n    return parser;\n  }\n\n  // <BEGIN scope consts>\n  static get BASE () {\n    return 0;\n  }\n  static get FUNCTION () {\n    return 1;\n  }\n  static get COMMAND () {\n    return 2;\n  }\n  static get BREAKABLE () {\n    return 4;\n  }\n  // </ END scope consts>\n  //\n  static get EOF_TOKEN () {\n    return {\n      text: null,\n      line: -1,\n      col: -1,\n      value: null,\n      offset: -1,\n      lineBreaks: false,\n      type: \"EOF\",\n    };\n  }\n\n  /**\n   * @param {string} input\n   * @param {IVProgLexer} ivprogLexer\n   **/\n  constructor (input, ivprogLexer) {\n    this.ivprogLexer = ivprogLexer;\n    this.inputStream = input;\n    this.lexer = ivprogLexer.lexer;\n    this.tokenStream = [];\n    this.pos = 0;\n    this.ruleNames = ivprogLexer.getRules();\n    this.variableTypes = Object.entries(this.ivprogLexer.getTypeKeys()).map(\n      ([key, _]) => key\n    );\n    this.functionTypes = this.variableTypes.concat(this.ruleNames.RK_VOID);\n\n    this.parsingArrayDimension = 0;\n    this.scope = [];\n    this.langFuncs = this.ivprogLexer.getLangFuncs();\n    this.definedFuncsNameList = [];\n    this.definedVariablesStack = [];\n  }\n\n  fill (stream = null) {\n    if (stream) {\n      this.tokenStream = stream;\n      return;\n    }\n    this.tokenStream = Array.from(this.lexer.reset(this.inputStream));\n    this.tokenStream = this.tokenStream.filter((token) => {\n      // Throws an exception in case of invalid syntax\n      if (token.type === this.ruleNames.ERROR) {\n        let text = token.text;\n        const line = token.line;\n        const column = token.col;\n        throw SyntaxErrorFactory.invalid_syntax(text, line, column);\n      }\n      // remove all whitespaces token and comments\n      return (\n        token.type !== this.ruleNames.WHITESPACE &&\n        token.type !== this.ruleNames.COMMENTS\n      );\n    });\n  }\n\n  parseTree () {\n    return this.parseProgram();\n  }\n\n  /**\n   * @param {number} index\n   * @return {moo.Token}\n   * */\n  getToken (index = this.pos) {\n    // if(index === null)\n    //   index = this.pos;\n    if (index >= this.tokenStream.length) {\n      return IVProgParser.EOF_TOKEN;\n    }\n    return this.tokenStream[index];\n  }\n\n  insideScope (scope) {\n    if (this.scope.length <= 0) {\n      return IVProgParser.BASE === scope;\n    } else {\n      return this.scope[this.scope.length - 1] === scope;\n    }\n  }\n\n  pushScope (scope) {\n    this.scope.push(scope);\n  }\n\n  pushVariableStack () {\n    this.definedVariablesStack.push([]);\n  }\n\n  popScope () {\n    return this.scope.pop();\n  }\n\n  popVariableStack () {\n    return this.definedVariablesStack.pop();\n  }\n\n  getCurrentVariableStack () {\n    return this.definedVariablesStack[this.definedVariablesStack.length - 1];\n  }\n\n  isEOF () {\n    return this.getToken(this.pos).type === IVProgParser.EOF_TOKEN.type;\n  }\n\n  parseProgram () {\n    this.consumeNewLines();\n    const token = this.getToken();\n    let globalVars = [];\n    let functions = [];\n\n    if (this.ruleNames.RK_PROGRAM === token.type) {\n      this.pos++;\n      this.consumeNewLines();\n      this.checkOpenCurly();\n      this.pos++;\n      this.pushVariableStack();\n      for (;;) {\n        this.consumeNewLines();\n        const token = this.getToken();\n        if (\n          token.type === this.ruleNames.RK_CONST ||\n          this.isVariableType(token)\n        ) {\n          globalVars = globalVars.concat(this.parseGlobalVariables());\n        } else if (token.type === this.ruleNames.RK_FUNCTION) {\n          this.pushVariableStack();\n          functions = functions.concat(this.parseFunction());\n          this.popVariableStack();\n        } else {\n          break;\n        }\n      }\n      this.consumeNewLines();\n      this.checkCloseCurly();\n      this.pos++;\n      this.consumeNewLines();\n      if (!this.isEOF()) {\n        console.log(this.getToken());\n        throw SyntaxErrorFactory.extra_lines();\n      }\n      this.popVariableStack();\n      return { global: globalVars, functions: functions };\n    } else {\n      throw SyntaxErrorFactory.token_missing_one(\n        this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_PROGRAM],\n        token\n      );\n    }\n  }\n\n  checkOpenCurly (attempt = false) {\n    const token = this.getToken();\n    if (this.ruleNames.OPEN_CURLY !== token.type) {\n      if (!attempt) throw SyntaxErrorFactory.token_missing_one(\"{\", token);\n      else return false;\n    }\n    return true;\n  }\n\n  checkCloseCurly (attempt = false) {\n    const token = this.getToken();\n    if (this.ruleNames.CLOSE_CURLY !== token.type) {\n      if (!attempt) throw SyntaxErrorFactory.token_missing_one(\"}\", token);\n      else return false;\n    }\n    return true;\n  }\n\n  /* It checks if the current token at position pos is a ']'.\n   * As a check function it doesn't increment pos.\n   *\n   * @params bool:attempt, indicates that the token is optional. Defaults: false\n   *\n   * @returns true if the attempt is true and current token is '[',\n   *   false is attempt is true and current token is not '['\n   **/\n  checkOpenBrace (attempt = false) {\n    const token = this.getToken();\n    if (this.ruleNames.OPEN_BRACE !== token.type) {\n      if (!attempt) {\n        throw SyntaxErrorFactory.token_missing_one(\"[\", token);\n      } else {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  checkCloseBrace (attempt = false) {\n    const token = this.getToken();\n    if (this.ruleNames.CLOSE_BRACE !== token.type) {\n      if (!attempt) {\n        throw SyntaxErrorFactory.token_missing_one(\"]\", token);\n      } else {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  checkOpenParenthesis (attempt = false) {\n    const token = this.getToken();\n    if (this.ruleNames.OPEN_PARENTHESIS !== token.type) {\n      if (!attempt) {\n        throw SyntaxErrorFactory.token_missing_one(\"(\", token);\n      } else {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  checkCloseParenthesis (attempt = false) {\n    const token = this.getToken();\n    if (this.ruleNames.CLOSE_PARENTHESIS !== token.type) {\n      if (!attempt) {\n        throw SyntaxErrorFactory.token_missing_one(\")\", token);\n      } else {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  checkEOS (attempt = false) {\n    const eosToken = this.getToken();\n    if (eosToken.type !== this.ruleNames.EOS) {\n      if (!attempt) throw SyntaxErrorFactory.eos_missing(eosToken);\n      else return false;\n    }\n    return true;\n  }\n\n  checkFunctionDuplicate (functionID, funcIDToken) {\n    const id = functionID === null ? \"$main\" : functionID;\n    const index = this.definedFuncsNameList.indexOf(id);\n    if (index !== -1) {\n      throw SyntaxErrorFactory.duplicate_function(funcIDToken);\n    }\n    this.definedFuncsNameList.push(id);\n  }\n  checkVariableDuplicate (variableID, sourceInfo) {\n    const index = this.getCurrentVariableStack().indexOf(variableID);\n    if (index !== -1) {\n      throw SyntaxErrorFactory.duplicate_variable(sourceInfo);\n    }\n    this.getCurrentVariableStack().push(variableID);\n  }\n\n  consumeForSemiColon () {\n    const eosToken = this.getToken();\n    if (eosToken.type === this.ruleNames.EOS && eosToken.text.match(\"^;$\")) {\n      this.pos++;\n      return;\n    }\n    throw SyntaxErrorFactory.token_missing_one(\";\", eosToken);\n  }\n\n  parseGlobalVariables () {\n    const decl = this.parseMaybeConst();\n    this.checkEOS();\n    this.pos++;\n    return decl;\n  }\n\n  /*\n   * Checks if the next token is PR_CONST. It's only available\n   * at global variables declaration level\n   * @returns Declararion(const, type, id, initVal?)\n   **/\n  parseMaybeConst () {\n    const constToken = this.getToken();\n    if (constToken.type === this.ruleNames.RK_CONST) {\n      this.pos++;\n      const typeString = this.parseType();\n      return this.parseDeclaration(typeString, true);\n    } else if (this.isVariableType(constToken)) {\n      const typeString = this.parseType();\n      return this.parseDeclaration(typeString);\n    } else {\n      throw SyntaxErrorFactory.token_missing_list(\n        [this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_CONST]].concat(\n          this.getTypeArray()\n        ),\n        constToken\n      );\n    }\n  }\n\n  /**\n   * Parses a declarion of the form: type --- id --- (= --- EAnd)?\n   * @return {Commands.Declartion[]} a list of Declararion(const, type, id, initVal?)\n   **/\n  parseDeclaration (typeString, isConst = false) {\n    let initial = null;\n    let dim1 = null;\n    let dim2 = null;\n    let dimensions = 0;\n    const sourceInfo = SourceInfo.createSourceInfo(this.getToken());\n    const idString = this.parseID();\n    this.checkVariableDuplicate(idString, sourceInfo);\n    // Check for array or vector\n    // ID[int/IDi?][int/IDj?]\n    if (this.checkOpenBrace(true)) {\n      this.pos += 1;\n      this.consumeNewLines();\n      dim1 = this.parseArrayDimension();\n      this.consumeNewLines();\n      this.checkCloseBrace();\n      this.pos += 1;\n      dimensions += 1;\n      if (this.checkOpenBrace(true)) {\n        this.pos += 1;\n        this.consumeNewLines();\n        dim2 = this.parseArrayDimension();\n        this.consumeNewLines();\n        this.checkCloseBrace();\n        this.pos += 1;\n        dimensions += 1;\n      }\n      return this.parseArrayDeclaration(\n        typeString,\n        isConst,\n        idString,\n        sourceInfo,\n        dimensions,\n        dim1,\n        dim2\n      );\n    } else {\n      const assignmentToken = this.getToken();\n      if (isConst && assignmentToken.type !== this.ruleNames.ASSIGNMENT) {\n        throw SyntaxErrorFactory.const_not_init(sourceInfo);\n      }\n      if (assignmentToken.type === this.ruleNames.ASSIGNMENT) {\n        this.pos++;\n        initial = this.parseExpressionOR();\n      }\n      const declaration = new Commands.Declaration(\n        idString,\n        typeString,\n        initial,\n        isConst\n      );\n      declaration.sourceInfo = sourceInfo;\n      const commaToken = this.getToken();\n      if (commaToken.type === this.ruleNames.COMMA) {\n        this.pos++;\n        this.consumeNewLines();\n        return [declaration].concat(this.parseDeclaration(typeString, isConst));\n      } else {\n        return [declaration];\n      }\n    }\n  }\n\n  parseArrayDeclaration (\n    typeString,\n    isConst,\n    idString,\n    sourceInfo,\n    dimensions,\n    dim1,\n    dim2\n  ) {\n    const assignmentToken = this.getToken();\n    let n_lines = dim1;\n    let n_columns = dim2;\n    let initial = null;\n    let dim_is_id = false;\n    if (\n      dim1 instanceof Expressions.VariableLiteral ||\n      dim2 instanceof Expressions.VariableLiteral\n    ) {\n      dim_is_id = true;\n      if (dimensions > 1 && (dim1 == null || dim2 == null)) {\n        throw SyntaxErrorFactory.invalid_matrix_id_dimension(\n          SourceInfo.createSourceInfo(assignmentToken)\n        );\n      }\n    }\n    if (isConst && assignmentToken.type !== this.ruleNames.ASSIGNMENT) {\n      throw SyntaxErrorFactory.const_not_init(sourceInfo);\n    }\n    if (assignmentToken.type === this.ruleNames.ASSIGNMENT) {\n      if (dim_is_id) {\n        if (dimensions == 1) {\n          throw SyntaxErrorFactory.invalid_vector_init(\n            SourceInfo.createSourceInfo(assignmentToken)\n          );\n        } else {\n          throw SyntaxErrorFactory.invalid_matrix_init(\n            SourceInfo.createSourceInfo(assignmentToken)\n          );\n        }\n      }\n      this.pos += 1;\n      initial = this.parseArrayLiteral(typeString);\n    }\n    if (initial == null && dim1 == null) {\n      if (dimensions > 1) {\n        throw SyntaxErrorFactory.cannot_infer_matrix_line(idString, sourceInfo);\n      }\n      throw SyntaxErrorFactory.cannot_infer_vector_size(idString, sourceInfo);\n    }\n    if (dimensions > 1) {\n      if (initial == null && dim2 == null) {\n        throw SyntaxErrorFactory.cannot_infer_matrix_column(\n          idString,\n          sourceInfo\n        );\n      }\n    }\n\n    if (dimensions === 1 && initial != null && !initial.isVector) {\n      const expString = initial.toString();\n      throw SyntaxErrorFactory.matrix_to_vector_literal_attr(\n        idString,\n        expString,\n        initial.sourceInfo\n      );\n    } else if (dimensions > 1 && initial != null && initial.isVector) {\n      const expString = initial.toString();\n      throw SyntaxErrorFactory.vector_to_matrix_literal_attr(\n        idString,\n        expString,\n        initial.sourceInfo\n      );\n    }\n\n    if (dim1 == null) {\n      n_lines = new Expressions.IntLiteral(Parsers.toInt(initial.lines));\n      n_lines.sourceInfo = sourceInfo;\n    }\n\n    if (dimensions > 1) {\n      if (dim2 == null) {\n        n_columns = new Expressions.IntLiteral(Parsers.toInt(initial.columns));\n        n_columns.sourceInfo = sourceInfo;\n      }\n    }\n    const declaration = new Commands.ArrayDeclaration(\n      idString,\n      new ArrayType(typeString, dimensions),\n      n_lines,\n      n_columns,\n      initial,\n      isConst\n    );\n    declaration.sourceInfo = sourceInfo;\n    const commaToken = this.getToken();\n    if (commaToken.type === this.ruleNames.COMMA) {\n      this.pos++;\n      this.consumeNewLines();\n      return [declaration].concat(this.parseDeclaration(typeString, isConst));\n    } else {\n      return [declaration];\n    }\n  }\n\n  consumeNewLines () {\n    let token = this.getToken();\n    while (\n      token &&\n      token.type === this.ruleNames.EOS &&\n      token.text.match(\"^[\\r\\n]+$\")\n    ) {\n      this.pos++;\n      token = this.getToken();\n    }\n  }\n\n  isVariableType (token) {\n    return this.variableTypes.find((v) => v === token.type);\n  }\n\n  /**\n   * Reads the next token of the stream to check if it is a Integer or an ID.\n   * @returns Integer | ID\n   **/\n  parseArrayDimension () {\n    const dimToken = this.getToken();\n    if (dimToken.type === this.ruleNames.INTEGER) {\n      //parse as int literal\n      this.pos++;\n      return this.getIntLiteral(dimToken);\n    } else if (dimToken.type === this.ruleNames.ID) {\n      //parse as variable\n      this.pos++;\n      return this.parseVariable(dimToken);\n    } else if (dimToken.type === this.ruleNames.CLOSE_BRACE) {\n      return null;\n    } else {\n      throw SyntaxErrorFactory.invalid_array_dimension(\n        this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_INTEGER],\n        dimToken\n      );\n    }\n  }\n\n  /**\n   * Returns an object {type: 'int', value: value}.\n   * It checks for binary and hexadecimal integers.\n   * @param {moo.Token} token\n   * @return {Object} object with fields type and value\n   **/\n  getIntLiteral (token) {\n    const text = token.text;\n    const sourceInfo = SourceInfo.createSourceInfo(token);\n    const exp = new Expressions.IntLiteral(Parsers.toInt(text));\n    exp.sourceInfo = sourceInfo;\n    return exp;\n  }\n\n  getRealLiteral (token) {\n    const sourceInfo = SourceInfo.createSourceInfo(token);\n    const exp = new Expressions.RealLiteral(Parsers.toReal(token.text));\n    exp.sourceInfo = sourceInfo;\n    return exp;\n  }\n\n  getStringLiteral (token) {\n    const text = token.text;\n    const sourceInfo = SourceInfo.createSourceInfo(token);\n    const exp = new Expressions.StringLiteral(Parsers.toString(text));\n    exp.sourceInfo = sourceInfo;\n    return exp;\n  }\n\n  getCharLiteral (token) {\n    const text = token.text;\n    const exp = new Expressions.CharLiteral(Parsers.toChar(text));\n    exp.sourceInfo = SourceInfo.createSourceInfo(token);\n    return exp;\n  }\n\n  getBoolLiteral (token) {\n    const val = Parsers.toBool(token.text);\n    const exp = new Expressions.BoolLiteral(val);\n    exp.sourceInfo = SourceInfo.createSourceInfo(token);\n    return exp;\n  }\n\n  parseArrayLiteral (typeString) {\n    const openCurly = this.checkOpenCurly(true);\n    if (!openCurly) {\n      const invalid_token = this.getToken();\n      throw SyntaxErrorFactory.array_init_not_literal(\n        SourceInfo.createSourceInfo(invalid_token)\n      );\n    }\n    const beginArray = this.getToken();\n    if (this.parsingArrayDimension >= 2) {\n      throw SyntaxErrorFactory.array_exceeds_2d(\n        SourceInfo.createSourceInfo(beginArray)\n      );\n    }\n    this.pos += 1;\n    this.parsingArrayDimension += 1;\n    this.consumeNewLines();\n    let data = null;\n    const maybeCurlyOpen = this.checkOpenCurly(true);\n    if (maybeCurlyOpen) {\n      // This is potentially a list of vectors\n      data = this.parseVectorList(typeString);\n    } else {\n      data = this.parseExpressionList();\n    }\n    this.consumeNewLines();\n    this.checkCloseCurly();\n    const endArray = this.getToken();\n    this.pos += 1;\n    this.parsingArrayDimension -= 1;\n    const sourceInfo = SourceInfo.createSourceInfoFromList(\n      beginArray,\n      endArray\n    );\n    let dataDim = 1;\n    if (data[0] instanceof Expressions.ArrayLiteral) {\n      dataDim += 1;\n    } else if (data.length == 1) {\n      console.log(\"Talvez uma variável seja uma melhor opção\");\n    }\n    const type = new ArrayType(typeString, dataDim);\n    const exp = new Expressions.ArrayLiteral(type, data);\n    exp.sourceInfo = sourceInfo;\n    return exp;\n  }\n\n  /**\n   * Returns a list of ArrayLiterals. Helper function for parsing matrices\n   */\n  parseVectorList (typeString) {\n    const list = [];\n    let lastSize = null;\n    for (;;) {\n      this.checkOpenCurly();\n      const beginArray = this.getToken();\n      if (this.parsingArrayDimension >= 2) {\n        throw SyntaxErrorFactory.array_exceeds_2d(\n          SourceInfo.createSourceInfo(beginArray)\n        );\n      }\n      this.pos += 1;\n      this.parsingArrayDimension += 1;\n      this.consumeNewLines();\n      const data = this.parseExpressionList();\n      this.consumeNewLines();\n      this.checkCloseCurly();\n      const endArray = this.getToken();\n      this.pos += 1;\n      this.parsingArrayDimension -= 1;\n      const sourceInfo = SourceInfo.createSourceInfoFromList(\n        beginArray,\n        endArray\n      );\n      if (lastSize == null) {\n        lastSize = data.length;\n      } else if (lastSize !== data.length) {\n        const expString = this.inputStream.substring(\n          beginArray.offset,\n          endArray.offset + endArray.text.length\n        );\n        throw SyntaxErrorFactory.invalid_matrix_literal_line(\n          expString,\n          sourceInfo\n        );\n      }\n      const type = new ArrayType(typeString, 1);\n      const exp = new Expressions.ArrayLiteral(type, data);\n      exp.sourceInfo = sourceInfo;\n      list.push(exp);\n      const commaToken = this.getToken();\n      if (commaToken.type !== this.ruleNames.COMMA) {\n        break;\n      }\n      this.pos += 1;\n      this.consumeNewLines();\n    }\n    if (list.length == 1) {\n      console.log(\"Talvez um vetor seja uma melhor opção\");\n    }\n    return list;\n  }\n\n  /*\n   * Returns an object {type: 'variable', value: value}.\n   * @returns object with fields type and value\n   **/\n  parseVariable (token) {\n    const sourceInfo = SourceInfo.createSourceInfo(token);\n    const exp = new Expressions.VariableLiteral(token.text);\n    exp.sourceInfo = sourceInfo;\n    return exp;\n  }\n\n  /*\n   * Returns an object representing a function. It has\n   * four attributes: returnType, id, formalParams and block.\n   * The block object has two attributes: declarations and commands\n   **/\n  parseFunction () {\n    this.pushScope(IVProgParser.FUNCTION);\n    let formalParams = [];\n    const token = this.getToken();\n    if (token.type !== this.ruleNames.RK_FUNCTION) {\n      //throw SyntaxError.createError(this.lexer.literalNames[this.lexerClass.PR_FUNCAO], token);\n      return null;\n    }\n    this.pos++;\n    const funType = this.parseType();\n    let dimensions = 0;\n    if (this.checkOpenBrace(true)) {\n      this.pos++;\n      this.checkCloseBrace();\n      this.pos++;\n      dimensions++;\n      if (this.checkOpenBrace(true)) {\n        this.pos++;\n        this.checkCloseBrace();\n        this.pos++;\n        dimensions++;\n      }\n    }\n    const funcIDToken = this.getToken();\n    const functionID = this.parseID();\n    this.checkFunctionDuplicate(functionID, funcIDToken);\n    this.checkOpenParenthesis();\n    this.pos++;\n    this.consumeNewLines();\n    if (!this.checkCloseParenthesis(true)) {\n      formalParams = this.parseFormalParameters(); // formal parameters\n      this.consumeNewLines();\n      this.checkCloseParenthesis();\n      this.pos++;\n    } else {\n      this.pos++;\n    }\n    this.consumeNewLines();\n    const commandsBlock = this.parseCommandBlock();\n    let returnType = funType;\n    if (dimensions > 0) {\n      returnType = new ArrayType(funType, dimensions);\n    }\n    const func = new Commands.Function(\n      functionID,\n      returnType,\n      formalParams,\n      commandsBlock\n    );\n    if (functionID === null && !func.isMain) {\n      throw SyntaxErrorFactory.invalid_main_return(\n        LanguageDefinedFunction.getMainFunctionName(),\n        this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_VOID],\n        token.line\n      );\n    } else if (func.isMain && formalParams.length !== 0) {\n      throw SyntaxErrorFactory.main_parameters();\n    }\n    this.popScope();\n    func.sourceInfo = SourceInfo.createSourceInfo(funcIDToken);\n    return func;\n  }\n\n  /*\n   * Parse the formal parameters of a function.\n   * @returns a list of objects with the following attributes: type, id and dimensions.\n   **/\n  parseFormalParameters () {\n    const list = [];\n    for (;;) {\n      let dimensions = 0;\n      let reference = false;\n      const typeString = this.parseType();\n      let maybeIDToken = this.getToken();\n      if (maybeIDToken.type === this.ruleNames.RK_REFERENCE) {\n        reference = true;\n        this.pos += 1;\n        maybeIDToken = this.getToken();\n      }\n      const idString = this.parseID();\n      this.checkVariableDuplicate(idString, maybeIDToken);\n      if (this.checkOpenBrace(true)) {\n        this.pos += 1;\n        dimensions += 1;\n        this.checkCloseBrace();\n        this.pos += 1;\n        if (this.checkOpenBrace(true)) {\n          this.pos += 1;\n          dimensions += 1;\n          this.checkCloseBrace();\n          this.pos += 1;\n        }\n      }\n      let type = null;\n      if (dimensions > 0) {\n        type = new ArrayType(typeString, dimensions);\n      } else {\n        type = typeString;\n      }\n      const parameter = new Commands.FormalParameter(type, idString, reference);\n      parameter.sourceInfo = SourceInfo.createSourceInfo(maybeIDToken);\n      list.push(parameter);\n      const commaToken = this.getToken();\n      if (commaToken.type !== this.ruleNames.COMMA) break;\n      this.pos++;\n      this.consumeNewLines();\n    }\n    return list;\n  }\n\n  parseID () {\n    const token = this.getToken();\n    if (token.type !== this.ruleNames.ID) {\n      throw SyntaxErrorFactory.id_missing(token);\n    }\n    this.pos++;\n    if (this.insideScope(IVProgParser.FUNCTION)) {\n      if (token.text === LanguageDefinedFunction.getMainFunctionName()) {\n        return null;\n      }\n    }\n    return token.text;\n  }\n\n  /**\n   * @return {string}\n   **/\n  parseMaybeLibID () {\n    const token = this.getToken();\n    if (token.type !== this.ruleNames.ID) {\n      throw SyntaxErrorFactory.id_missing(token);\n    }\n    const maybeDOT = this.getToken(this.pos + 1);\n    if (maybeDOT.type === this.ruleNames.DOT) {\n      this.pos += 2;\n      const anotherID = this.getToken();\n      if (anotherID.type !== this.ruleNames.ID) {\n        throw SyntaxErrorFactory.id_missing(anotherID);\n      }\n      this.pos++;\n      return `${token.text}.${anotherID.text}`;\n    }\n    this.pos++;\n    return token.text;\n  }\n\n  parseType () {\n    const token = this.getToken();\n    if (\n      token.type === this.ruleNames.ID &&\n      this.insideScope(IVProgParser.FUNCTION)\n    ) {\n      return Types.VOID;\n    } else if (\n      token.type === this.ruleNames.RK_VOID &&\n      this.insideScope(IVProgParser.FUNCTION)\n    ) {\n      this.pos++;\n      return Types.VOID;\n    } else if (this.isVariableType(token)) {\n      this.pos++;\n      switch (token.type) {\n        case this.ruleNames.RK_INTEGER:\n          return Types.INTEGER;\n        case this.ruleNames.RK_BOOLEAN:\n          return Types.BOOLEAN;\n        case this.ruleNames.RK_REAL:\n          return Types.REAL;\n        case this.ruleNames.RK_STRING:\n          return Types.STRING;\n        case this.ruleNames.RK_CHARACTER:\n          return Types.CHAR;\n        default:\n          break;\n      }\n    }\n\n    throw SyntaxErrorFactory.invalid_type(this.getTypeArray(), token);\n  }\n\n  parseCommandBlock (optionalCurly = false) {\n    let variablesDecl = [];\n    const commands = [];\n    let hasOpen = false;\n    if (this.checkOpenCurly(optionalCurly)) {\n      this.pos++;\n      hasOpen = true;\n    }\n    this.consumeNewLines();\n    let parsedCommand = false;\n    for (;;) {\n      const cmd = this.parseCommand();\n      if (cmd === null) break;\n      if (cmd !== -1) {\n        if (cmd instanceof Array) {\n          if (parsedCommand) {\n            const lastToken = this.getToken(this.pos - 1);\n            throw SyntaxErrorFactory.invalid_var_declaration(lastToken);\n          }\n          variablesDecl = variablesDecl.concat(cmd);\n        } else {\n          parsedCommand = true;\n          commands.push(cmd);\n        }\n      }\n    }\n    this.consumeNewLines();\n    if (hasOpen) {\n      this.checkCloseCurly();\n      this.pos++;\n      this.consumeNewLines();\n    }\n    return new Commands.CommandBlock(variablesDecl, commands);\n  }\n\n  parseCommand () {\n    const token = this.getToken();\n    if (this.isVariableType(token)) {\n      if (!this.insideScope(IVProgParser.FUNCTION)) {\n        throw SyntaxErrorFactory.invalid_var_declaration(token);\n      }\n      this.pushScope(IVProgParser.BASE);\n      const varType = this.parseType();\n      this.popScope();\n      const cmd = this.parseDeclaration(varType);\n      this.checkEOS();\n      this.pos++;\n      return cmd;\n    } else if (token.type === this.ruleNames.ID) {\n      return this.parseIDCommand();\n    } else if (token.type === this.ruleNames.DOT) {\n      // TODO Check if this is relevant since DOT is a replacement for antlr4 LIB_ID :=> ID . ID\n      throw SyntaxErrorFactory.invalid_syntax(\n        token.text,\n        token.line,\n        token.col\n      );\n    } else if (token.type === this.ruleNames.RK_RETURN) {\n      return this.parseReturn();\n    } else if (\n      token.type === this.ruleNames.RK_WHILE ||\n      token.type === this.ruleNames.RK_WHILE_ALT\n    ) {\n      return this.parseWhile();\n    } else if (\n      token.type === this.ruleNames.RK_FOR ||\n      token.type === this.ruleNames.RK_FOR_ALT\n    ) {\n      return this.parseFor();\n    } else if (token.type === this.ruleNames.RK_BREAK) {\n      if (!this.insideScope(IVProgParser.BREAKABLE)) {\n        throw SyntaxErrorFactory.invalid_break_command(\n          this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_BREAK],\n          token\n        );\n      }\n      return this.parseBreak();\n    } else if (token.type === this.ruleNames.RK_SWITCH) {\n      return this.parseSwitchCase();\n    } else if (token.type === this.ruleNames.RK_DO) {\n      return this.parseRepeatUntil();\n    } else if (token.type === this.ruleNames.RK_IF) {\n      return this.parseIfThenElse();\n    } else if (this.checkEOS(true)) {\n      this.pos++;\n      return -1;\n    } else {\n      return null;\n    }\n  }\n\n  parseSwitchCase () {\n    const token = this.getToken();\n    this.pushScope(IVProgParser.BREAKABLE);\n    this.pos++;\n    this.checkOpenParenthesis();\n    this.pos++;\n    this.consumeNewLines();\n    const exp = this.parseExpressionOR();\n    this.consumeNewLines();\n    this.checkCloseParenthesis();\n    this.pos++;\n    this.consumeNewLines();\n    this.checkOpenCurly();\n    this.pos++;\n    this.consumeNewLines();\n    const casesList = this.parseCases();\n    this.consumeNewLines();\n    this.checkCloseCurly();\n    this.pos++;\n    this.consumeNewLines();\n\n    this.popScope();\n    const command = new Commands.Switch(exp, casesList);\n    command.sourceInfo = SourceInfo.createSourceInfo(token);\n    return command;\n  }\n\n  parseRepeatUntil () {\n    const token = this.getToken();\n    this.pos++;\n    this.consumeNewLines();\n    this.pushScope(IVProgParser.BREAKABLE);\n    const commandsBlock = this.parseCommandBlock();\n    this.consumeNewLines(); //Maybe not...\n    const whileToken = this.getToken();\n    if (whileToken.type !== this.ruleNames.RK_DO_UNTIL) {\n      throw SyntaxErrorFactory.token_missing_one(\n        this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_DO_UNTIL],\n        whileToken\n      );\n    }\n    this.pos++;\n    this.checkOpenParenthesis();\n    this.pos++;\n    this.consumeNewLines();\n    const condition = this.parseExpressionOR();\n    this.consumeNewLines();\n    this.checkCloseParenthesis();\n    this.pos++;\n    this.checkEOS();\n    this.popScope();\n    const command = new Commands.RepeatUntil(condition, commandsBlock);\n    command.sourceInfo = SourceInfo.createSourceInfo(token);\n    return command;\n  }\n\n  parseIfThenElse () {\n    if (this.insideScope(IVProgParser.BREAKABLE)) {\n      this.pushScope(IVProgParser.BREAKABLE);\n    } else {\n      this.pushScope(IVProgParser.COMMAND);\n    }\n    const token = this.getToken();\n    this.pos++;\n    this.checkOpenParenthesis();\n    this.pos++;\n    this.consumeNewLines();\n    const logicalExpression = this.parseExpressionOR();\n    this.consumeNewLines();\n    this.checkCloseParenthesis();\n    this.pos++;\n    this.consumeNewLines();\n    const cmdBlocks = this.parseCommandBlock();\n\n    const maybeElse = this.getToken();\n    if (maybeElse.type === this.ruleNames.RK_ELSE) {\n      this.pos++;\n      this.consumeNewLines();\n      const maybeIf = this.getToken();\n      let elseBlock = null;\n      if (this.checkOpenCurly(true)) {\n        elseBlock = this.parseCommandBlock();\n      } else if (maybeIf.type === this.ruleNames.RK_IF) {\n        elseBlock = this.parseIfThenElse();\n      } else {\n        throw SyntaxErrorFactory.token_missing_list(\n          [this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_IF], \"{\"],\n          maybeIf\n        );\n      }\n      this.popScope();\n      const cmd = new Commands.IfThenElse(\n        logicalExpression,\n        cmdBlocks,\n        elseBlock\n      );\n      cmd.sourceInfo = SourceInfo.createSourceInfo(token);\n      return cmd;\n    }\n    this.popScope();\n\n    const cmd = new Commands.IfThenElse(logicalExpression, cmdBlocks, null);\n    cmd.sourceInfo = SourceInfo.createSourceInfo(token);\n    return cmd;\n  }\n\n  parseFor () {\n    this.pushScope(IVProgParser.BREAKABLE);\n    const for_token = this.getToken();\n    this.pos += 1;\n    // parse ID\n    const id_token = this.getToken();\n    const id = this.parseID();\n    const for_id = new Expressions.VariableLiteral(id);\n    for_id.sourceInfo = SourceInfo.createSourceInfo(id_token);\n    // END parse ID\n    const for_from = this.parseForParameters(this.ruleNames.RK_FOR_FROM);\n    const for_to = this.parseForParameters(this.ruleNames.RK_FOR_TO);\n    const maybePass = this.parseForParameters(this.ruleNames.RK_FOR_PASS);\n    this.consumeNewLines();\n    const commandsBlock = this.parseCommandBlock();\n    this.popScope();\n    const cmd = new Commands.For(\n      for_id,\n      for_from,\n      for_to,\n      maybePass,\n      commandsBlock\n    );\n    cmd.sourceInfo = SourceInfo.createSourceInfo(for_token);\n    return cmd;\n  }\n\n  parseWhile () {\n    this.pushScope(IVProgParser.BREAKABLE);\n    const token = this.getToken();\n    this.pos++;\n    this.checkOpenParenthesis();\n    this.pos++;\n    this.consumeNewLines();\n    const logicalExpression = this.parseExpressionOR();\n    this.consumeNewLines();\n    this.checkCloseParenthesis();\n    this.pos++;\n    this.consumeNewLines();\n    const cmdBlocks = this.parseCommandBlock();\n    this.popScope();\n    const cmd = new Commands.While(logicalExpression, cmdBlocks);\n    cmd.sourceInfo = SourceInfo.createSourceInfo(token);\n    return cmd;\n  }\n\n  parseBreak () {\n    const token = this.getToken();\n    this.pos++;\n    this.checkEOS();\n    this.pos++;\n    const command = new Commands.Break();\n    command.sourceInfo = SourceInfo.createSourceInfo(token);\n    return command;\n  }\n\n  parseReturn () {\n    const token = this.getToken();\n    this.pos++;\n    let exp = null;\n    if (!this.checkEOS(true)) {\n      exp = this.parseExpressionOR();\n      this.checkEOS();\n    }\n    this.pos++;\n    const returnCommand = new Commands.Return(exp);\n    returnCommand.sourceInfo = SourceInfo.createSourceInfo(token);\n    return returnCommand;\n  }\n\n  parseIDCommand () {\n    const refToken = this.getToken();\n    const id = this.parseMaybeLibID();\n    const isID = id.indexOf(\".\") === -1;\n    if (this.checkOpenBrace(true)) {\n      this.pos++;\n      let lineExpression = null;\n      let columnExpression = null;\n      this.consumeNewLines();\n      lineExpression = this.parseExpression();\n      this.consumeNewLines();\n      this.checkCloseBrace();\n      this.pos++;\n      if (this.checkOpenBrace(true)) {\n        this.pos++;\n        this.consumeNewLines();\n        columnExpression = this.parseExpression();\n        this.consumeNewLines();\n        this.checkCloseBrace();\n        this.pos++;\n      }\n      const assignmentToken = this.getToken();\n      if (assignmentToken.type !== this.ruleNames.ASSIGNMENT) {\n        // TODO BETTER MESSAGE\n        throw SyntaxErrorFactory.token_missing_one(\"<-\", assignmentToken);\n      }\n      this.pos++;\n      const exp = this.parseExpressionOR();\n      this.checkEOS();\n      this.pos++;\n      const cmd = new Commands.ArrayIndexAssign(\n        id,\n        lineExpression,\n        columnExpression,\n        exp\n      );\n      cmd.sourceInfo = SourceInfo.createSourceInfo(assignmentToken);\n      return cmd;\n    }\n    const assignmentOrParenthesis = this.getToken();\n    if (isID && assignmentOrParenthesis.type === this.ruleNames.ASSIGNMENT) {\n      this.pos++;\n      const exp = this.parseExpressionOR();\n      this.checkEOS();\n      this.pos++;\n      const cmd = new Commands.Assign(id, exp);\n      cmd.sourceInfo = SourceInfo.createSourceInfo(assignmentOrParenthesis);\n      return cmd;\n    } else if (\n      assignmentOrParenthesis.type === this.ruleNames.OPEN_PARENTHESIS\n    ) {\n      const funcCall = this.parseFunctionCallCommand(id);\n      this.checkEOS();\n      this.pos++;\n      return funcCall;\n    } else if (isID) {\n      throw SyntaxErrorFactory.token_missing_list(\n        [\"<-\", \"(\"],\n        assignmentOrParenthesis\n      );\n    } else {\n      throw SyntaxErrorFactory.invalid_id_format(refToken);\n    }\n  }\n\n  parseForParameters (keyword_code) {\n    if (keyword_code === this.ruleNames.RK_FOR_PASS) {\n      if (this.checkOpenCurly(true)) {\n        return null;\n      }\n    }\n    const from_token = this.getToken();\n    if (from_token.type !== keyword_code) {\n      // TODO better error message\n      const keyword = this.ivprogLexer.getReservedKeys()[keyword_code];\n      throw new Error(\n        \"Error de sintaxe no comando repita_para: esperava-se \" +\n          keyword +\n          \" mas encontrou \" +\n          from_token.text\n      );\n    }\n    this.pos += 1;\n    let int_or_id = this.getToken();\n    let is_unary_op = false;\n    let op = null;\n    if (int_or_id.type === this.ruleNames.SUM_OP) {\n      is_unary_op = true;\n      op = int_or_id.text;\n      this.pos += 1;\n      int_or_id = this.getToken();\n    }\n    let for_from = null;\n    if (int_or_id.type === this.ruleNames.ID) {\n      for_from = new Expressions.VariableLiteral(this.parseID());\n      for_from.sourceInfo = SourceInfo.createSourceInfo(int_or_id);\n    } else if (int_or_id.type === this.ruleNames.INTEGER) {\n      this.pos += 1;\n      for_from = this.getIntLiteral(int_or_id);\n    }\n    if (for_from == null) {\n      // TODO better error message\n      const keyword = this.ivprogLexer.getReservedKeys()[keyword_code];\n      throw new Error(\n        \"Error de sintaxe no comando repeita_para: \" +\n          int_or_id.text +\n          \" não é compativel com o esperado para o paramentro \" +\n          keyword +\n          \". O valor deve ser um inteiro ou variável.\"\n      );\n    }\n    if (is_unary_op) {\n      for_from = new Expressions.UnaryApp(convertFromString(op), for_from);\n    }\n    return for_from;\n  }\n\n  parseCases () {\n    const token = this.getToken();\n    if (token.type !== this.ruleNames.RK_CASE) {\n      throw SyntaxErrorFactory.token_missing_one(\n        this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_CASE],\n        token\n      );\n    }\n    this.pos++;\n    const nextToken = this.getToken();\n    if (nextToken.type === this.ruleNames.RK_DEFAULT) {\n      this.pos++;\n      const colonToken = this.getToken();\n      if (colonToken.type !== this.ruleNames.COLON) {\n        throw SyntaxErrorFactory.token_missing_one(\":\", colonToken);\n      }\n      this.pos++;\n      this.consumeNewLines();\n      const block = this.parseCommandBlock(true);\n      const defaultCase = new Commands.Case(null);\n      defaultCase.sourceInfo = SourceInfo.createSourceInfo(token);\n      defaultCase.setCommands(block.commands);\n      return [defaultCase];\n    } else {\n      const exp = this.parseExpressionOR();\n      const colonToken = this.getToken();\n      if (colonToken.type !== this.ruleNames.COLON) {\n        throw SyntaxErrorFactory.token_missing_one(\":\", colonToken);\n      }\n      this.pos++;\n      this.consumeNewLines();\n      const block = this.parseCommandBlock(true);\n      const aCase = new Commands.Case(exp);\n      aCase.sourceInfo = SourceInfo.createSourceInfo(token);\n      aCase.setCommands(block.commands);\n      const caseToken = this.getToken();\n      if (caseToken.type === this.ruleNames.RK_CASE) {\n        return [aCase].concat(this.parseCases());\n      } else {\n        return [aCase];\n      }\n    }\n  }\n\n  /*\n   * Parses an Expression following the structure:\n   *\n   * EOR  => EAnd ( 'or' EOR)? #expression and\n   *\n   * EAnd   => ENot ('and' EAnd)? #expression or\n   *\n   * ENot  => 'not'? ER #expression not\n   *\n   * ER    => E ((>=, <=, ==, >, <) ER)? #expression relational\n   *\n   * E     => factor ((+, -) E)? #expression\n   *\n   * factor=> term ((*, /, %) factor)?\n   *\n   * term  => literal || arrayAccess || FuncCall || ID || '('EOR')'\n   **/\n  parseExpressionOR () {\n    let exp1 = this.parseExpressionAND();\n    while (this.getToken().type === this.ruleNames.RK_LOGICAL_OR) {\n      const opToken = this.getToken();\n      this.pos++;\n      const or = convertFromString(\"or\");\n      this.consumeNewLines();\n      const exp2 = this.parseExpressionAND();\n      const finalExp = new Expressions.InfixApp(or, exp1, exp2);\n      finalExp.sourceInfo = SourceInfo.createSourceInfo(opToken);\n      exp1 = finalExp;\n    }\n    return exp1;\n  }\n\n  parseExpressionAND () {\n    let exp1 = this.parseExpressionNot();\n    while (this.getToken().type === this.ruleNames.RK_LOGICAL_AND) {\n      const opToken = this.getToken();\n      this.pos++;\n      const and = convertFromString(\"and\");\n      this.consumeNewLines();\n      const exp2 = this.parseExpressionNot();\n      const finalExp = new Expressions.InfixApp(and, exp1, exp2);\n      finalExp.sourceInfo = SourceInfo.createSourceInfo(opToken);\n      exp1 = finalExp;\n    }\n    return exp1;\n  }\n\n  parseExpressionNot () {\n    const maybeNotToken = this.getToken();\n    if (maybeNotToken.type === this.ruleNames.RK_LOGICAL_NOT) {\n      const opToken = this.getToken();\n      this.pos++;\n      const not = convertFromString(\"not\");\n      const exp1 = this.parseExpressionRel();\n      const finalExp = new Expressions.UnaryApp(not, exp1);\n      finalExp.sourceInfo = SourceInfo.createSourceInfo(opToken);\n      return finalExp;\n    } else {\n      return this.parseExpressionRel();\n    }\n  }\n\n  parseExpressionRel () {\n    let exp1 = this.parseExpression();\n    while (this.getToken().type === this.ruleNames.RELATIONAL_OPERATOR) {\n      const relToken = this.getToken();\n      this.pos++;\n      const rel = convertFromString(relToken.text);\n      const exp2 = this.parseExpression();\n      const finalExp = new Expressions.InfixApp(rel, exp1, exp2);\n      finalExp.sourceInfo = SourceInfo.createSourceInfo(relToken);\n      exp1 = finalExp;\n    }\n    return exp1;\n  }\n\n  parseExpression () {\n    let factor = this.parseFactor();\n    while (this.getToken().type === this.ruleNames.SUM_OP) {\n      const sumOpToken = this.getToken();\n      this.pos++;\n      const op = convertFromString(sumOpToken.text);\n      const factor2 = this.parseFactor();\n      const finalExp = new Expressions.InfixApp(op, factor, factor2);\n      finalExp.sourceInfo = SourceInfo.createSourceInfo(sumOpToken);\n      factor = finalExp;\n    }\n    return factor;\n  }\n\n  parseFactor () {\n    let term = this.parseTerm();\n    while (this.getToken().type === this.ruleNames.MULTI_OP) {\n      const multOpToken = this.getToken();\n      this.pos++;\n      const op = convertFromString(multOpToken.text);\n      const term2 = this.parseTerm();\n      const finalExp = new Expressions.InfixApp(op, term, term2);\n      finalExp.sourceInfo = SourceInfo.createSourceInfo(multOpToken);\n      term = finalExp;\n    }\n    return term;\n  }\n\n  parseTerm () {\n    const token = this.getToken();\n    let sourceInfo = null;\n    let exp = null;\n    switch (token.type) {\n      case this.ruleNames.SUM_OP:\n        this.pos++;\n        sourceInfo = SourceInfo.createSourceInfo(token);\n        exp = new Expressions.UnaryApp(\n          convertFromString(token.text),\n          this.parseTerm()\n        );\n        exp.sourceInfo = sourceInfo;\n        return exp;\n      case this.ruleNames.INTEGER:\n        this.pos++;\n        return this.getIntLiteral(token);\n      case this.ruleNames.REAL:\n        this.pos++;\n        return this.getRealLiteral(token);\n      case this.ruleNames.STRING:\n        this.pos++;\n        return this.getStringLiteral(token);\n      case this.ruleNames.CHARACTER:\n        this.pos++;\n        return this.getCharLiteral(token);\n      case this.ruleNames.RK_TRUE:\n      case this.ruleNames.RK_FALSE:\n        this.pos++;\n        return this.getBoolLiteral(token);\n      case this.ruleNames.OPEN_CURLY:\n        // No more annonymous array\n        // return this.parseArrayLiteral();\n        throw SyntaxErrorFactory.annonymous_array_literal(token);\n      case this.ruleNames.ID:\n        return this.parseIDTerm();\n      case this.ruleNames.OPEN_PARENTHESIS:\n        return this.parseParenthesisExp();\n      default:\n        throw SyntaxErrorFactory.invalid_terminal(token);\n    }\n  }\n\n  parseIDTerm () {\n    const tokenA = this.getToken();\n    const id = this.parseMaybeLibID();\n    const isID = id.indexOf(\".\") === -1;\n    if (isID && this.checkOpenBrace(true)) {\n      let tokenB = null;\n      this.pos++;\n      const firstIndex = this.parseExpression();\n      let secondIndex = null;\n      this.consumeNewLines();\n      this.checkCloseBrace();\n      tokenB = this.getToken();\n      this.pos++;\n      if (this.checkOpenBrace(true)) {\n        this.pos++;\n        secondIndex = this.parseExpression();\n        this.consumeNewLines();\n        this.checkCloseBrace();\n        tokenB = this.getToken();\n        this.pos++;\n      }\n      const sourceInfo = SourceInfo.createSourceInfoFromList(tokenA, tokenB);\n      const exp = new Expressions.ArrayAccess(id, firstIndex, secondIndex);\n      exp.sourceInfo = sourceInfo;\n      return exp;\n    } else if (this.checkOpenParenthesis(true)) {\n      return this.parseFunctionCallExpression(id);\n    } else if (isID) {\n      const sourceInfo = SourceInfo.createSourceInfo(tokenA);\n      const exp = new Expressions.VariableLiteral(id);\n      exp.sourceInfo = sourceInfo;\n      return exp;\n    } else {\n      throw SyntaxErrorFactory.invalid_id_format(tokenA);\n    }\n  }\n\n  getFunctionName (id) {\n    const name = LanguageDefinedFunction.getInternalName(id);\n    if (name === null) {\n      if (id === LanguageDefinedFunction.getMainFunctionName()) {\n        return null;\n      }\n      return id;\n    } else {\n      return name;\n    }\n  }\n\n  parseFunctionCallExpression (id) {\n    const stepBack = id.indexOf(\".\") === -1 ? 1 : 3;\n    const tokenA = this.getToken(this.pos - stepBack);\n    const actualParameters = this.parseActualParameters();\n    const tokenB = this.getToken(this.pos - 1);\n    const funcName = this.getFunctionName(id);\n    const sourceInfo = SourceInfo.createSourceInfoFromList(tokenA, tokenB);\n    const cmd = new Expressions.FunctionCall(funcName, actualParameters);\n    cmd.sourceInfo = sourceInfo;\n    return cmd;\n  }\n\n  parseFunctionCallCommand (id) {\n    return this.parseFunctionCallExpression(id);\n  }\n\n  parseParenthesisExp () {\n    this.checkOpenParenthesis();\n    const tokenA = this.getToken();\n    this.pos += 1;\n    this.consumeNewLines();\n    const exp = this.parseExpressionOR();\n    this.consumeNewLines();\n    this.checkCloseParenthesis();\n    const tokenB = this.getToken();\n    this.pos += 1;\n    exp.sourceInfo = SourceInfo.createSourceInfoFromList(tokenA, tokenB);\n    exp.parenthesis = true;\n    return exp;\n  }\n\n  parseActualParameters () {\n    this.checkOpenParenthesis();\n    this.pos++;\n    if (this.checkCloseParenthesis(true)) {\n      this.pos++;\n      return [];\n    }\n    this.consumeNewLines();\n    const list = this.parseExpressionList();\n    this.consumeNewLines();\n    this.checkCloseParenthesis();\n    this.pos++;\n    return list;\n  }\n\n  parseExpressionList () {\n    const list = [];\n    for (;;) {\n      const exp = this.parseExpressionOR();\n      list.push(exp);\n      const maybeToken = this.getToken();\n      if (maybeToken.type !== this.ruleNames.COMMA) {\n        break;\n      } else {\n        this.pos++;\n        this.consumeNewLines();\n      }\n    }\n    return list;\n  }\n\n  getTypeArray () {\n    const types = this.insideScope(IVProgParser.FUNCTION)\n      ? this.functionTypes\n      : this.variableTypes;\n    return types.map((x) => this.lexer.literalNames[x]);\n  }\n}\n","export class SourceInfo {\n\n  /**\n    * @param {moo.Token} token\n    *\n    * @return {SourceInfo}\n    * **/\n  static createSourceInfo (token) {\n    return new SourceInfo(token.line, token.col, token.text, token.text.length);\n  }\n\n  /**\n    * @param {moo.Token} tokenA\n    * @param {moo.Token} tokenB\n    *\n    * @return {SourceInfo}\n    * **/\n  static createSourceInfoFromList (tokenA, tokenB) {\n    const line = tokenA.line;\n    const column = tokenA.col;\n    // adapted from https://github.com/UNIVALI-LITE/Portugol-Studio/blob/master/core/src/main/java/br/univali/portugol/nucleo/analise/sintatica/Portugol.g\n    // No idea why...\n    const size = tokenB.offset + 1 - tokenA.offset\n    return new SourceInfo(line, column, \"\", size);\n  }\n\n  /**\n   * @param {number} line\n   * @param {number} column\n   * @param {string} text\n   * @param {number} size\n    * **/\n  constructor (line, column, text, size) {\n    this.line = line;\n    this.column = column;\n    this.text = text;\n    this.size = size;\n  }\n\n}\n","import { LocalizedStrings } from \"./../services/localizedStringsService\";\nimport * as Utils from \"./../util/utils\";\nimport { Config } from \"./../util/config\";\n\nexport class DOMConsole {\n  static get BASH_TEMPLATE () {\n    return `\n    <div class=\"bash-title\">\n      <i id=\"ivprog-console-clearbtn\" class=\"icon eraser\" style=\"float:left;padding-left: 5px\"></i>\n      <span>Terminal</span>\n      <i id=\"ivprog-console-showbtn\" class=\"icon window maximize outline\" style=\"float:right\"></i>\n      <i id=\"ivprog-console-hidebtn\" class=\"icon window minimize outline\" style=\"float:right\"></i>\n    </div>\n    <div id='ivprog-term' class=\"bash-body\"></div>`;\n  }\n\n  static get INPUT_CARET_TEMPLATE () {\n    return `\n    <div id=\"cmd\">\n      <span></span>\n      <div id=\"cursor\"></div>\n    </div>`;\n  }\n\n  static get USER () {\n    return 0;\n  }\n\n  static get INFO () {\n    return 1;\n  }\n\n  static get ERR () {\n    return 2;\n  }\n\n  static get INPUT () {\n    return 3;\n  }\n\n  constructor (elementID, disableMarginTop = false) {\n    this.disableMarginTop = disableMarginTop;\n    this.input = null;\n    this.cursorInterval = null;\n    this.idleInterval = null;\n    this.inputDiv = null;\n    this.inputCMD = null;\n    this.inputSpan = null;\n    this.cursorRef = null;\n    this.needInput = false;\n    this.clearBtn = null;\n    this.hideBtn = null;\n    this.showBtn = null;\n    this.termDiv = null;\n    this.anyKey = false;\n    let actualID = elementID;\n    if (elementID[0] === \"#\") {\n      actualID = elementID.substring(1);\n    }\n    this.parent = document.getElementById(actualID);\n    this.setup();\n    this.inputListeners = [];\n    this.hideInput();\n    this.pending_writes = [];\n    this.last_clear = -1;\n  }\n\n  setup () {\n    this._setupDom();\n    this._setupEvents();\n  }\n\n  _setupEvents () {\n    this.input.addEventListener(\"keydown\", this.registerInput.bind(this));\n    this.clearBtn.addEventListener(\"click\", this.clearBtnClick.bind(this));\n    this.hideBtn.addEventListener(\"click\", this.hideBtnClick.bind(this));\n    this.showBtn.addEventListener(\"click\", this.showBtnClick.bind(this));\n  }\n\n  registerInput (event) {\n    if (!this.needInput) {\n      return;\n    }\n    const keyCode = event.which;\n    if (keyCode === 13 || this.anyKey) {\n      if (this.idleInterval != null) {\n        clearInterval(this.idleInterval);\n        this.idleInterval = null;\n      }\n      let text = this.input.value;\n      text = text.replace(\"[\\n\\r]+\", \"\");\n      this.notifyListeners(text);\n      this._appendUserInput(text);\n      this.input.value = \"\";\n      this.inputSpan.innerHTML = \"\";\n      this.currentLine = null;\n    }\n  }\n\n  _setupDom () {\n    const bashNode = document.createElement(\"div\");\n    bashNode.classList.add(\"bash\");\n    bashNode.innerHTML = DOMConsole.BASH_TEMPLATE;\n    this.termDiv = bashNode.querySelector(\"#ivprog-term\");\n    this.termDiv.classList.add(\"ivprog-term-div\");\n    this.inputDiv = document.createElement(\"div\");\n    this.inputDiv.id = \"ivprog-terminal-inputdiv\";\n    this.inputDiv.innerHTML = DOMConsole.INPUT_CARET_TEMPLATE;\n    this.input = document.createElement(\"input\");\n    this.input.setAttribute(\"name\", \"command\");\n    this.input.setAttribute(\"value\", \"\");\n    this.input.setAttribute(\"type\", \"text\");\n    this.input.setAttribute(\"autocomplete\", \"off\");\n    this.inputDiv.append(this.input);\n    this.termDiv.append(this.inputDiv);\n    bashNode.append(this.termDiv);\n    this.parent.append(bashNode);\n    this.inputCMD = this.inputDiv.querySelector(\"#cmd\");\n    this.cursorRef = this.inputCMD.querySelector(\"#cursor\");\n    this.inputSpan = this.inputCMD.querySelector(\"span\");\n    this.clearBtn = bashNode.querySelector(\"#ivprog-console-clearbtn\");\n    this.hideBtn = bashNode.querySelector(\"#ivprog-console-hidebtn\");\n    this.showBtn = bashNode.querySelector(\"#ivprog-console-showbtn\");\n    this._setupCursor();\n    //Jquery tooltips....\n    window\n      .$(this.clearBtn)\n      .popup({ content: LocalizedStrings.getUI(\"tooltip_terminal_clear\") });\n    window\n      .$(this.showBtn)\n      .popup({ content: LocalizedStrings.getUI(\"tooltip_terminal_show\") });\n    window\n      .$(this.hideBtn)\n      .popup({ content: LocalizedStrings.getUI(\"tooltip_terminal_hide\") });\n  }\n\n  _setupCursor () {\n    this.inputCMD.addEventListener(\"click\", this.blinkCaretAndFocus.bind(this));\n    //this.inputCMD.click();\n\n    this.input.addEventListener(\"keyup\", this.updateSpanText.bind(this));\n    this.input.addEventListener(\"blur\", this.stopBlinkCaret.bind(this));\n  }\n\n  blinkCaretAndFocus () {\n    if (this.cursorInterval != null) {\n      return;\n    }\n    this.input.focus();\n    this.cursorInterval = window.setInterval(() => {\n      if (this.cursorRef.style.visibility === \"visible\") {\n        this.cursorRef.style.visibility = \"hidden\";\n      } else {\n        this.cursorRef.style.visibility = \"visible\";\n      }\n    }, 500);\n  }\n\n  updateSpanText () {\n    this.inputSpan.innerHTML = this.input.value;\n    if (this.idleInterval != null) window.clearInterval(this.idleInterval);\n    this.scheduleNotify();\n  }\n\n  stopBlinkCaret () {\n    clearInterval(this.cursorInterval);\n    this.cursorInterval = null;\n    this.cursorRef.style.visibility = \"visible\";\n  }\n\n  notifyListeners (text) {\n    this.inputListeners.forEach((resolve) => resolve(text));\n    this.inputListeners.splice(0, this.inputListeners.length);\n    this.hideInput();\n    this.anyKey = false;\n  }\n\n  writeRawHTML (text, channel) {\n    this._appendTextLn(text, channel, false);\n  }\n\n  write (text, newLine = false) {\n    this._appendText(text, DOMConsole.USER, newLine);\n  }\n\n  info (text) {\n    this._appendTextLn(text, DOMConsole.INFO);\n  }\n\n  err (text) {\n    this._appendTextLn(text, DOMConsole.ERR);\n  }\n\n  async _appendText (text, type, newLine = false) {\n    // console.debug(\"Caling appendText\");\n    const write_time = Date.now();\n    this.pending_writes.push(0);\n    await Utils.sleep(3);\n    this.pending_writes.pop();\n    if (this.last_clear >= write_time) {\n      return;\n    }\n\n    if (this.currentLine == null) {\n      const divClass = this.getClassForType(type);\n      const textDiv = document.createElement(\"div\");\n      textDiv.classList.add(divClass);\n      this.termDiv.insertBefore(textDiv, this.inputDiv);\n      this.currentLine = textDiv;\n    }\n    this.currentLine.innerHTML += this.getOutputText(text);\n    if (newLine) {\n      // console.debug(\"append newline\");\n      this.currentLine = null;\n    }\n    this.scrollTerm();\n  }\n\n  async _appendTextLn (text, type, filter = true) {\n    const write_time = Date.now();\n    this.pending_writes.push(0);\n    await Utils.sleep(3);\n    this.pending_writes.pop();\n    if (this.last_clear >= write_time) {\n      return;\n    }\n    const divClass = this.getClassForType(type);\n    const textDiv = document.createElement(\"div\");\n    textDiv.classList.add(divClass);\n    if (filter) textDiv.innerHTML = this.getOutputText(text);\n    else textDiv.innerHTML = `<span>${text}</span>`;\n    if (this.currentLine != null && this.currentLine.innerHTML.length === 0) {\n      this.termDiv.removeChild(this.currentLine);\n    }\n    this.termDiv.insertBefore(textDiv, this.inputDiv);\n    this.currentLine = null;\n    this.scrollTerm();\n  }\n\n  async _appendUserInput (text) {\n    const write_time = Date.now();\n    this.pending_writes.push(0);\n    await Utils.sleep(3);\n    this.pending_writes.pop();\n    if (this.last_clear >= write_time) {\n      return;\n    }\n    const divClass = this.getClassForType(DOMConsole.INPUT);\n    const textDiv = document.createElement(\"div\");\n    textDiv.innerHTML = this.getUserInputText(text);\n    textDiv.classList.add(divClass);\n    this.termDiv.insertBefore(textDiv, this.inputDiv);\n    this.currentLine = null;\n    this.scrollTerm();\n  }\n\n  getOutputText (text) {\n    text = text.replace(/\\s/g, \"&#160;\");\n    return `<span>${text}</span>`;\n  }\n\n  getUserInputText (text) {\n    if (text.trim().length == 0) {\n      text = \"&nbsp;\";\n    }\n    return `<i class=\"icon keyboard outline\" style=\"float:left\"></i><span>${text}</span>`;\n  }\n\n  scrollTerm () {\n    //scrollIt(this.inputDiv.previousSibling,200);\n    this.termDiv.scrollTop = this.termDiv.scrollHeight;\n  }\n\n  focus () {\n    this.termDiv.style.display = \"block\";\n    // Is in draggable mode?\n    if (!this.disableMarginTop && this.parent.style.top.length == 0) {\n      this.parent.style.marginTop = \"-160px\";\n    }\n    if (this.needInput) {\n      this.showInput();\n      this.scheduleNotify();\n    }\n    if (!Utils.isElementInViewport(this.termDiv))\n      this.termDiv.scrollIntoView(false);\n    this.scrollTerm();\n  }\n\n  hide () {\n    if (this.needInput) {\n      clearInterval(this.idleInterval);\n      this.hideInput();\n      this.needInput = true;\n    }\n    // Is in draggable mode?\n    if (!this.disableMarginTop && this.parent.style.top.length == 0) {\n      this.parent.style.marginTop = \"0\";\n    }\n    this.termDiv.style.display = \"none\";\n  }\n\n  getClassForType (type) {\n    switch (type) {\n      case DOMConsole.INPUT:\n        return \"ivprog-term-userInput\";\n      case DOMConsole.USER:\n        return \"ivprog-term-userText\";\n      case DOMConsole.INFO:\n        return \"ivprog-term-info\";\n      case DOMConsole.ERR:\n        return \"ivprog-term-error\";\n    }\n  }\n\n  dispose () {\n    this.input.removeEventListener(\"keyup\", this.updateSpanText.bind(this));\n    this.input.removeEventListener(\"blur\", this.stopBlinkCaret.bind(this));\n    this.input.removeEventListener(\"keydown\", this.registerInput.bind(this));\n    this.inputCMD.removeEventListener(\n      \"click\",\n      this.blinkCaretAndFocus.bind(this)\n    );\n    this.clearBtn.removeEventListener(\"click\", this.clearBtnClick.bind(this));\n    this.hideBtn.removeEventListener(\"click\", this.hideBtnClick.bind(this));\n    this.showBtn.removeEventListener(\"click\", this.showBtnClick.bind(this));\n    this.input = null;\n    this.inputCMD = null;\n    this.inputDiv = null;\n    this.termDiv = null;\n    this.inputSpan = null;\n    this.cursorRef = null;\n    this.clearBtn = null;\n    this.hideBtn = null;\n    this.showBtn = null;\n    this.currentLine = null;\n    const cNode = this.parent.cloneNode(false);\n    this.parent.parentNode.replaceChild(cNode, this.parent);\n    if (this.cursorInterval != null) {\n      clearInterval(this.cursorInterval);\n    }\n    if (this.idleInterval != null) {\n      clearInterval(this.idleInterval);\n    }\n  }\n\n  showInput () {\n    this.needInput = true;\n    this.inputDiv.style.display = \"block\";\n    this.inputCMD.click();\n    //this.inputCMD.scrollIntoView();\n    this.scrollTerm();\n  }\n\n  hideInput () {\n    this.needInput = false;\n    this.inputDiv.style.display = \" none\";\n    clearInterval(this.cursorInterval);\n    this.cursorInterval = null;\n  }\n\n  requestInput (anyKey = false) {\n    const promise = new Promise((resolve, _) => {\n      this.inputListeners.push(resolve);\n      this.anyKey = anyKey;\n      if (this.idleInterval == null) this.scheduleNotify();\n      this.showInput();\n    });\n    return promise;\n  }\n\n  sendOutput (text) {\n    //console.debug(text);\n    let output = \"\" + text;\n    if (output.indexOf(\"\\n\") !== -1) {\n      //console.debug(\"newline\");\n      const outputList = output.split(\"\\n\");\n      let i = 0;\n      for (; i < outputList.length - 1; i += 1) {\n        //console.debug(\"newline write\");\n        let t = outputList[i];\n        t = t.replace(/\\t/g, \"&#x0020;&#x0020;\");\n        t = t.replace(/\\s/g, \"&#x0020;\");\n        if (t.length !== 0) {\n          this.write(t);\n        }\n        this.write(\"\", true);\n      }\n      let t = outputList[i];\n      t = t.replace(/\\t/g, \"&#x0020;&#x0020;\");\n      t = t.replace(/\\s/g, \"&#x0020;\");\n      if (t.length != 0) this.write(t);\n    } else {\n      // console.debug(\"no newline\");\n      output = output.replace(/\\t/g, \"&#x0020;&#x0020;\");\n      output = output.replace(/\\s/g, \"&#x0020;\");\n      if (output.length != 0) this.write(output);\n    }\n  }\n\n  clearPendingWrites () {\n    this.last_clear = Date.now();\n  }\n\n  clear () {\n    this.clearPendingWrites();\n    while (this.inputDiv.parentElement.childNodes.length > 1) {\n      this.inputDiv.parentElement.removeChild(\n        this.inputDiv.parentElement.firstChild\n      );\n    }\n    this.input.value = \"\";\n    this.inputSpan.innerHTML = \"\";\n    this.currentLine = null;\n  }\n\n  clearBtnClick () {\n    this.clear();\n  }\n\n  showBtnClick () {\n    this.focus();\n  }\n\n  hideBtnClick () {\n    this.hide();\n  }\n\n  notifyIdle () {\n    this.info(LocalizedStrings.getMessage(\"awaiting_input_message\"));\n    this.inputCMD.click();\n  }\n\n  scheduleNotify () {\n    this.idleInterval = window.setInterval(\n      this.notifyIdle.bind(this),\n      Config.idle_input_interval\n    );\n  }\n\n  cancelPendingInputRequests () {\n    this.inputListeners.forEach((resolve) => resolve(\"\"));\n    this.inputListeners.splice(0, this.inputListeners.length);\n    if (this.idleInterval != null) {\n      clearInterval(this.idleInterval);\n      this.idleInterval = null;\n    }\n    this.input.value = \"\";\n    this.inputSpan.innerHTML = \"\";\n    this.currentLine = null;\n    this.hideInput();\n    this.anyKey = false;\n  }\n}\n","export class Input {\n\n  requestInput () {\n    throw new Error(\"Must be implemented\");\n  }\n\n  cancelPendingInputRequests () {\n    throw new Error(\"Must be implemented\");\n  }\n}","export class Output {\n\n  sendOutput (text) {\n    throw new Error(\"Must be implemented\");\n  }\n}","import { runner } from \"./runner\";\nimport {\n  initVisualUI,\n  addFunctionChangeListener,\n  addGlobalChangeListener,\n  removeFunctionListener,\n  removeGlobalListener,\n  getTestCases,\n} from \"./visualUI/functions\";\nimport * as LocalizedStringsService from \"./services/localizedStringsService\";\nimport { i18nHelper } from \"./services/i18nHelper\";\nimport {\n  ActionTypes,\n  getLogs,\n  getLogsAsString,\n  registerClick,\n  registerUserEvent,\n  parseLogs,\n} from \"./services/userLog\";\nimport {\n  prepareActivityToStudentHelper,\n  prepareActivityToStudentHelperJSON,\n  autoEval,\n  setPreviousAlgorithm\n} from \"./util/iassignHelpers\";\nimport { openAssessmentDetail, levenshteinDistance } from \"./util/utils\";\nimport { Config } from \"./util/config\";\nimport { processData } from \"./util/dataProcess\";\nimport { parseExpression, parseCode } from \"./util/parseFromVisual\";\nimport * as CodeEditorAll from \"./visualUI/text_editor\";\nimport { autoGenerateTestCaseOutput } from \"./util/auto_gen_output\";\nimport { generate } from \"./visualUI/code_generator\";\n\nconst CodeEditor = {\n  initTextEditor: CodeEditorAll.initTextEditor,\n  setCode: CodeEditorAll.setCode,\n  getCode: CodeEditorAll.getCode,\n  updateEditor: CodeEditorAll.updateEditor,\n  disable: CodeEditorAll.disable,\n};\n\nconst Settings = {\n  programming: [],\n  functions: [],\n  datatypes: [],\n  commands: [],\n  filter: []\n}\n\nconst i18n = i18nHelper.i18n;\nconst LocalizedStrings = LocalizedStringsService.getInstance();\n\nexport {\n  runner,\n  initVisualUI,\n  addFunctionChangeListener,\n  addGlobalChangeListener,\n  removeFunctionListener,\n  removeGlobalListener,\n  getTestCases,\n  autoEval,\n  prepareActivityToStudentHelper,\n  prepareActivityToStudentHelperJSON,\n  LocalizedStrings,\n  i18n,\n  getLogs,\n  getLogsAsString,\n  registerClick,\n  registerUserEvent,\n  parseLogs,\n  ActionTypes,\n  CodeEditor,\n  openAssessmentDetail,\n  autoGenerateTestCaseOutput,\n  Config,\n  parseExpression,\n  parseCode,\n  generate as generateCode,\n  levenshteinDistance,\n  processData,\n  Settings,\n  setPreviousAlgorithm\n};\n","import { LanguageService } from '../services/languageService';\nimport {createInputFun, createOutputFun} from './lib/io';\nimport {createLengthFun, createLowercaseFun,\n  createrCharAtFun, createSubstringFun,\n  createUppercaseFun} from './lib/strings';\nimport {createMatrixColumnsFun, createMatrixLinesFun,\n  createNumElementsFun} from './lib/arrays';\nimport {createCastBoolFun, createCastIntFun,\n  createCastRealFun, createCastStringFun,\n  createIsBoolFun, createIsIntFun,\n  createIsRealFun, createCastCharFun} from './lib/lang';\nimport {createAbsFun, createCosFun,\n  createInvertFun, createLogFun,\n  createMaxFun, createMinFun,\n  createNegateFun, createPowFun,\n  createSinFun, createSqrtFun,\n  createTanFun, createRandFun} from './lib/math';\n\nfunction valueToKey (value, object) {\n  for (const key in object) {\n    if(Object.prototype.hasOwnProperty.call(object, key)){\n      if (object[key] === value) {\n        return key;\n      }\n    }\n  }\n  return null;\n}\n\nfunction concatObjects (...objs) {\n  const result = {};\n  for (let i = 0; i < objs.length; i++) {\n    const obj = objs[i];\n    for(const key in obj) {\n      if(Object.prototype.hasOwnProperty.call(obj, key)) {\n        result[key] = obj[key];\n      }\n    }\n  }\n  return result;\n}\n\nconst libsObject = {\n  $mathLib: {\n    $sin: createSinFun(),\n    $cos: createCosFun(),\n    $tan: createTanFun(),\n    $sqrt: createSqrtFun(),\n    $pow: createPowFun(),\n    $log: createLogFun(),\n    $abs: createAbsFun(),\n    $negate: createNegateFun(),\n    $invert: createInvertFun(),\n    $max: createMaxFun(),\n    $min: createMinFun(),\n    $rand: createRandFun()\n  },\n  $ioLib: {\n    $read: createInputFun(),\n    $write: createOutputFun()\n  },\n  $strLib: {\n    $substring: createSubstringFun(),\n    $length: createLengthFun(),\n    $uppercase: createUppercaseFun(),\n    $lowercase: createLowercaseFun(),\n    $charAt: createrCharAtFun(),\n  },\n  $arrayLib: {\n    $numElements: createNumElementsFun(),\n    $matrixLines: createMatrixLinesFun(),\n    $matrixColumns: createMatrixColumnsFun()\n  },\n  $langLib: {\n    $isReal: createIsRealFun(),\n    $isInt: createIsIntFun(),\n    $isBool: createIsBoolFun(),\n    $castReal: createCastRealFun(),\n    $castInt: createCastIntFun(),\n    $castBool: createCastBoolFun(),\n    $castString: createCastStringFun(),\n    $castChar: createCastCharFun()\n  }\n}\n\nconst funcsObject = concatObjects(libsObject.$ioLib, libsObject.$langLib,\n  libsObject.$strLib, libsObject.$arrayLib);\n\nexport const LanguageDefinedFunction = Object.freeze({\n  getMainFunctionName: () => LanguageService.getCurrentLangFuncs().main_function,\n  getInternalName: (localName) => {\n    if (localName.indexOf(\".\") !== -1) {\n      const names = localName.split(\".\");\n      const lib = valueToKey(names[0], LanguageService.getCurrentLangLibs());\n      const internalName = valueToKey(names[1], LanguageService.getCurrentLangFuncs());\n      if (lib === null || internalName === null) {\n        return null;\n      }\n      return lib + \".\" + internalName;\n    }\n    const funcName = valueToKey(localName, LanguageService.getCurrentLangFuncs());\n    if(funcName !== null) {\n      if(funcsObject[funcName]) {\n        return funcName;\n      }\n    }\n    return null;\n  },\n  getFunction: (internalName) => {\n    if (internalName.indexOf(\".\") !== -1) {\n      const names = internalName.split(\".\");\n      const libName = names[0];\n      const funName = names[1];\n      return libsObject[libName][funName];\n    }\n    return funcsObject[internalName];\n  },\n  getLocalName: (internalName) => {\n    if (internalName.indexOf(\".\") !== -1) {\n      const names = internalName.split(\".\");\n      const libName = LanguageService.getCurrentLangLibs()[names[0]];\n      const funName = LanguageService.getCurrentLangFuncs()[names[1]];\n      return `${libName}.${funName}`;\n    } else if (LanguageService.getCurrentLangFuncs()[internalName]) {\n      return LanguageService.getCurrentLangFuncs()[internalName];\n    } else { \n      return internalName\n    }\n  }\n});","import { RuntimeError } from \"./runtimeError\";\nimport { SemanticError } from \"./semanticError\";\nimport * as LocalizedStringsService from \"./../../services/localizedStringsService\";\nimport { LanguageDefinedFunction } from \"../definedFunctions\";\n\nfunction createRuntimeError (i18n_id, context = []) {\n  const LocalizedStrings = LocalizedStringsService.getInstance();\n  return new RuntimeError(LocalizedStrings.getError(i18n_id, context), i18n_id);\n}\n\nfunction createSemanticError (i18n_id, context = []) {\n  const LocalizedStrings = LocalizedStringsService.getInstance();\n  return new SemanticError(\n    LocalizedStrings.getError(i18n_id, context),\n    i18n_id\n  );\n}\n\nexport const ProcessorErrorFactory = Object.freeze({\n  symbol_not_found_full: (id, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [id, sourceInfo.line, sourceInfo.column];\n      const error = createSemanticError(\"symbol_not_found_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.symbol_not_found(id);\n    }\n  },\n  symbol_not_found: (id) => {\n    const context = [id];\n    return createSemanticError(\"symbol_not_found\", context);\n  },\n  function_missing_full: (id, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [id, sourceInfo.line, sourceInfo.column];\n      const error = createSemanticError(\"function_missing_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.function_missing(id);\n    }\n  },\n  function_missing: (id) => {\n    const context = [id];\n    return createSemanticError(\"function_missing\", context);\n  },\n  main_missing: () => {\n    return createSemanticError(\"main_missing\");\n  },\n  array_dimension_not_int_full: (sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line];\n      const error = createSemanticError(\n        \"array_dimension_not_int_full\",\n        context\n      );\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.array_dimension_not_int();\n    }\n  },\n  array_dimension_not_int: () => {\n    return createSemanticError(\"array_dimension_not_int\");\n  },\n  unknown_command_full: (sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line];\n      const error = createRuntimeError(\"unknown_command_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.unknown_command();\n    }\n  },\n  unknown_command: () => {\n    return createRuntimeError(\"unknown_command\");\n  },\n  incompatible_types_full: (\n    left_type,\n    left_dim,\n    right_type,\n    right_dim,\n    exp,\n    source_info\n  ) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    if (source_info) {\n      const context = [\n        LocalizedStrings.translateType(left_type, left_dim),\n        exp,\n        source_info.line,\n        LocalizedStrings.translateType(right_type, right_dim),\n      ];\n      const error = createSemanticError(\"incompatible_types_full\", context);\n      error.context = { line: source_info.line, column: source_info.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.incompatible_types(\n        left_type,\n        left_dim,\n        right_type,\n        right_dim,\n        exp\n      );\n    }\n  },\n  incompatible_types: (left_type, left_dim, right_type, right_dim, exp) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    const context = [\n      LocalizedStrings.translateType(left_type, left_dim),\n      exp,\n      LocalizedStrings.translateType(right_type, right_dim),\n    ];\n    return createSemanticError(\"incompatible_types\", context);\n  },\n  incompatible_types_array_full: (exp, type, dim, sourceInfo) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    if (sourceInfo) {\n      const context = [\n        exp,\n        LocalizedStrings.translateType(type, dim),\n        sourceInfo.line,\n        sourceInfo.column,\n      ];\n      const error = createSemanticError(\n        \"incompatible_types_array_full\",\n        context\n      );\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.incompatible_types_array(exp, type, dim);\n    }\n  },\n  incompatible_types_array: (exp, type, dim) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    const context = [exp, LocalizedStrings.translateType(type, dim)];\n    return createSemanticError(\"incompatible_types_array\", context);\n  },\n  loop_condition_type_full: (exp, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line, sourceInfo.column, exp];\n      const error = createSemanticError(\"loop_condition_type_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.loop_condition_type(exp);\n    }\n  },\n  loop_condition_type: (exp) => {\n    const context = [exp];\n    return createSemanticError(\"loop_condition_type\", context);\n  },\n  /**\n   * @deprecated 01/10/2019\n   */\n  endless_loop_full: (sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line];\n      const error = createSemanticError(\"endless_loop_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.endless_loop();\n    }\n  },\n  endless_loop: () => {\n    return createSemanticError(\"endless_loop\");\n  },\n  if_condition_type_full: (exp, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line, sourceInfo.column, exp];\n      const error = createSemanticError(\"if_condition_type_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.if_condition_type(exp);\n    }\n  },\n  if_condition_type: (exp) => {\n    const context = [exp];\n    return createSemanticError(\"if_condition_type\", context);\n  },\n  invalid_global_var: () => {\n    return createRuntimeError(\"invalid_global_var\");\n  },\n  not_implemented: (id) => {\n    const context = [id];\n    return createRuntimeError(\"not_implemented\", context);\n  },\n  invalid_case_type_full: (exp, type, dim, sourceInfo) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    if (sourceInfo) {\n      const context = [\n        exp,\n        LocalizedStrings.translateType(type, dim),\n        sourceInfo.line,\n        sourceInfo.column,\n      ];\n      const error = createSemanticError(\"invalid_case_type_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_case_type(exp, type, dim);\n    }\n  },\n  invalid_case_type: (exp, type, dim) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    const context = [exp, LocalizedStrings.translateType(type, dim)];\n    return createSemanticError(\"invalid_case_type\", context);\n  },\n  void_in_expression_full: (id, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line, sourceInfo.column, id];\n      const error = createSemanticError(\"void_in_expression_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.void_in_expression(id);\n    }\n  },\n  void_in_expression: (id) => {\n    const context = [id];\n    return createSemanticError(\"void_in_expression\", context);\n  },\n  invalid_array_access_full: (id, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [id, sourceInfo.line, sourceInfo.column];\n      const error = createSemanticError(\"invalid_array_access_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_array_access(id);\n    }\n  },\n  invalid_array_access: (id) => {\n    const context = [id];\n    return createSemanticError(\"invalid_array_access\", context);\n  },\n  invalid_matrix_access_full: (id, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [id, sourceInfo.line, sourceInfo.column];\n      const error = createSemanticError(\"invalid_matrix_access_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_matrix_access(id);\n    }\n  },\n  invalid_matrix_access: (id) => {\n    const context = [id];\n    return createSemanticError(\"invalid_matrix_access\", context);\n  },\n  matrix_column_outbounds_full: (id, value, columns, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line, value, id, columns];\n      const error = createRuntimeError(\"matrix_column_outbounds_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.matrix_column_outbounds(id, value, columns);\n    }\n  },\n  matrix_column_outbounds: (id, value, columns) => {\n    const context = [value, id, columns];\n    return createRuntimeError(\"matrix_column_outbounds\", context);\n  },\n  matrix_line_outbounds_full: (id, value, lines, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line, value, id, lines];\n      const error = createRuntimeError(\"matrix_line_outbounds_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.matrix_line_outbounds(id, value, lines);\n    }\n  },\n  matrix_line_outbounds: (id, value, lines) => {\n    const context = [value, id, lines];\n    return createRuntimeError(\"matrix_line_outbounds\", context);\n  },\n  vector_line_outbounds_full: (id, value, lines, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line, value, id, lines];\n      const error = createRuntimeError(\"vector_line_outbounds_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.vector_line_outbounds(id, value, lines);\n    }\n  },\n  vector_line_outbounds: (id, value, lines) => {\n    const context = [value, id, lines];\n    return createRuntimeError(\"vector_line_outbounds\", context);\n  },\n  vector_not_matrix_full: (id, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line, id];\n      const error = createRuntimeError(\"vector_not_matrix_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.vector_not_matrix(id);\n    }\n  },\n  vector_not_matrix: (id) => {\n    const context = [id];\n    return createRuntimeError(\"vector_not_matrix\", context);\n  },\n  function_no_return: (id) => {\n    const context = [id];\n    return createSemanticError(\"function_no_return\", context);\n  },\n  invalid_void_return_full: (id, type, dim, sourceInfo) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    if (sourceInfo) {\n      const context = [\n        sourceInfo.line,\n        id,\n        LocalizedStrings.translateType(type, dim),\n      ];\n      const error = createSemanticError(\"invalid_void_return_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_void_return(id, type, dim);\n    }\n  },\n  invalid_void_return: (id, type, dim) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    const context = [id, LocalizedStrings.translateType(type, dim)];\n    return createSemanticError(\"invalid_void_return_full\", context);\n  },\n  invalid_return_type_full: (id, type, dim, sourceInfo) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n\n    if (sourceInfo) {\n      const context = [\n        sourceInfo.line,\n        id,\n        LocalizedStrings.translateType(type, dim),\n      ];\n      const error = createSemanticError(\"invalid_return_type_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_return_type(id, type, dim);\n    }\n  },\n  invalid_return_type: (id, type, dim) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    const context = [id, LocalizedStrings.translateType(type, dim)];\n    return createSemanticError(\"invalid_return_type\", context);\n  },\n  invalid_parameters_size_full: (id, expected, actual, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line, id, expected, actual];\n      const error = createSemanticError(\n        \"invalid_parameters_size_full\",\n        context\n      );\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_parameters_size(\n        id,\n        expected,\n        actual\n      );\n    }\n  },\n  invalid_parameters_size: (id, expected, actual) => {\n    const context = [id, expected, actual];\n    return createSemanticError(\"invalid_parameters_size\", context);\n  },\n  invalid_parameter_type_full: (fun_name, exp, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [\n        exp,\n        LanguageDefinedFunction.getLocalName(fun_name),\n        sourceInfo.line,\n      ];\n      const error = createSemanticError(\"invalid_parameter_type_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_parameter_type(fun_name, exp);\n    }\n  },\n  invalid_parameter_type: (fun_name, exp) => {\n    const context = [exp, LanguageDefinedFunction.getLocalName(fun_name)];\n    return createSemanticError(\"invalid_parameter_type_full\", context);\n  },\n  invalid_ref_full: (id, exp, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [exp, id, sourceInfo.line];\n      const error = createSemanticError(\"invalid_ref_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_ref(id, exp);\n    }\n  },\n  invalid_ref: (id, exp) => {\n    const context = [exp, id];\n    return createSemanticError(\"invalid_ref\", context);\n  },\n  unexpected_break_command_full: (sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line];\n      const error = createRuntimeError(\n        \"unexpected_break_command_full\",\n        context\n      );\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.unexpected_break_command();\n    }\n  },\n  unexpected_break_command: () => {\n    return createRuntimeError(\"unexpected_break_command\");\n  },\n  invalid_array_literal_type_full: (exp, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line, exp];\n      const error = createRuntimeError(\n        \"invalid_array_literal_type_full\",\n        context\n      );\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_array_literal_type(exp);\n    }\n  },\n  invalid_array_literal_type: (exp) => {\n    const context = [exp];\n    return createRuntimeError(\"invalid_array_literal_type\", context);\n  },\n  invalid_array_literal_line_full: (expected, actual, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line, expected, actual];\n      const error = createRuntimeError(\n        \"invalid_array_literal_line_full\",\n        context\n      );\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_array_literal_type(expected, actual);\n    }\n  },\n  invalid_array_literal_line: (expected, actual) => {\n    const context = [expected, actual];\n    return createRuntimeError(\"invalid_array_literal_line\", context);\n  },\n  invalid_array_literal_column_full: (expected, actual, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line, expected, actual];\n      const error = createRuntimeError(\n        \"invalid_array_literal_column_full\",\n        context\n      );\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_array_literal_column(\n        expected,\n        actual\n      );\n    }\n  },\n  invalid_array_literal_column: (expected, actual) => {\n    const context = [expected, actual];\n    return createRuntimeError(\"invalid_array_literal_column\", context);\n  },\n  invalid_unary_op_full: (expString, opName, type, dim, sourceInfo) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    if (sourceInfo) {\n      const context = [\n        sourceInfo.line,\n        expString,\n        LocalizedStrings.translateOp(opName),\n        LocalizedStrings.translateType(type, dim),\n      ];\n      const error = createRuntimeError(\"invalid_unary_op_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_unary_op(opName, type, dim);\n    }\n  },\n  invalid_unary_op: (expString, opName, type, dim) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    const context = [\n      expString,\n      LocalizedStrings.translateOp(opName),\n      LocalizedStrings.translateType(type, dim),\n    ];\n    return createRuntimeError(\"invalid_unary_op\", context);\n  },\n  invalid_infix_op_full: (\n    expString,\n    opName,\n    typeLeft,\n    dimLeft,\n    typeRight,\n    dimRight,\n    sourceInfo\n  ) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    if (sourceInfo) {\n      const context = [\n        sourceInfo.line,\n        expString,\n        LocalizedStrings.translateOp(opName),\n        LocalizedStrings.translateType(typeLeft, dimLeft),\n        LocalizedStrings.translateType(typeRight, dimRight),\n      ];\n      const error = createRuntimeError(\"invalid_infix_op_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_infix_op(\n        opName,\n        typeLeft,\n        dimLeft,\n        typeRight,\n        dimRight\n      );\n    }\n  },\n  invalid_infix_op: (\n    expString,\n    opName,\n    typeLeft,\n    dimLeft,\n    typeRight,\n    dimRight\n  ) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    const context = [\n      expString,\n      LocalizedStrings.translateOp(opName),\n      LocalizedStrings.translateType(typeLeft, dimLeft),\n      LocalizedStrings.translateType(typeRight, dimRight),\n    ];\n    return createRuntimeError(\"invalid_infix_op\", context);\n  },\n  array_dimension_not_positive_full: (sourceInfo) => {\n    if (sourceInfo) {\n      const context = [sourceInfo.line];\n      const error = createSemanticError(\n        \"array_dimension_not_positive_full\",\n        context\n      );\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.array_dimension_not_positive();\n    }\n  },\n  array_dimension_not_positive: () => {\n    return createSemanticError(\"array_dimension_not_positive\");\n  },\n  invalid_type_conversion: (value, type, dim) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n\n    const context = [value, LocalizedStrings.translateType(type, dim)];\n    return createRuntimeError(\"invalid_type_conversion\", context);\n  },\n  invalid_read_type: (exp, type, dim, name, source_info) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    const context = [\n      source_info.line,\n      exp,\n      LocalizedStrings.translateType(type, dim),\n      name,\n    ];\n    const error = createRuntimeError(\"invalid_read_type\", context);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  invalid_read_type_array: (\n    exp,\n    typePos,\n    dimPos,\n    name,\n    typeArray,\n    dimArray,\n    sourceInfo\n  ) => {\n    const LocalizedStrings = LocalizedStringsService.getInstance();\n    const context = [\n      sourceInfo.line,\n      exp,\n      LocalizedStrings.translateType(typePos, dimPos),\n      name,\n      LocalizedStrings.translateType(typeArray, dimArray),\n    ];\n    const error = createRuntimeError(\"invalid_read_type_array\", context);\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\n    return error;\n  },\n  invalid_const_ref_full: (fun_name, exp, sourceInfo) => {\n    if (sourceInfo) {\n      const context = [\n        exp,\n        LanguageDefinedFunction.getLocalName(fun_name),\n        sourceInfo.line,\n      ];\n      const error = createSemanticError(\"invalid_const_ref_full\", context);\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_const_ref(fun_name, exp);\n    }\n  },\n  invalid_const_ref: (fun_name, exp) => {\n    const context = [exp, LanguageDefinedFunction.getLocalName(fun_name)];\n    const error = createSemanticError(\"invalid_const_ref\", context);\n    return error;\n  },\n  invalid_const_assignment_full: (var_id, source_info) => {\n    if (source_info) {\n      const context = [source_info.line, var_id];\n      const error = createSemanticError(\n        \"invalid_const_assignment_full\",\n        context\n      );\n      error.context = { line: source_info.line, column: source_info.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_const_assignment(var_id);\n    }\n  },\n  invalid_const_assignment: (var_id) => {\n    const context = [var_id];\n    return createSemanticError(\"invalid_const_assignment\", context);\n  },\n  invalid_vector_assignment_full: (\n    left_id,\n    left_size,\n    right_id,\n    right_size,\n    source_info\n  ) => {\n    if (source_info) {\n      const context = [\n        source_info.line,\n        left_id,\n        left_size,\n        right_id,\n        right_size,\n      ];\n      const error = createRuntimeError(\n        \"invalid_vector_assignment_full\",\n        context\n      );\n      error.context = { line: source_info.line, column: source_info.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_vector_assignment(\n        left_id,\n        left_size,\n        right_id,\n        right_size\n      );\n    }\n  },\n  invalid_vector_assignment: (left_id, left_size, right_id, right_size) => {\n    const context = [left_id, left_size, right_id, right_size];\n    return createRuntimeError(\"invalid_vector_assignment\", context);\n  },\n  invalid_matrix_assignment_full: (\n    left_id,\n    left_line,\n    left_column,\n    right_id,\n    right_line,\n    right_column,\n    source_info\n  ) => {\n    if (source_info) {\n      const context = [\n        source_info.line,\n        left_id,\n        left_line,\n        left_column,\n        right_id,\n        right_line,\n        right_column,\n      ];\n      const error = createRuntimeError(\n        \"invalid_matrix_assignment_full\",\n        context\n      );\n      error.context = { line: source_info.line, column: source_info.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_matrix_assignment(\n        left_id,\n        left_line,\n        left_column,\n        right_id,\n        right_line,\n        right_column\n      );\n    }\n  },\n  invalid_matrix_assignment: (\n    left_id,\n    left_line,\n    left_column,\n    right_id,\n    right_line,\n    right_column\n  ) => {\n    const context = [\n      left_id,\n      left_line,\n      left_column,\n      right_id,\n      right_line,\n      right_column,\n    ];\n    return createRuntimeError(\"invalid_matrix_assignment\", context);\n  },\n  matrix_to_vector_attr: (left_id, right_id, source_info) => {\n    // SourceInfo have to be valid...\n    const context = [source_info.line, right_id, left_id];\n    const error = createSemanticError(\"matrix_to_vector_attr\", context);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  vector_to_matrix_attr: (left_id, right_id, source_info) => {\n    // SourceInfo have to be valid...\n    const context = [source_info.line, right_id, left_id];\n    const error = createSemanticError(\"vector_to_matrix_attr\", context);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  invalid_matrix_index_assign_full: (\n    mat_id,\n    mat_line,\n    mat_size,\n    exp,\n    exp_size,\n    source_info\n  ) => {\n    if (source_info) {\n      const context = [\n        source_info.line,\n        mat_line,\n        mat_id,\n        mat_size,\n        exp,\n        exp_size,\n      ];\n      const error = createRuntimeError(\n        \"invalid_matrix_index_assign_full\",\n        context\n      );\n      error.context = { line: source_info.line, column: source_info.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.invalid_matrix_index_assign(\n        mat_id,\n        mat_line,\n        mat_size,\n        exp,\n        exp_size\n      );\n    }\n  },\n  invalid_matrix_index_assign: (mat_id, mat_line, mat_size, exp, exp_size) => {\n    const context = [mat_line, mat_id, mat_size, exp, exp_size];\n    return createRuntimeError(\"invalid_matrix_index_assign\", context);\n  },\n  invalid_number_elements_vector: (\n    expected_num,\n    exp,\n    actual_num,\n    source_info\n  ) => {\n    // SourceInfo have to be valid...\n    const context = [expected_num, source_info.line, exp, actual_num];\n    const error = createRuntimeError(\"invalid_number_elements_vector\", context);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  invalid_number_lines_matrix: (expected_num, exp, actual_num, source_info) => {\n    // SourceInfo have to be valid...\n    const context = [expected_num, source_info.line, exp, actual_num];\n    const error = createRuntimeError(\"invalid_number_lines_matrix\", context);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  divsion_by_zero_full: (exp, source_info) => {\n    if (source_info) {\n      const context = [source_info.line, exp];\n      const error = createRuntimeError(\"divsion_by_zero_full\", context);\n      error.context = { line: source_info.line, column: source_info.column };\n      return error;\n    } else {\n      return ProcessorErrorFactory.divsion_by_zero(exp);\n    }\n  },\n  divsion_by_zero: (exp) => {\n    const context = [exp];\n    return createRuntimeError(\"divsion_by_zero\", context);\n  },\n  undefined_tanget_value: (value, source_info) => {\n    const context = [source_info.line, value];\n    const error = createRuntimeError(\"undefined_tanget_value\", context);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  negative_log_value: (source_info) => {\n    const error = createRuntimeError(\"negative_log_value\", [source_info.line]);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  invalid_string_index: (index, str, source_info) => {\n    const local_fun_name = LanguageDefinedFunction.getLocalName(\"$charAt\");\n    const context = [\n      source_info.line,\n      local_fun_name,\n      index,\n      str,\n      str.length - 1,\n    ];\n    const error = createRuntimeError(\"invalid_string_index\", context);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  negative_sqrt_value: (source_info) => {\n    const error = createRuntimeError(\"negative_sqrt_value\", [source_info.line]);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  /**\n   * @deprecated 01/10/2019\n   */\n  exceeded_recursive_calls: (source_info) => {\n    const context = [source_info.line];\n    const error = createRuntimeError(\"exceeded_recursive_calls\", context);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  invalid_for_variable: (id, source_info) => {\n    const context = [source_info.line, id];\n    const error = createSemanticError(\"invalid_for_variable\", context);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  invalid_for_from: (exp, source_info) => {\n    const context = [source_info.line, exp];\n    const error = createSemanticError(\"invalid_for_from\", context);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  invalid_for_to: (exp, source_info) => {\n    const context = [source_info.line, exp];\n    const error = createSemanticError(\"invalid_for_to\", context);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  invalid_for_pass: (exp, source_info) => {\n    const context = [source_info.line, exp];\n    const error = createSemanticError(\"invalid_for_pass\", context);\n    error.context = { line: source_info.line, column: source_info.column };\n    return error;\n  },\n  exceed_max_instructions: () => {\n    return createRuntimeError(\"exceed_max_instructions\");\n  },\n});\n\n","export class RuntimeError extends Error {\n  constructor (msg, id) {\n    super(msg);\n    this.id = id;\n    this._context = {};\n    if (Error.captureStackTrace) Error.captureStackTrace(this, RuntimeError);\n  }\n\n  get context () {\n    return this._context;\n  }\n\n  set context (contextObj) {\n    this._context = contextObj;\n  }\n}\n","export class SemanticError extends Error {\n  constructor (msg, id) {\n    super(msg);\n    this.id = id;\n    this._context = {};\n    if (Error.captureStackTrace) Error.captureStackTrace(this, SemanticError);\n  }\n\n  get context () {\n    return this._context;\n  }\n\n  set context (contextObj) {\n    this._context = contextObj;\n  }\n}\n","import { Store } from \"./store/store\";\nimport { Modes } from \"./modes\";\nimport { Context } from \"./context\";\nimport { Types } from \"./../typeSystem/types\";\nimport { Operators } from \"./../ast/operators\";\nimport { LanguageDefinedFunction } from \"./definedFunctions\";\nimport {\n  resultTypeAfterInfixOp,\n  resultTypeAfterUnaryOp,\n} from \"./compatibilityTable\";\nimport * as Commands from \"./../ast/commands/\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { Command } from \"./../ast/commands/command\";\nimport * as Expressions from \"./../ast/expressions/\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { Expression } from \"./../ast/expressions/expression\";\nimport * as Utils from \"./../util/utils\";\nimport { ArrayType } from \"./../typeSystem/array_type\";\nimport { convertToString, toInt } from \"../typeSystem/parsers\";\nimport { Config } from \"../util/config\";\nimport { ProcessorErrorFactory } from \"./error/processorErrorFactory\";\nimport { RuntimeError } from \"./error/runtimeError\";\nimport { Location } from \"../memory/location\";\nimport { StoreValue } from \"./store/value/store_value\";\nimport { StoreValueRef } from \"./store/value/store_value_ref\";\nimport { ArrayStoreValue } from \"./store/value/array_store_value\";\nimport { ArrayStoreValueRef } from \"./store/value/array_store_value_ref\";\nimport { StoreValueAddress } from \"./store/value/store_value_address\";\nimport { LocalizedStrings } from \"../services/localizedStringsService\";\n\nexport class IVProgProcessor {\n  static get MAIN_INTERNAL_ID () {\n    return \"$main\";\n  }\n\n  constructor (ast) {\n    this.ast = ast;\n    this.globalStore = new Store(\"$global\");\n    this.stores = [this.globalStore];\n    this.context = [Context.BASE];\n    this.input = null;\n    this.forceKill = false;\n    this.output = null;\n    this.mode = Modes.RUN;\n    /**\n     * Stores the sourceInfo of every function call, command or expression\n     */\n    this.function_call_stack = [];\n    this.instruction_count = 0;\n    this.function_call_count = 0;\n  }\n\n  registerInput (input) {\n    if (this.input !== null) this.input = null;\n    this.input = input;\n  }\n\n  registerOutput (output) {\n    if (this.output !== null) this.output = null;\n    this.output = output;\n  }\n\n  checkContext (context) {\n    return this.context[this.context.length - 1] === context;\n  }\n\n  ignoreSwitchCases (store) {\n    if (store.mode === Modes.RETURN) {\n      return true;\n    } else if (store.mode === Modes.BREAK) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  prepareState () {\n    if (this.stores !== null) {\n      for (let i = 0; i < this.stores.length; i++) {\n        delete this.stores[i];\n      }\n      this.stores = null;\n    }\n    if (this.globalStore !== null) this.globalStore = null;\n    this.globalStore = new Store(\"$global\");\n    this.stores = [this.globalStore];\n    this.context = [Context.BASE];\n    this.instruction_count = 0;\n    this.mode = Modes.RUN;\n  }\n\n  async interpretAST () {\n    this.prepareState();\n    Location.clear();\n    await this.initGlobal();\n    const mainFunc = this.findMainFunction();\n    if (mainFunc === null) {\n      throw ProcessorErrorFactory.main_missing();\n    }\n    return this.runFunction(mainFunc, [], this.globalStore);\n  }\n\n  async initGlobal () {\n    if (!this.checkContext(Context.BASE)) {\n      return ProcessorErrorFactory.invalid_global_var();\n    }\n    return this.executeCommands(this.globalStore, this.ast.global);\n  }\n\n  findMainFunction () {\n    return this.ast.functions.find((v) => v.isMain);\n  }\n\n  findFunction (name) {\n    if (name.match(/^\\$.+$/)) {\n      if (name === IVProgProcessor.MAIN_INTERNAL_ID) {\n        return this.findMainFunction();\n      }\n      const fun = LanguageDefinedFunction.getFunction(name);\n      if (!fun) {\n        throw ProcessorErrorFactory.not_implemented(name);\n      }\n      return fun;\n    } else {\n      const val = this.ast.functions.find((v) => v.name === name);\n      if (!val) {\n        throw ProcessorErrorFactory.function_missing(name);\n      }\n      return val;\n    }\n  }\n\n  async runFunction (func, actualParameters, store) {\n    const funcName = func.isMain ? IVProgProcessor.MAIN_INTERNAL_ID : func.name;\n    const funcStore = new Store(funcName);\n    funcStore.extendStore(this.globalStore);\n    await this.associateParameters(\n      func.formalParameters,\n      actualParameters,\n      store,\n      funcStore\n    );\n    this.context.push(Context.FUNCTION);\n    this.stores.push(funcStore);\n    const stoWithVars = await this.executeCommands(\n      funcStore,\n      func.variablesDeclarations\n    );\n    const finalSto = await this.executeCommands(stoWithVars, func.commands);\n    this.stores.pop();\n    this.context.pop();\n    return finalSto;\n  }\n\n  /**\n   *\n   * @param {import('./../ast/commands/formalParameter').FormalParameter[]} formal_params\n   * @param {Expression[]} effective_params\n   * @param {Store} caller_store\n   * @param {Store} callee_store\n   */\n  async associateParameters (\n    formal_params,\n    effective_params,\n    caller_store,\n    callee_store\n  ) {\n    const funcName =\n      callee_store.name === IVProgProcessor.MAIN_INTERNAL_ID\n        ? LanguageDefinedFunction.getMainFunctionName()\n        : callee_store.name;\n\n    const hasVariadic = formal_params.some((p) => p.variadic);\n\n    if (\n      (formal_params.length != effective_params.length && !hasVariadic) ||\n      formal_params.length > effective_params.length\n    ) {\n      throw ProcessorErrorFactory.invalid_parameters_size(\n        funcName,\n        formal_params.length,\n        effective_params.length\n      );\n    }\n    for (\n      let i = 0, j = 0;\n      i < formal_params.length && j < effective_params.length;\n      i += 1, j += 1\n    ) {\n      const formalParameter = formal_params[i];\n      if (formalParameter.variadic) {\n        [j, callee_store] = await this.associateVariadicParameter(\n          funcName,\n          formalParameter,\n          j,\n          effective_params,\n          caller_store,\n          callee_store\n        );\n      } else {\n        const actualParam = effective_params[i];\n        callee_store = await this.associateParameter(\n          funcName,\n          formalParameter,\n          actualParam,\n          caller_store,\n          callee_store\n        );\n      }\n    }\n    return callee_store;\n  }\n\n  /**\n   *\n   * @param {string} funcName\n   * @param {import('./../ast/commands/formalParameter').FormalParameter} formalParameter\n   * @param {number} index\n   * @param {Expression[]} effective_params\n   * @param {Store} caller_store\n   * @param {Store} callee_store\n   */\n  async associateVariadicParameter (\n    funcName,\n    formalParameter,\n    index,\n    effective_params,\n    caller_store,\n    callee_store\n  ) {\n    let i;\n    let count = 1;\n    for (i = index; i < effective_params.length; i += 1) {\n      const actualParam = effective_params[i];\n      callee_store = await this.associateParameter(\n        funcName,\n        formalParameter,\n        actualParam,\n        caller_store,\n        callee_store,\n        count\n      );\n      count += 1;\n    }\n    const variadicCount = new StoreValue(Types.INTEGER, count, undefined, true);\n    callee_store.insertStore(`${formalParameter.id}.0`, variadicCount);\n    return [i - 1, callee_store];\n  }\n\n  /**\n   *\n   * @param {string} funcName\n   * @param {import('./../ast/commands/formalParameter').FormalParameter} formalParameter\n   * @param {Expression} actualParameter\n   * @param {Store} callerStore\n   * @param {Store} calleeStore\n   * @param {number} variadicCount The number of the current value being assigned to the variadic parameter, default 0\n   */\n  async associateParameter (\n    funcName,\n    formalParameter,\n    actualParameter,\n    callerStore,\n    calleeStore,\n    variadicCount = 0\n  ) {\n    const actualValue = await this.evaluateExpression(\n      callerStore,\n      actualParameter\n    );\n\n    let shouldTypeCast = false;\n\n    if (!formalParameter.type.isCompatible(actualValue.type)) {\n      if (\n        Config.enable_type_casting &&\n        !formalParameter.byRef &&\n        Store.canImplicitTypeCast(formalParameter.type, actualValue.type)\n      ) {\n        shouldTypeCast = true;\n      } else {\n        throw ProcessorErrorFactory.invalid_parameter_type(\n          funcName,\n          actualParameter.toString()\n        );\n      }\n    }\n\n    if (formalParameter.byRef && !actualValue.inStore()) {\n      throw ProcessorErrorFactory.invalid_ref(\n        funcName,\n        actualParameter.toString()\n      );\n    }\n\n    if (formalParameter.byRef) {\n      const realObj = callerStore.getStoreObject(actualValue.id);\n      let ref = null;\n      if (actualValue instanceof ArrayStoreValue) {\n        // it's a vector or matrix...\n        const values = actualValue.get();\n        const array_type = actualValue.type;\n        const addresses = values.map((v) =>\n          realObj.getLocAddressOf(v.line, v.column)\n        );\n        const columns = actualValue.isVector() ? 0 : actualValue.columns;\n        ref = new ArrayStoreValueRef(\n          array_type,\n          values,\n          addresses,\n          actualValue.lines,\n          columns,\n          realObj.id\n        );\n      } else {\n        if (actualValue instanceof StoreValueAddress) {\n          const line = actualValue.line;\n          const column = actualValue.column;\n          ref = new StoreValueRef(\n            actualValue.type,\n            actualValue.get(),\n            realObj.getLocAddressOf(line, column),\n            realObj.id\n          );\n          ref.setReferenceDimension(realObj.type.dimensions);\n        } else {\n          ref = new StoreValueRef(\n            actualValue.type,\n            actualValue.get(),\n            realObj.locAddress,\n            realObj.id\n          );\n        }\n      }\n      let varID = formalParameter.id;\n      if (formalParameter.variadic) varID = `${varID}.${variadicCount}`;\n      calleeStore.insertStore(varID, ref);\n    } else {\n      let realValue = actualValue;\n      if (shouldTypeCast) {\n        realValue = Store.doImplicitCasting(formalParameter.type, realValue);\n      }\n      let varID = formalParameter.id;\n      if (formalParameter.variadic) varID = `${varID}.${variadicCount}`;\n      calleeStore.insertStore(varID, realValue);\n    }\n    return calleeStore;\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Command[]} cmds\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeCommands (store, cmds) {\n    // helper to partially apply a function, in this case executeCommand\n    let sto = store;\n    for (let i = 0; i < cmds.length; i += 1) {\n      sto = await this.executeCommand(sto, cmds[i]);\n    }\n    return sto;\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Command} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeCommand (store, cmd) {\n    this.instruction_count += 1;\n    if (this.instruction_count % Config.suspend_threshold == 0) {\n      //every Config.suspend_threshold instruction should briefly delay its execution in order to allow the browser to process other things\n      await Utils.sleep(3);\n    }\n\n    // Checks if it must interrupt the execution for some reason\n    if (this.instruction_count >= Config.max_instruction_count) {\n      throw ProcessorErrorFactory.exceed_max_instructions();\n    } else if (this.forceKill) {\n      throw \"FORCED_KILL!\";\n    } else if (store.mode === Modes.PAUSE) {\n      return this.executeCommand(store, cmd);\n    } else if (store.mode === Modes.RETURN) {\n      return store;\n    } else if (\n      this.checkContext(Context.BREAKABLE) &&\n      store.mode === Modes.BREAK\n    ) {\n      return store;\n    } else if (this.mode === Modes.ABORT) {\n      throw LocalizedStrings.getMessage(\"aborted_execution\");\n    }\n\n    if (cmd instanceof Commands.Declaration) {\n      return this.executeDeclaration(store, cmd);\n    } else if (cmd instanceof Commands.ArrayIndexAssign) {\n      return this.executeArrayIndexAssign(store, cmd);\n    } else if (cmd instanceof Commands.Assign) {\n      return this.executeAssign(store, cmd);\n    } else if (cmd instanceof Commands.Break) {\n      return this.executeBreak(store, cmd);\n    } else if (cmd instanceof Commands.Return) {\n      return this.executeReturn(store, cmd);\n    } else if (cmd instanceof Commands.IfThenElse) {\n      return this.executeIfThenElse(store, cmd);\n    } else if (cmd instanceof Commands.RepeatUntil) {\n      return this.executeRepeatUntil(store, cmd);\n    } else if (cmd instanceof Commands.While) {\n      return this.executeWhile(store, cmd);\n    } else if (cmd instanceof Commands.For) {\n      return this.executeFor(store, cmd);\n    } else if (cmd instanceof Commands.Switch) {\n      return this.executeSwitch(store, cmd);\n    } else if (cmd instanceof Expressions.FunctionCall) {\n      return this.executeFunctionCall(store, cmd);\n    } else if (cmd instanceof Commands.SysCall) {\n      return this.executeSysCall(store, cmd);\n    } else {\n      throw ProcessorErrorFactory.unknown_command(cmd.sourceInfo);\n    }\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.SysCall} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeSysCall (store, cmd) {\n    const func = cmd.langFunc.bind(this);\n    return func(store, cmd);\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.FunctionCall} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeFunctionCall (store, cmd) {\n    let func = null;\n    if (cmd.isMainCall) {\n      func = this.findMainFunction();\n    } else {\n      func = this.findFunction(cmd.id);\n    }\n    this.function_call_stack.push(cmd.sourceInfo);\n    const sto = await this.runFunction(func, cmd.actualParameters, store);\n    sto.destroy();\n    if (\n      !Types.VOID.isCompatible(func.returnType) &&\n      sto.mode !== Modes.RETURN\n    ) {\n      const funcName =\n        func.name === IVProgProcessor.MAIN_INTERNAL_ID\n          ? LanguageDefinedFunction.getMainFunctionName()\n          : func.name;\n      throw ProcessorErrorFactory.function_no_return(funcName);\n    } else {\n      this.function_call_stack.pop();\n      return store;\n    }\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.Switch} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeSwitch (store, cmd) {\n    this.context.push(Context.BREAKABLE);\n    const switchCases = cmd.cases;\n    let lastStore = store;\n    let lastCaseCheckResult = false;\n    for (\n      let i = 0;\n      i < switchCases.length && !this.ignoreSwitchCases(lastStore);\n      i += 1\n    ) {\n      const switchCase = switchCases[i];\n      if (lastCaseCheckResult || switchCase.isDefault) {\n        lastStore = await this.executeCommands(lastStore, switchCase.commands);\n      } else {\n        const equalityInfixApp = new Expressions.InfixApp(\n          Operators.EQ,\n          cmd.expression,\n          switchCase.expression\n        );\n        equalityInfixApp.sourceInfo = switchCase.sourceInfo;\n        const result = await this.evaluateExpression(\n          lastStore,\n          equalityInfixApp\n        );\n        if (result.get()) {\n          lastStore = await this.executeCommands(\n            lastStore,\n            switchCase.commands\n          );\n        }\n        lastCaseCheckResult = result.get();\n      }\n    }\n    this.context.pop();\n    if (lastStore.mode === Modes.BREAK) {\n      lastStore.mode = Modes.RUN;\n    }\n    return lastStore;\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.For} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeFor (store, cmd) {\n    //BEGIN for -> while rewrite\n    const initCmd = new Commands.Assign(cmd.for_id.id, cmd.for_from);\n    initCmd.sourceInfo = cmd.sourceInfo;\n    // Assume for is iterating forward and that pass is not missing\n    let passValue = cmd.for_pass;\n    let condition = new Expressions.InfixApp(\n      Operators.LT,\n      cmd.for_id,\n      cmd.for_to\n    );\n\n    if (cmd.for_pass == null) {\n      passValue = new Expressions.IntLiteral(toInt(1));\n      const checkEndGTBegin = await this.evaluateExpression(\n        store,\n        new Expressions.InfixApp(Operators.GE, cmd.for_to, cmd.for_from)\n      );\n      if (!checkEndGTBegin.get()) {\n        passValue = new Expressions.IntLiteral(toInt(-1));\n        condition = new Expressions.InfixApp(\n          Operators.GT,\n          cmd.for_id,\n          cmd.for_to\n        );\n      }\n    } else {\n      const isForward = await this.evaluateExpression(\n        store,\n        new Expressions.InfixApp(\n          Operators.GE,\n          cmd.for_pass,\n          new Expressions.IntLiteral(toInt(0))\n        )\n      );\n      if (!isForward.get()) {\n        condition = new Expressions.InfixApp(\n          Operators.GT,\n          cmd.for_id,\n          cmd.for_to\n        );\n      }\n    }\n\n    condition.sourceInfo = cmd.sourceInfo;\n    const increment = new Commands.Assign(\n      cmd.for_id.id,\n      new Expressions.InfixApp(Operators.ADD, cmd.for_id, passValue)\n    );\n    increment.sourceInfo = cmd.sourceInfo;\n    const whileBlock = new Commands.CommandBlock(\n      [],\n      cmd.commands.concat(increment)\n    );\n    const forAsWhile = new Commands.While(condition, whileBlock);\n    forAsWhile.sourceInfo = cmd.sourceInfo;\n    //END for -> while rewrite\n    const newCmdList = [initCmd, forAsWhile];\n    return this.executeCommands(store, newCmdList);\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.RepeatUntil} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeRepeatUntil (store, cmd) {\n    this.context.push(Context.BREAKABLE);\n    const sto = await this.executeCommands(store, cmd.commands);\n    if (sto.mode === Modes.BREAK) {\n      this.context.pop();\n      sto.mode = Modes.RUN;\n      return sto;\n    }\n    const checkCondition = await this.evaluateExpression(sto, cmd.expression);\n    if (!checkCondition.type.isCompatible(Types.BOOLEAN)) {\n      throw ProcessorErrorFactory.loop_condition_type_full(cmd.sourceInfo);\n    }\n    this.context.pop();\n    if (checkCondition.get()) {\n      return sto;\n    } else {\n      return this.executeCommand(sto, cmd);\n    }\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.While} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeWhile (store, cmd) {\n    this.context.push(Context.BREAKABLE);\n    const checkCondition = await this.evaluateExpression(store, cmd.expression);\n    if (!checkCondition.type.isCompatible(Types.BOOLEAN)) {\n      throw ProcessorErrorFactory.loop_condition_type_full(\n        cmd.expression.toString(),\n        cmd.sourceInfo\n      );\n    }\n    if (checkCondition.get()) {\n      const sto = await this.executeCommands(store, cmd.commands);\n      this.context.pop();\n      if (sto.mode === Modes.BREAK) {\n        sto.mode = Modes.RUN;\n        return sto;\n      }\n      return this.executeCommand(sto, cmd);\n    } else {\n      this.context.pop();\n      return store;\n    }\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.IfThenElse} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeIfThenElse (store, cmd) {\n    const isTrue = await this.evaluateExpression(store, cmd.condition);\n    if (!isTrue.type.isCompatible(Types.BOOLEAN)) {\n      throw ProcessorErrorFactory.if_condition_type_full(\n        cmd.condition.toString(),\n        cmd.sourceInfo\n      );\n    }\n    if (isTrue.get()) {\n      return this.executeCommands(store, cmd.ifTrue.commands);\n    } else if (cmd.ifFalse !== null) {\n      if (cmd.ifFalse instanceof Commands.IfThenElse) {\n        return this.executeCommand(store, cmd.ifFalse);\n      } else {\n        return this.executeCommands(store, cmd.ifFalse.commands);\n      }\n    } else {\n      return store;\n    }\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.Return} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeReturn (store, cmd) {\n    const funcName =\n      store.name === IVProgProcessor.MAIN_INTERNAL_ID\n        ? LanguageDefinedFunction.getMainFunctionName()\n        : store.name;\n    // console.log(funcName,  store.name === IVProgProcessor.MAIN_INTERNAL_ID);\n    const func = this.findFunction(store.name);\n    const funcType = func.returnType;\n    const value = await this.evaluateExpression(store, cmd.expression);\n    if (value === null && funcType.isCompatible(Types.VOID)) {\n      store.mode = Modes.RETURN;\n      return store;\n    }\n\n    let real_value = value;\n    if (value === null || !funcType.isCompatible(value.type)) {\n      if (\n        !Config.enable_type_casting ||\n        !Store.canImplicitTypeCast(funcType, value.type)\n      ) {\n        const stringInfo = funcType.stringInfo();\n        const info = stringInfo[0];\n        throw ProcessorErrorFactory.invalid_return_type_full(\n          funcName,\n          info.type,\n          info.dim,\n          cmd.sourceInfo\n        );\n      }\n      real_value = Store.doImplicitCasting(funcType, value);\n    }\n\n    store.insertStore(\"$\", real_value);\n    store.mode = Modes.RETURN;\n    return store;\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.Break} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeBreak (store, cmd) {\n    if (this.checkContext(Context.BREAKABLE)) {\n      store.mode = Modes.BREAK;\n      return store;\n    } else {\n      throw ProcessorErrorFactory.unexpected_break_command_full(cmd.sourceInfo);\n    }\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.Assign} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeAssign (store, cmd) {\n    const inStore = store.applyStore(cmd.id);\n    if (inStore.isConst) {\n      throw ProcessorErrorFactory.invalid_const_assignment_full(\n        cmd.id,\n        cmd.sourceInfo\n      );\n    }\n    const value = await this.evaluateExpression(store, cmd.expression);\n    let realValue = value;\n    if (!inStore.type.isCompatible(realValue.type)) {\n      if (\n        Config.enable_type_casting &&\n        Store.canImplicitTypeCast(inStore.type, value.type)\n      ) {\n        realValue = Store.doImplicitCasting(inStore.type, realValue);\n      } else {\n        const stringInfo = inStore.type.stringInfo();\n        const info = stringInfo[0];\n        const exp_type_string_info = value.type.stringInfo();\n        const exp_type_info = exp_type_string_info[0];\n        const exp = cmd.expression.toString();\n        throw ProcessorErrorFactory.incompatible_types_full(\n          info.type,\n          info.dim,\n          exp_type_info.type,\n          exp_type_info.dim,\n          exp,\n          cmd.sourceInfo\n        );\n      }\n    }\n\n    if (inStore instanceof ArrayStoreValue) {\n      const columns = realValue.columns == null ? 0 : realValue.columns;\n      if (inStore.lines !== realValue.lines || inStore.columns !== columns) {\n        const exp = cmd.expression.toString();\n        if (inStore.isVector()) {\n          throw ProcessorErrorFactory.invalid_vector_assignment_full(\n            cmd.id,\n            inStore.lines,\n            exp,\n            realValue.lines,\n            cmd.sourceInfo\n          );\n        } else {\n          throw ProcessorErrorFactory.invalid_matrix_assignment_full(\n            cmd.id,\n            inStore.lines,\n            inStore.columns,\n            exp,\n            realValue.lines,\n            realValue.columns,\n            cmd.sourceInfo\n          );\n        }\n      }\n    }\n\n    store.updateStore(cmd.id, realValue);\n    return store;\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.ArrayIndexAssign} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeArrayIndexAssign (store, cmd) {\n    const mustBeArray = store.applyStore(cmd.id);\n    let used_dims = 0;\n    if (mustBeArray.isConst) {\n      throw ProcessorErrorFactory.invalid_const_assignment_full(\n        cmd.id,\n        cmd.sourceInfo\n      );\n    }\n    if (!(mustBeArray.type instanceof ArrayType)) {\n      throw ProcessorErrorFactory.invalid_array_access_full(\n        cmd.id,\n        cmd.sourceInfo\n      );\n    }\n    const lineSV = await this.evaluateExpression(store, cmd.line);\n    if (!Types.INTEGER.isCompatible(lineSV.type)) {\n      throw ProcessorErrorFactory.array_dimension_not_int_full(cmd.sourceInfo);\n    }\n    used_dims += 1;\n    const line = lineSV.get().toNumber();\n    const columnSV = await this.evaluateExpression(store, cmd.column);\n    let column = null;\n    if (columnSV != null) {\n      if (!Types.INTEGER.isCompatible(columnSV.type)) {\n        throw ProcessorErrorFactory.array_dimension_not_int_full(\n          cmd.sourceInfo\n        );\n      }\n      column = columnSV.get().toNumber();\n      used_dims += 1;\n    }\n    const value = await this.evaluateExpression(store, cmd.expression);\n    let actualValue = value;\n    if (line >= mustBeArray.lines) {\n      if (mustBeArray.isVector) {\n        throw ProcessorErrorFactory.vector_line_outbounds_full(\n          cmd.id,\n          line,\n          mustBeArray.lines,\n          cmd.sourceInfo\n        );\n      } else {\n        throw ProcessorErrorFactory.matrix_line_outbounds_full(\n          cmd.id,\n          line,\n          mustBeArray.lines,\n          cmd.sourceInfo\n        );\n      }\n    } else if (line < 0) {\n      throw ProcessorErrorFactory.array_dimension_not_positive_full(\n        cmd.sourceInfo\n      );\n    }\n    if (column != null && mustBeArray.columns === 0) {\n      throw ProcessorErrorFactory.vector_not_matrix_full(\n        cmd.id,\n        cmd.sourceInfo\n      );\n    }\n    if (column != null) {\n      if (column >= mustBeArray.columns) {\n        throw ProcessorErrorFactory.matrix_column_outbounds_full(\n          cmd.id,\n          column,\n          mustBeArray.columns,\n          cmd.sourceInfo\n        );\n      } else if (column < 0) {\n        throw ProcessorErrorFactory.array_dimension_not_positive_full(\n          cmd.sourceInfo\n        );\n      }\n    }\n\n    if (!mustBeArray.type.canAccept(value.type, used_dims)) {\n      if (\n        !Config.enable_type_casting ||\n        !Store.canImplicitTypeCast(mustBeArray.type.innerType, value.type)\n      ) {\n        const type = mustBeArray.type.innerType;\n        const stringInfo = type.stringInfo();\n        const info = stringInfo[0];\n        const exp_type_string_info = value.type.stringInfo();\n        const exp_type_info = exp_type_string_info[0];\n        const exp = cmd.expression.toString();\n        throw ProcessorErrorFactory.incompatible_types_full(\n          info.type,\n          info.dim,\n          exp_type_info.type,\n          exp_type_info.dim,\n          exp,\n          cmd.sourceInfo\n        );\n      }\n      actualValue = Store.doImplicitCasting(mustBeArray.type.innerType, value);\n    }\n\n    const current_value = mustBeArray.getAt(line, column);\n    if (current_value instanceof ArrayStoreValue) {\n      if (\n        current_value.lines !== actualValue.lines ||\n        current_value.columns !== actualValue.columns\n      ) {\n        const exp = cmd.expression.toString();\n        throw ProcessorErrorFactory.invalid_matrix_index_assign_full(\n          cmd.id,\n          line,\n          current_value.lines,\n          exp,\n          actualValue.lines,\n          cmd.sourceInfo\n        );\n      }\n    }\n\n    return store.updateStoreArray(cmd.id, actualValue, line, column);\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.Declaration} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeDeclaration (store, cmd) {\n    if (cmd instanceof Commands.ArrayDeclaration) {\n      return this.executeArrayDeclaration(store, cmd);\n    } else {\n      let temp = new StoreValue(cmd.type, null, null, cmd.isConst);\n      if (cmd.initial !== null) {\n        const value = await this.evaluateExpression(store, cmd.initial);\n        let realValue = value;\n        if (!value.type.isCompatible(cmd.type)) {\n          if (\n            Config.enable_type_casting &&\n            Store.canImplicitTypeCast(cmd.type, value.type)\n          ) {\n            realValue = Store.doImplicitCasting(cmd.type, realValue);\n          } else {\n            const stringInfo = value.type.stringInfo();\n            const info = stringInfo[0];\n            const exp_type_string_info = value.type.stringInfo();\n            const exp_type_info = exp_type_string_info[0];\n            const exp = cmd.expression.toString();\n            throw ProcessorErrorFactory.incompatible_types_full(\n              info.type,\n              info.dim,\n              exp_type_info.type,\n              exp_type_info.dim,\n              exp,\n              cmd.sourceInfo\n            );\n          }\n        }\n        temp = new StoreValue(cmd.type, realValue.get(), null, cmd.isConst);\n      }\n      store.insertStore(cmd.id, temp);\n      return store;\n    }\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Commands.ArrayDeclaration} cmd\n   *\n   * @returns {Promise<Store>}\n   */\n  async executeArrayDeclaration (store, cmd) {\n    const linesSV = await this.evaluateExpression(store, cmd.lines);\n    if (!Types.INTEGER.isCompatible(linesSV.type)) {\n      throw ProcessorErrorFactory.array_dimension_not_int_full(cmd.sourceInfo);\n    }\n    const line = linesSV.get().toNumber();\n    const columnsSV = await this.evaluateExpression(store, cmd.columns);\n    let column = null;\n    if (columnsSV !== null) {\n      if (!Types.INTEGER.isCompatible(columnsSV.type)) {\n        throw ProcessorErrorFactory.array_dimension_not_int_full(\n          cmd.sourceInfo\n        );\n      }\n      column = columnsSV.get().toNumber();\n      if (column < 0) {\n        throw ProcessorErrorFactory.array_dimension_not_positive_full(\n          cmd.sourceInfo\n        );\n      }\n    }\n    let temp = new ArrayStoreValue(\n      cmd.type,\n      [],\n      line,\n      column,\n      null,\n      cmd.isConst\n    );\n    if (cmd.initial !== null) {\n      // array can only be initialized by a literal....\n      const valueList = await this.evaluateArrayLiteral(\n        store,\n        cmd.initial,\n        cmd.type,\n        line,\n        column\n      );\n      temp = new ArrayStoreValue(\n        cmd.type,\n        valueList,\n        line,\n        column,\n        null,\n        cmd.isConst\n      );\n    }\n    store.insertStore(cmd.id, temp);\n    return store;\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Expression} exp\n   *\n   * @returns {Promise<import('./store/value/istore_value').IStoreValue>}\n   */\n  async evaluateExpression (store, exp) {\n    this.instruction_count += 1;\n    if (this.instruction_count % Config.suspend_threshold == 0) {\n      //every Config.suspend_threshold instruction should briefly delay its execution in order to allow the browser to process other things\n      await Utils.sleep(3);\n    }\n    if (this.mode === Modes.ABORT) {\n      throw LocalizedStrings.getMessage(\"aborted_execution\");\n    }\n    if (this.instruction_count >= Config.max_instruction_count) {\n      throw new Error(\n        \"Número de instruções excedeu o limite definido. Verifique se seu código não possui laços infinitos ou muitas chamadas de funções recursivas.\"\n      );\n    }\n    if (exp instanceof Expressions.UnaryApp) {\n      return this.evaluateUnaryApp(store, exp);\n    } else if (exp instanceof Expressions.InfixApp) {\n      return this.evaluateInfixApp(store, exp);\n    } else if (exp instanceof Expressions.ArrayAccess) {\n      return this.evaluateArrayAccess(store, exp);\n    } else if (exp instanceof Expressions.VariableLiteral) {\n      return this.evaluateVariableLiteral(store, exp);\n    } else if (exp instanceof Expressions.IntLiteral) {\n      return this.evaluateLiteral(store, exp);\n    } else if (exp instanceof Expressions.RealLiteral) {\n      return this.evaluateLiteral(store, exp);\n    } else if (exp instanceof Expressions.BoolLiteral) {\n      return this.evaluateLiteral(store, exp);\n    } else if (exp instanceof Expressions.StringLiteral) {\n      return this.evaluateLiteral(store, exp);\n    } else if (exp instanceof Expressions.CharLiteral) {\n      return this.evaluateLiteral(store, exp);\n    } else if (exp instanceof Expressions.ArrayLiteral) {\n      throw new Error(\n        \"Internal Error: The system should not eval an array literal.\"\n      );\n    } else if (exp instanceof Expressions.FunctionCall) {\n      return this.evaluateFunctionCall(store, exp);\n    }\n    return null;\n  }\n\n  async evaluateFunctionCall (store, exp) {\n    if (exp.isMainCall) {\n      throw ProcessorErrorFactory.void_in_expression_full(\n        LanguageDefinedFunction.getMainFunctionName(),\n        exp.sourceInfo\n      );\n    }\n    const func = this.findFunction(exp.id);\n    if (Types.VOID.isCompatible(func.returnType)) {\n      throw ProcessorErrorFactory.void_in_expression_full(\n        exp.id,\n        exp.sourceInfo\n      );\n    }\n    if (this.function_call_stack.length >= Config.max_call_stack) {\n      throw ProcessorErrorFactory.exceeded_recursive_calls(exp.sourceInfo);\n    }\n    this.function_call_stack.push(exp.sourceInfo);\n    const sto = await this.runFunction(func, exp.actualParameters, store);\n    if (sto.mode !== Modes.RETURN) {\n      throw new Error(\n        \"!!!Internal error: the function that was called did not have a return command or did not set the store mode properly -> \" +\n          exp.id\n      );\n    }\n    const val = sto.applyStore(\"$\");\n    sto.destroy();\n    this.function_call_stack.pop();\n    return val;\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Expressions.ArrayLiteral} exp\n   * @param {ArrayType} type\n   *\n   * @returns {Promise<StoreValue[]>}\n   */\n  async evaluateArrayLiteral (store, exp, type, lines, columns) {\n    if (!exp.isVector) {\n      if (columns == null) {\n        throw new Error(\n          \"This should never happen: Vector cannot be initialized by a matrix\"\n        );\n      }\n      const storeValueMatrix = await this.evaluateMatrix(\n        store,\n        exp,\n        type,\n        lines,\n        columns\n      );\n      return storeValueMatrix.reduce((prev, next) => prev.concat(next), []);\n    } else {\n      if (columns != null) {\n        throw new Error(\n          \"This should never happen: Matrix cannot be initialized by a vector\"\n        );\n      }\n      return this.evaluateVector(store, exp, type, lines);\n    }\n  }\n\n  /**\n   * Evalautes a list of literals and expression composing the vector\n   * @param {Store} store\n   * @param {Expressions.ArrayLiteral} exps\n   * @param {ArrayType} type\n   * @param {number} n_elements\n   *\n   * @returns {Promise<StoreValue[]>} store object list\n   */\n  async evaluateVector (store, exps, type, n_elements) {\n    const values = exps.value;\n    if (n_elements !== values.length) {\n      throw ProcessorErrorFactory.invalid_number_elements_vector(\n        n_elements,\n        exps.toString(),\n        values.length,\n        exps.sourceInfo\n      );\n    }\n    const actualValues = await Promise.all(\n      values.map((exp) => this.evaluateExpression(store, exp))\n    );\n    return actualValues.map((v, index) => {\n      if (!type.canAccept(v.type, 1)) {\n        if (\n          !Config.enable_type_casting ||\n          !Store.canImplicitTypeCast(type.innerType, v.type)\n        ) {\n          // const stringInfo = v.type.stringInfo();\n          // const info = stringInfo[0];\n          const exp_str = values[index].toString();\n          // TODO - fix error message\n          throw ProcessorErrorFactory.invalid_array_literal_type_full(\n            exp_str,\n            values[index].sourceInfo\n          );\n        }\n        const newValue = Store.doImplicitCasting(type.innerType, v);\n        return newValue;\n      }\n      return v;\n    });\n  }\n\n  /**\n   * Evaluates a list of array literals composing the matrix\n   * @param {Store} store\n   * @param {Expressions.ArrayLiteral} exps\n   * @param {ArrayType} type\n   *\n   * @returns {Promise<StoreValue[][]>}\n   */\n  async evaluateMatrix (store, exps, type, lines, columns) {\n    const values = exps.value;\n    if (values.length !== lines) {\n      throw ProcessorErrorFactory.invalid_number_lines_matrix(\n        lines,\n        exps.toString(),\n        values.length,\n        exps.sourceInfo\n      );\n    }\n    const vectors = values.map((vector) => {\n      const vec_type = new ArrayType(type.innerType, 1);\n      return this.evaluateVector(store, vector, vec_type, columns);\n    });\n    return await Promise.all(vectors);\n  }\n\n  /**\n   *\n   * @param {Store} _\n   * @param {import('../ast/expressions/literal').Literal} exp\n   *\n   * @returns {import('./store/value/istore_value').IStoreValue}\n   */\n  async evaluateLiteral (_, exp) {\n    return new StoreValue(exp.type, exp.value);\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Expressions.VariableLiteral} exp\n   *\n   * @returns {import('./store/value/istore_value').IStoreValue}\n   */\n  async evaluateVariableLiteral (store, exp) {\n    const val = store.applyStore(exp.id);\n    return val;\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Expressions.ArrayAccess} exp\n   *\n   * @returns {import('./store/value/istore_value').IStoreValue}\n   */\n  async evaluateArrayAccess (store, exp) {\n    const mustBeArray = store.getStoreObject(exp.id);\n    if (!(mustBeArray.type instanceof ArrayType)) {\n      throw ProcessorErrorFactory.invalid_array_access_full(\n        exp.id,\n        exp.sourceInfo\n      );\n    }\n    const lineSV = await this.evaluateExpression(store, exp.line);\n    if (!Types.INTEGER.isCompatible(lineSV.type)) {\n      throw ProcessorErrorFactory.array_dimension_not_int_full(exp.sourceInfo);\n    }\n    const line = lineSV.get().toNumber();\n    const columnSV = await this.evaluateExpression(store, exp.column);\n    let column = null;\n    if (columnSV !== null) {\n      if (!Types.INTEGER.isCompatible(columnSV.type)) {\n        throw ProcessorErrorFactory.array_dimension_not_int_full(\n          exp.sourceInfo\n        );\n      }\n      column = columnSV.get().toNumber();\n    }\n    if (line >= mustBeArray.lines) {\n      if (mustBeArray.isVector) {\n        throw ProcessorErrorFactory.vector_line_outbounds_full(\n          exp.id,\n          line,\n          mustBeArray.lines,\n          exp.sourceInfo\n        );\n      } else {\n        throw ProcessorErrorFactory.matrix_line_outbounds_full(\n          exp.id,\n          line,\n          mustBeArray.lines,\n          exp.sourceInfo\n        );\n      }\n    } else if (line < 0) {\n      throw ProcessorErrorFactory.array_dimension_not_positive_full(\n        exp.sourceInfo\n      );\n    }\n    if (column !== null && mustBeArray.columns === 0) {\n      throw ProcessorErrorFactory.vector_not_matrix_full(\n        exp.id,\n        exp.sourceInfo\n      );\n    }\n    if (column !== null) {\n      if (column >= mustBeArray.columns) {\n        throw ProcessorErrorFactory.matrix_column_outbounds_full(\n          exp.id,\n          column,\n          mustBeArray.columns,\n          exp.sourceInfo\n        );\n      } else if (column < 0) {\n        throw ProcessorErrorFactory.array_dimension_not_positive_full(\n          exp.sourceInfo\n        );\n      }\n    }\n    const result = mustBeArray.getAt(line, column);\n    const type = mustBeArray.type.innerType;\n    if (Array.isArray(result)) {\n      const values = result.map((val, col) => {\n        return new StoreValueAddress(\n          type,\n          val,\n          line,\n          col,\n          mustBeArray.id,\n          mustBeArray.readOnly\n        );\n      });\n      return new ArrayStoreValue(\n        new ArrayType(type, 1),\n        values,\n        mustBeArray.columns,\n        null,\n        mustBeArray.id,\n        mustBeArray.readOnly\n      );\n    } else {\n      return new StoreValueAddress(\n        type,\n        result,\n        line,\n        column,\n        mustBeArray.id,\n        mustBeArray.readOnly\n      );\n    }\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Expressions.UnaryApp} unaryApp\n   *\n   * @returns {import('./store/value/istore_value').IStoreValue}\n   */\n  async evaluateUnaryApp (store, unaryApp) {\n    const left = await this.evaluateExpression(store, unaryApp.left);\n    const resultType = resultTypeAfterUnaryOp(unaryApp.op, left.type);\n    if (Types.UNDEFINED.isCompatible(resultType)) {\n      const stringInfo = left.type.stringInfo();\n      const info = stringInfo[0];\n      throw ProcessorErrorFactory.invalid_unary_op_full(\n        unaryApp.op,\n        info.type,\n        info.dim,\n        unaryApp.sourceInfo\n      );\n    }\n    switch (unaryApp.op.ord) {\n      case Operators.ADD.ord:\n        return new StoreValue(resultType, left.get());\n      case Operators.SUB.ord:\n        return new StoreValue(resultType, left.get().negated());\n      case Operators.NOT.ord:\n        return new StoreValue(resultType, !left.get());\n      default:\n        throw new RuntimeError(\"!!!Critical Invalid UnaryApp \" + unaryApp.op);\n    }\n  }\n\n  /**\n   *\n   * @param {Store} store\n   * @param {Expressions.InfixApp} infixApp\n   *\n   * @returns {import('./store/value/istore_value').IStoreValue}\n   */\n  async evaluateInfixApp (store, infixApp) {\n    const left = await this.evaluateExpression(store, infixApp.left);\n    const right = await this.evaluateExpression(store, infixApp.right);\n    let shouldImplicitCast = false;\n    let resultType = resultTypeAfterInfixOp(infixApp.op, left.type, right.type);\n    if (Types.UNDEFINED.isCompatible(resultType)) {\n      if (\n        Config.enable_type_casting &&\n        Store.canImplicitTypeCast(left.type, right.type)\n      ) {\n        shouldImplicitCast = true;\n      } else {\n        const stringInfoLeft = left.type.stringInfo();\n        const infoLeft = stringInfoLeft[0];\n        const stringInfoRight = right.type.stringInfo();\n        const infoRight = stringInfoRight[0];\n        throw ProcessorErrorFactory.invalid_infix_op_full(\n          infixApp.op,\n          infoLeft.type,\n          infoLeft.dim,\n          infoRight.type,\n          infoRight.dim,\n          infixApp.sourceInfo\n        );\n      }\n    }\n    let result = null;\n    switch (infixApp.op.ord) {\n      case Operators.ADD.ord: {\n        if (Types.STRING.isCompatible(left.type)) {\n          const rightStr = convertToString(right.get(), right.type);\n          return new StoreValue(resultType, left.get() + rightStr);\n        } else if (Types.STRING.isCompatible(right.type)) {\n          const leftStr = convertToString(left.get(), left.type);\n          return new StoreValue(resultType, leftStr + right.get());\n        } else if (Types.CHAR.isCompatible(left.type)) {\n          const strLeft = convertToString(left.get(), left.type);\n          const strRight = convertToString(right.get(), right.type);\n          return new StoreValue(resultType, strLeft + strRight);\n        } else {\n          return new StoreValue(resultType, left.get().plus(right.get()));\n        }\n      }\n      case Operators.SUB.ord:\n        return new StoreValue(resultType, left.get().minus(right.get()));\n      case Operators.MULT.ord: {\n        result = left.get().times(right.get());\n        return new StoreValue(resultType, result);\n      }\n      case Operators.DIV.ord: {\n        if (right.get() == 0) {\n          throw ProcessorErrorFactory.divsion_by_zero_full(\n            infixApp.toString(),\n            infixApp.sourceInfo\n          );\n        }\n        if (Types.INTEGER.isCompatible(resultType))\n          result = left.get().divToInt(right.get());\n        else result = left.get().div(right.get());\n        return new StoreValue(resultType, result);\n      }\n      case Operators.MOD.ord: {\n        let leftValue = left.get();\n        let rightValue = right.get();\n        if (shouldImplicitCast) {\n          resultType = Types.INTEGER;\n          leftValue = leftValue.trunc();\n          rightValue = rightValue.trunc();\n        }\n        result = leftValue.modulo(rightValue);\n        return new StoreValue(resultType, result);\n      }\n      case Operators.GT.ord: {\n        let leftValue = left.get();\n        let rightValue = right.get();\n        if (Types.STRING.isCompatible(left.type)) {\n          result = leftValue.length > rightValue.length;\n        } else if (Types.CHAR.isCompatible(left.type)) {\n          result = leftValue.charCodeAt(0) > rightValue.charCodeAt(0);\n        } else {\n          if (shouldImplicitCast) {\n            resultType = Types.BOOLEAN;\n            leftValue = leftValue.trunc();\n            rightValue = rightValue.trunc();\n          }\n          result = leftValue.gt(rightValue);\n        }\n        return new StoreValue(resultType, result);\n      }\n      case Operators.GE.ord: {\n        let leftValue = left.get();\n        let rightValue = right.get();\n        if (Types.STRING.isCompatible(left.type)) {\n          result = leftValue.length >= rightValue.length;\n        } else if (Types.CHAR.isCompatible(left.type)) {\n          result = leftValue.charCodeAt(0) >= rightValue.charCodeAt(0);\n        } else {\n          if (shouldImplicitCast) {\n            resultType = Types.BOOLEAN;\n            leftValue = leftValue.trunc();\n            rightValue = rightValue.trunc();\n          }\n          result = leftValue.gte(rightValue);\n        }\n        return new StoreValue(resultType, result);\n      }\n      case Operators.LT.ord: {\n        let leftValue = left.get();\n        let rightValue = right.get();\n        if (Types.STRING.isCompatible(left.type)) {\n          result = leftValue.length < rightValue.length;\n        } else if (Types.CHAR.isCompatible(left.type)) {\n          result = leftValue.charCodeAt(0) < rightValue.charCodeAt(0);\n        } else {\n          if (shouldImplicitCast) {\n            resultType = Types.BOOLEAN;\n            leftValue = leftValue.trunc();\n            rightValue = rightValue.trunc();\n          }\n          result = leftValue.lt(rightValue);\n        }\n        return new StoreValue(resultType, result);\n      }\n      case Operators.LE.ord: {\n        let leftValue = left.get();\n        let rightValue = right.get();\n        if (Types.STRING.isCompatible(left.type)) {\n          result = leftValue.length <= rightValue.length;\n        } else if (Types.CHAR.isCompatible(left.type)) {\n          result = leftValue.charCodeAt(0) <= rightValue.charCodeAt(0);\n        } else {\n          if (shouldImplicitCast) {\n            resultType = Types.BOOLEAN;\n            leftValue = leftValue.trunc();\n            rightValue = rightValue.trunc();\n          }\n          result = leftValue.lte(rightValue);\n        }\n        return new StoreValue(resultType, result);\n      }\n      case Operators.EQ.ord: {\n        let leftValue = left.get();\n        let rightValue = right.get();\n        if (\n          Types.INTEGER.isCompatible(left.type) ||\n          Types.REAL.isCompatible(left.type)\n        ) {\n          if (shouldImplicitCast) {\n            resultType = Types.BOOLEAN;\n            leftValue = leftValue.trunc();\n            rightValue = rightValue.trunc();\n          }\n          result = leftValue.eq(rightValue);\n        } else {\n          result = leftValue === rightValue;\n        }\n        return new StoreValue(resultType, result);\n      }\n      case Operators.NEQ.ord: {\n        let leftValue = left.get();\n        let rightValue = right.get();\n        if (\n          Types.INTEGER.isCompatible(left.type) ||\n          Types.REAL.isCompatible(left.type)\n        ) {\n          if (shouldImplicitCast) {\n            resultType = Types.BOOLEAN;\n            leftValue = leftValue.trunc();\n            rightValue = rightValue.trunc();\n          }\n          result = !leftValue.eq(rightValue);\n        } else {\n          result = leftValue !== rightValue;\n        }\n        return new StoreValue(resultType, result);\n      }\n      case Operators.AND.ord:\n        return new StoreValue(resultType, left.get() && right.get());\n      case Operators.OR.ord:\n        return new StoreValue(resultType, left.get() || right.get());\n      default:\n        throw new RuntimeError(\"!!!Critical Invalid InfixApp \" + infixApp.op);\n    }\n  }\n}\n","import * as Commands from './../../ast/commands';\nimport { Types } from './../../typeSystem/types';\nimport { toInt } from \"./../../typeSystem/parsers\";\nimport { ArrayType } from '../../typeSystem/array_type';\nimport { Modes } from '../modes';\nimport { StoreValue } from '../store/value/store_value';\n\n/**\n * num_elements\n * matrix_lines\n * matrix_columns\n */\n\nexport function createNumElementsFun () {\n  const numElementsFun = async (sto, _) => {\n    const vector  = sto.applyStore(\"vector\");\n    const temp = new StoreValue(Types.INTEGER, toInt(vector.lines));\n    sto.mode = Modes.RETURN;\n    sto.insertStore(\"$\", temp);\n    return sto;\n  }\n\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(numElementsFun)]);\n  const func = new Commands.Function('$numElements', Types.INTEGER,\n    [new Commands.FormalParameter(new ArrayType(Types.ALL, 1), 'vector', false)],\n    block);\n  return func;\n }\n\nexport function createMatrixLinesFun () {\n  const matrixLinesFun = async (sto, _) => {\n    const matrix  = sto.applyStore(\"matrix\");\n    const temp = new StoreValue(Types.INTEGER, toInt(matrix.lines));\n    sto.mode = Modes.RETURN;\n    sto.insertStore(\"$\", temp);\n    return sto;\n  }\n\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(matrixLinesFun)]);\n  const func = new Commands.Function('$matrixLines', Types.INTEGER,\n    [new Commands.FormalParameter(new ArrayType(Types.ALL, 2), 'matrix', false)],\n    block);\n  return func;\n }\n\nexport function createMatrixColumnsFun () {\n  const matrixColumnsFun = async (sto, _) => {\n    const matrix  = sto.applyStore(\"matrix\");\n    const temp = new StoreValue(Types.INTEGER, toInt(matrix.columns));\n    sto.mode = Modes.RETURN;\n    sto.insertStore(\"$\", temp);\n    return sto;\n  }\n\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(matrixColumnsFun)]);\n  const func = new Commands.Function('$matrixColumns', Types.INTEGER,\n    [new Commands.FormalParameter(new ArrayType(Types.ALL, 2), 'matrix', false)],\n    block);\n  return func;\n }\n ","import * as Commands from \"./../../ast/commands\";\nimport { Modes } from \"../modes\";\nimport * as Parsers from \"./../../typeSystem/parsers\";\nimport { Types } from \"./../../typeSystem/types\";\nimport { ProcessorErrorFactory } from \"./../error/processorErrorFactory\";\nimport { StoreValue } from \"../store/value/store_value\";\n\nexport function createOutputFun () {\n  const writeFunction = async function (store, _) {\n    const totalSV = store.applyStore(\"p1.0\");\n    const total = totalSV.get();\n    for (let i = 1; i < total; i += 1) {\n      const val = store.applyStore(`p1.${i}`);\n      this.output.sendOutput(Parsers.convertToString(val.get(), val.type));\n    }\n    store.mode = Modes.RETURN;\n    return store;\n  };\n  const block = new Commands.CommandBlock(\n    [],\n    [new Commands.SysCall(writeFunction)]\n  );\n  const func = new Commands.Function(\n    \"$write\",\n    Types.VOID,\n    [new Commands.FormalParameter(Types.ALL, \"p1\", false, true)],\n    block\n  );\n  return func;\n}\n\nexport function createInputFun () {\n  const readFunction = async function (store, _) {\n    const text = await this.input.requestInput();\n    const typeToConvert = store.applyStore(\"p1\").type;\n    let type = null;\n    let result = null;\n    try {\n      if (typeToConvert.isCompatible(Types.INTEGER)) {\n        result = Parsers.toInt(text.trim()).trunc();\n        type = Types.INTEGER;\n      } else if (typeToConvert.isCompatible(Types.REAL)) {\n        result = Parsers.toReal(text.trim());\n        type = Types.REAL;\n      } else if (typeToConvert.isCompatible(Types.BOOLEAN)) {\n        result = Parsers.toBool(text.trim());\n        type = Types.BOOLEAN;\n      } else if (typeToConvert.isCompatible(Types.STRING)) {\n        result = Parsers.toString(text);\n        type = Types.STRING;\n      } else if (typeToConvert.isCompatible(Types.CHAR)) {\n        result = Parsers.toChar(text);\n        type = Types.CHAR;\n      } else {\n        throw new Error(\"!!!!Critical error: Unknown type in readFunction!!!!\");\n      }\n    } catch (_) {\n      if (this.mode == Modes.ABORT) {\n        store.mode = Modes.RETURN;\n        return store;\n      }\n      const stringInfo = typeToConvert.stringInfo()[0];\n      const realObject = store.getStoreObject(\"p1\");\n      if (realObject.getReferenceDimension() > 0) {\n        const arrayInfo = realObject.type.stringInfo()[0];\n        const dim = realObject.getReferenceDimension();\n        throw ProcessorErrorFactory.invalid_read_type_array(\n          text,\n          stringInfo.type,\n          stringInfo.dim,\n          realObject.getRefObj(),\n          arrayInfo.type,\n          dim,\n          this.function_call_stack.pop()\n        );\n      }\n      throw ProcessorErrorFactory.invalid_read_type(\n        text,\n        stringInfo.type,\n        stringInfo.dim,\n        realObject.getRefObj(),\n        this.function_call_stack.pop()\n      );\n    }\n    const stoValue = new StoreValue(type, result);\n    store.updateStore(\"p1\", stoValue);\n    store.mode = Modes.RETURN;\n    return store;\n  };\n  const block = new Commands.CommandBlock(\n    [],\n    [new Commands.SysCall(readFunction)]\n  );\n  const func = new Commands.Function(\n    \"$read\",\n    Types.VOID,\n    [new Commands.FormalParameter(Types.ALL, \"p1\", true)],\n    block\n  );\n  return func;\n}\n","import * as Commands from \"./../../ast/commands\";\nimport { Types } from \"./../../typeSystem/types\";\nimport * as Parsers from \"./../../typeSystem/parsers\";\nimport { IVProgParser } from \"../../ast/ivprogParser\";\nimport { RealLiteral, IntLiteral, BoolLiteral } from \"../../ast/expressions\";\nimport { Modes } from \"../modes\";\nimport { MultiType } from \"../../typeSystem/multiType\";\nimport { ProcessorErrorFactory } from \"../error/processorErrorFactory\";\nimport { StoreValue } from \"../store/value/store_value\";\n\n/**\n *\n * is_real\n * is_int\n * is_bool\n * cast_real\n * cast_int\n * cast_bool\n * cast_string\n * cast_char\n */\n\nexport function createIsRealFun () {\n  const isRealFun = async (sto, _) => {\n    const str = sto.applyStore(\"str\");\n    const parser = IVProgParser.createParser(str.get());\n    let result = false;\n    try {\n      const val = parser.parseTerm();\n      if (val instanceof RealLiteral) {\n        result = true;\n      }\n    } catch (error) {\n      // ignore\n    }\n    const temp = new StoreValue(Types.BOOLEAN, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n\n  const block = new Commands.CommandBlock(\n    [],\n    [new Commands.SysCall(isRealFun)]\n  );\n  const func = new Commands.Function(\n    \"$isReal\",\n    Types.BOOLEAN,\n    [new Commands.FormalParameter(Types.STRING, \"str\", false)],\n    block\n  );\n  return func;\n}\n\nexport function createIsIntFun () {\n  const isIntFun = async (sto, _) => {\n    const str = sto.applyStore(\"str\");\n    const parser = IVProgParser.createParser(str.get());\n    let result = false;\n    try {\n      const val = parser.parseTerm();\n      if (val instanceof IntLiteral) {\n        result = true;\n      }\n    } catch {\n      // ignore\n    }\n    const temp = new StoreValue(Types.BOOLEAN, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(isIntFun)]);\n  const func = new Commands.Function(\n    \"$isInt\",\n    Types.BOOLEAN,\n    [new Commands.FormalParameter(Types.STRING, \"str\", false)],\n    block\n  );\n  return func;\n}\n\nexport function createIsBoolFun () {\n  const isBoolFun = (sto, _) => {\n    const str = sto.applyStore(\"str\");\n    const parser = IVProgParser.createParser(str.get());\n    let result = false;\n    try {\n      const val = parser.parseTerm();\n      if (val instanceof BoolLiteral) {\n        result = true;\n      }\n    } catch (error) {\n      // ignore\n    }\n    const temp = new StoreValue(Types.BOOLEAN, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n\n  const block = new Commands.CommandBlock(\n    [],\n    [new Commands.SysCall(isBoolFun)]\n  );\n  const func = new Commands.Function(\n    \"$isBool\",\n    Types.BOOLEAN,\n    [new Commands.FormalParameter(Types.STRING, \"str\", false)],\n    block\n  );\n  return func;\n}\n\nexport function createCastRealFun () {\n  const castRealFun = async (sto, _) => {\n    const val = sto.applyStore(\"val\");\n    let value = val.get();\n    switch (val.type.ord) {\n      case Types.INTEGER.ord: {\n        value = value.toNumber();\n        const temp = new StoreValue(Types.REAL, Parsers.toReal(value));\n        sto.insertStore(\"$\", temp);\n        sto.mode = Modes.RETURN;\n        return sto;\n      }\n      case Types.STRING.ord: {\n        const parser = IVProgParser.createParser(value);\n        try {\n          const result = parser.parseTerm();\n          if (result instanceof RealLiteral) {\n            const temp = new StoreValue(\n              Types.REAL,\n              Parsers.toReal(result.value)\n            );\n            sto.insertStore(\"$\", temp);\n            sto.mode = Modes.RETURN;\n            return sto;\n          }\n        } catch (error) {\n          // ignore\n        }\n      }\n    }\n    const typeStringInfoArray = Types.REAL.stringInfo();\n    const typeInfo = typeStringInfoArray[0];\n    throw ProcessorErrorFactory.invalid_type_conversion(\n      value,\n      typeInfo.type,\n      typeInfo.dim\n    );\n  };\n\n  const block = new Commands.CommandBlock(\n    [],\n    [new Commands.SysCall(castRealFun)]\n  );\n  const func = new Commands.Function(\n    \"$castReal\",\n    Types.REAL,\n    [\n      new Commands.FormalParameter(\n        new MultiType([Types.INTEGER, Types.STRING]),\n        \"val\",\n        false\n      ),\n    ],\n    block\n  );\n  return func;\n}\n\nexport function createCastIntFun () {\n  const castIntFun = async (sto, _) => {\n    const val = sto.applyStore(\"val\");\n    let value = val.get();\n    switch (val.type.ord) {\n      case Types.REAL.ord: {\n        value = value.toNumber();\n        const temp = new StoreValue(\n          Types.INTEGER,\n          Parsers.toInt(Math.floor(value))\n        );\n        sto.insertStore(\"$\", temp);\n        sto.mode = Modes.RETURN;\n        return sto;\n      }\n      case Types.CHAR.ord: {\n        const temp = new StoreValue(\n          Types.INTEGER,\n          Parsers.toInt(value.charCodeAt(0))\n        );\n        sto.insertStore(\"$\", temp);\n        sto.mode = Modes.RETURN;\n        return sto;\n      }\n      case Types.STRING.ord: {\n        const parser = IVProgParser.createParser(value);\n        try {\n          const result = parser.parseTerm();\n          if (result instanceof IntLiteral) {\n            const temp = new StoreValue(\n              Types.INTEGER,\n              Parsers.toInt(result.value)\n            );\n            sto.insertStore(\"$\", temp);\n            sto.mode = Modes.RETURN;\n            return sto;\n          }\n        } catch (error) {\n          // ignore\n        }\n      }\n    }\n    const typeStringInfoArray = Types.INTEGER.stringInfo();\n    const typeInfo = typeStringInfoArray[0];\n    throw ProcessorErrorFactory.invalid_type_conversion(\n      value,\n      typeInfo.type,\n      typeInfo.dim\n    );\n  };\n\n  const block = new Commands.CommandBlock(\n    [],\n    [new Commands.SysCall(castIntFun)]\n  );\n  const func = new Commands.Function(\n    \"$castInt\",\n    Types.INTEGER,\n    [\n      new Commands.FormalParameter(\n        new MultiType([Types.REAL, Types.STRING, Types.CHAR]),\n        \"val\",\n        false\n      ),\n    ],\n    block\n  );\n  return func;\n}\n\nexport function createCastBoolFun () {\n  const castBoolFun = async (sto, _) => {\n    const str = sto.applyStore(\"str\");\n    const value = str.get();\n    const parser = IVProgParser.createParser(value);\n    try {\n      const val = parser.parseTerm();\n      if (val instanceof BoolLiteral) {\n        const temp = new StoreValue(Types.BOOLEAN, val.value);\n        sto.insertStore(\"$\", temp);\n        sto.mode = Modes.RETURN;\n        return sto;\n      }\n    } catch (error) {\n      // ignore\n    }\n    const typeStringInfoArray = Types.BOOLEAN.stringInfo();\n    const typeInfo = typeStringInfoArray[0];\n    throw ProcessorErrorFactory.invalid_type_conversion(\n      value,\n      typeInfo.type,\n      typeInfo.dim\n    );\n  };\n\n  const block = new Commands.CommandBlock(\n    [],\n    [new Commands.SysCall(castBoolFun)]\n  );\n  const func = new Commands.Function(\n    \"$castBool\",\n    Types.BOOLEAN,\n    [new Commands.FormalParameter(Types.STRING, \"str\", false)],\n    block\n  );\n  return func;\n}\n\nexport function createCastStringFun () {\n  const castStringFun = async function (store, _) {\n    const val = store.applyStore(\"str\");\n    const result = Parsers.convertToString(val.get(), val.type);\n    const temp = new StoreValue(Types.STRING, result);\n    store.insertStore(\"$\", temp);\n    store.mode = Modes.RETURN;\n    return store;\n  };\n  const block = new Commands.CommandBlock(\n    [],\n    [new Commands.SysCall(castStringFun)]\n  );\n  const func = new Commands.Function(\n    \"$castString\",\n    Types.STRING,\n    [new Commands.FormalParameter(Types.ALL, \"str\", false)],\n    block\n  );\n  return func;\n}\n\nexport function createCastCharFun () {\n  const castCharFun = (store, _) => {\n    const valSV = store.applyStore(\"charCode\");\n    // Force the int value to the range [0, 255]\n    const value = valSV.get().toNumber() & 0xff;\n    const result = String.fromCharCode(value);\n    const temp = new StoreValue(Types.CHAR, result);\n    store.insertStore(\"$\", temp);\n    store.mode = Modes.RETURN;\n    return store;\n  };\n  const block = new Commands.CommandBlock(\n    [],\n    [new Commands.SysCall(castCharFun)]\n  );\n  const func = new Commands.Function(\n    \"$castChar\",\n    Types.CHAR,\n    [new Commands.FormalParameter(Types.INTEGER, \"charCode\", false)],\n    block\n  );\n  return func;\n}\n\n","import * as Commands from './../../ast/commands';\nimport { Types } from './../../typeSystem/types';\nimport * as Parsers from \"./../../typeSystem/parsers\";\nimport { Decimal } from 'decimal.js';\nimport { MultiType } from '../../typeSystem/multiType';\nimport { ArrayType } from '../../typeSystem/array_type';\nimport { Modes } from '../modes';\nimport { StoreValue } from '../store/value/store_value';\nimport { ProcessorErrorFactory } from '../error/processorErrorFactory';\n\n/**\n * sin\n * cos\n * tan\n * sqrt\n * pow\n * log\n * abs\n * negate\n * invert\n * max\n * min\n */\n\nfunction convertToRadians(degrees) {\n  return degrees.times(Decimal.acos(-1)).div(180);\n}\n\nexport function createSinFun () {\n   const sinFun = async (sto, _) => {\n     const x = sto.applyStore('x');\n     const angle = x.get().mod(360);\n     let result = null;\n     if(angle.eq(90)) {\n       result = new Decimal(1);\n     } else if (angle.eq(180)) {\n      result = new Decimal(0);\n     } else if (angle.eq(270)) {\n       result = new Decimal(-1);\n     } else {\n       result = Decimal.sin(convertToRadians(angle));\n     }\n     const temp = new StoreValue(Types.REAL, result);\n     sto.insertStore(\"$\", temp);\n     sto.mode = Modes.RETURN;\n     return sto;\n   };\n\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(sinFun)]);\n  const func = new Commands.Function(\n    \"$sin\",\n    Types.REAL,\n    [\n      new Commands.FormalParameter(\n        new MultiType([Types.INTEGER, Types.REAL]),\n        \"x\",\n        false\n      )\n    ],\n    block\n  );\n  return func;\n}\n\nexport function createCosFun () {\n  const cosFun = async (sto, _) => {\n    const x = sto.applyStore('x');\n    const angle = x.get().mod(360);\n    let result = null;\n    if (angle.eq(90)) {\n      result = new Decimal(0);\n    } else if (angle.eq(180)) {\n      result = new Decimal(-1);\n    } else if (angle.eq(270)) {\n      result = new Decimal(0);\n    }\n    result = Decimal.cos(convertToRadians(angle));\n    const temp = new StoreValue(Types.REAL, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(cosFun)]);\n  const func = new Commands.Function(\n    \"$cos\",\n    Types.REAL,\n    [\n      new Commands.FormalParameter(\n        new MultiType([Types.INTEGER, Types.REAL]),\n        \"x\",\n        false\n      )\n    ],\n    block\n  );\n  return func;\n}\n\nexport function createTanFun () {\n  const tanFun = async function (sto, _) {\n    const x = sto.applyStore('x');\n    const angle = x.get().mod(360);\n    if(angle.eq(90) || angle.eq(270)) {\n      throw ProcessorErrorFactory.undefined_tanget_value(x.get().toNumber(),\n        this.function_call_stack.pop());\n    }\n    const result = Decimal.tan(convertToRadians(angle));\n    const temp = new StoreValue(Types.REAL, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(tanFun)]);\n  const func = new Commands.Function(\n    \"$tan\",\n    Types.REAL,\n    [\n      new Commands.FormalParameter(\n        new MultiType([Types.INTEGER, Types.REAL]),\n        \"x\",\n        false\n      )\n    ],\n    block\n  );\n  return func;\n}\n\nexport function createSqrtFun () {\n  const sqrtFun = async function (sto, _) {\n    const x = sto.applyStore('x');\n    if(x.get().isNeg()) {\n      return Promise.reject(ProcessorErrorFactory.negative_sqrt_value(this.function_call_stack.pop()));\n    }\n    const result = x.get().sqrt();\n    const temp = new StoreValue(Types.REAL, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(sqrtFun)]);\n  const func = new Commands.Function(\n    \"$sqrt\",\n    Types.REAL,\n    [\n      new Commands.FormalParameter(\n        new MultiType([Types.INTEGER, Types.REAL]),\n        \"x\",\n        false\n      )\n    ],\n    block\n  );\n  return func;\n}\n\nexport function createPowFun () {\n  const powFun = async (sto, _) => {\n    const x = sto.applyStore('x');\n    const y = sto.applyStore('y');\n    const result = x.get().pow(y.get());\n    const temp = new StoreValue(Types.REAL, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(powFun)]);\n  const func = new Commands.Function(\n    \"$pow\",\n    Types.REAL,\n    [\n      new Commands.FormalParameter(\n        new MultiType([Types.INTEGER, Types.REAL]),\n        \"x\",\n        false\n      ),\n      new Commands.FormalParameter(\n        new MultiType([Types.INTEGER, Types.REAL]),\n        \"y\",\n        false\n      )\n    ],\n    block\n  );\n  return func;\n}\n\nexport function createLogFun () {\n  const logFun = async function (sto, _) {\n    const x = sto.applyStore('x');\n    if (x.get().isNegative()) {\n      return Promise.reject(\n        ProcessorErrorFactory.negative_log_value(this.function_call_stack.pop())\n      );\n    }\n    const result = Decimal.log10(x.get());\n    const temp = new StoreValue(Types.REAL, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(logFun)]);\n  const func = new Commands.Function(\n    \"$log\",\n    Types.REAL,\n    [\n      new Commands.FormalParameter(\n        new MultiType([Types.INTEGER, Types.REAL]),\n        \"x\",\n        false\n      )\n    ],\n    block\n  );\n  return func;\n}\n\nexport function createAbsFun () {\n  const absFun = async (sto, _) => {\n    const x = sto.applyStore('x');\n    const result = x.get().abs();\n    const temp = new StoreValue(x.type, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(absFun)]);\n  const func = new Commands.Function(\n    \"$abs\",\n    new MultiType([Types.INTEGER, Types.REAL]),\n    [\n      new Commands.FormalParameter(\n        new MultiType([Types.INTEGER, Types.REAL]),\n        \"x\",\n        false\n      )\n    ],\n    block\n  );\n  return func;\n}\n\nexport function createNegateFun () {\n  const negateFun = async (sto, _) => {\n    const x = sto.applyStore('x');\n    const result = x.get().negated();\n    const temp = new StoreValue(x.type, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n\n  const block = new Commands.CommandBlock(\n    [],\n    [new Commands.SysCall(negateFun)]\n  );\n  const func = new Commands.Function(\n    \"$negate\",\n    new MultiType([Types.INTEGER, Types.REAL]),\n    [\n      new Commands.FormalParameter(\n        new MultiType([Types.INTEGER, Types.REAL]),\n        \"x\",\n        false\n      )\n    ],\n    block\n  );\n  return func;\n}\n\nexport function createInvertFun() {\n  const invertFun = async (sto, _) => {\n    const x = sto.applyStore('x');\n    const result = Parsers.toReal(1).dividedBy(x.get());\n    const temp = new StoreValue(Types.REAL, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n\n  const block = new Commands.CommandBlock(\n    [],\n    [new Commands.SysCall(invertFun)]\n  );\n  const func = new Commands.Function(\n    \"$invert\",\n    Types.REAL,\n    [\n      new Commands.FormalParameter(\n        new MultiType([Types.INTEGER, Types.REAL]),\n        \"x\",\n        false\n      )\n    ],\n    block\n  );\n  return func;\n}\n\nexport function createMaxFun () {\n  const maxFun = async (sto, _) => {\n    const x = sto.applyStore('x');\n    const numbers = x.get().map(sto_addrs => sto_addrs.get());\n    const result = Decimal.max(...numbers);\n    const temp = new StoreValue(x.type.innerType, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n  const paramType = new ArrayType(\n    new MultiType([Types.INTEGER, Types.REAL]),\n    1\n  );\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(maxFun)]);\n  const func = new Commands.Function(\n    \"$max\",\n    new MultiType([Types.INTEGER, Types.REAL]),\n    [new Commands.FormalParameter(paramType, \"x\", false)],\n    block\n  );\n  return func;\n}\n\nexport function createMinFun () {\n  const minFun = async (sto, _) => {\n    const x = sto.applyStore('x');\n    const numbers = x.get().map(sto_addrs => sto_addrs.get());\n    const result = Decimal.min(...numbers);\n    const temp = new StoreValue(x.type.innerType, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n  const paramType = new ArrayType(\n    new MultiType([Types.INTEGER, Types.REAL]),\n    1\n  );\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(minFun)]);\n  const func = new Commands.Function(\n    \"$min\",\n    new MultiType([Types.INTEGER, Types.REAL]),\n    [new Commands.FormalParameter(paramType, \"x\", false)],\n    block\n  );\n  return func;\n}\n\nlet seed = Date.now();\nexport function createRandFun() {\n  const a = 16807;\n  const m = 2147483647;\n  const c = 12345;\n  const randFun = async (sto, _) => {\n    seed = (a * seed + c) % m;\n    const val = seed / (m - 1);\n    const temp = new StoreValue(Types.REAL, new Decimal(val));\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(randFun)]);\n  const func = new Commands.Function(\"$rand\", Types.REAL, [], block);\n  return func;\n}\n\nexport function createSetSeedFun() {\n  const setSeedFun = async (sto, _) => {\n    const value = sto.applyStore(\"x\");\n    seed = value.get().toNumber();\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n  const block = new Commands.CommandBlock(\n    [],\n    [new Commands.SysCall(setSeedFun)]\n  );\n  const func = new Commands.Function(\n    \"$setSeed\",\n    Types.VOID,\n    [new Commands.FormalParameter(Types.INTEGER, \"x\", false)],\n    block\n  );\n  return func;\n}\n","import * as Commands from './../../ast/commands';\nimport { Types } from './../../typeSystem/types';\nimport { toInt } from \"./../../typeSystem/parsers\";\nimport { Modes } from '../modes';\nimport { StoreValue } from '../store/value/store_value';\nimport { ProcessorErrorFactory } from '../error/processorErrorFactory';\n\n/*\n*  substring\n*  length\n*  uppercase\n*  lowercase\n*  charAt\n**/\n\nexport function createSubstringFun () {\n  const substringFun = async (sto, _) => {\n    const str = sto.applyStore(\"str\");\n    const start = sto.applyStore(\"start\");\n    const end = sto.applyStore(\"end\");\n    const result = str.get().substring(start.get(), end.get());\n    const temp = new StoreValue(Types.STRING, result);\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  };\n\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(substringFun)]);\n  const func = new Commands.Function('$substring', Types.STRING,\n    [new Commands.FormalParameter(Types.STRING, 'str', false),\n    new Commands.FormalParameter(Types.INTEGER, 'start', false),\n    new Commands.FormalParameter(Types.INTEGER, 'end', false)],\n    block);\n  return func;\n}\n\nexport function createLengthFun () {\n  const lengthFun = async (sto, _) => {\n    const str = sto.applyStore(\"str\");\n    const temp = new StoreValue(Types.INTEGER, toInt(str.value.length));\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  }\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(lengthFun)]);\n  const func = new Commands.Function('$length', Types.INTEGER,\n    [new Commands.FormalParameter(Types.STRING, 'str', false)],\n    block);\n  return func;\n}\n\nexport function createUppercaseFun () {\n  const uppercaseFun = async (sto, _) => {\n    const str = sto.applyStore(\"str\");\n    const temp = new StoreValue(Types.STRING, str.get().toUpperCase());\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  }\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(uppercaseFun)]);\n  const func = new Commands.Function('$uppercase', Types.STRING,\n    [new Commands.FormalParameter(Types.STRING, 'str', false)],\n    block);\n  return func;\n}\n\nexport function createLowercaseFun () {\n  const lowercaseFun = async (sto, _) => {\n    const str = sto.applyStore(\"str\");\n    const temp = new StoreValue(Types.STRING, str.get().toLowerCase());\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  }\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(lowercaseFun)]);\n  const func = new Commands.Function('$lowercase', Types.STRING,\n    [new Commands.FormalParameter(Types.STRING, 'str', false)],\n    block);\n  return func;\n}\n\nexport function createrCharAtFun () {\n  const charAtFun = async function (sto, _) {\n    const str = sto.applyStore(\"str\");\n    const idx = sto.applyStore(\"index\");\n    if (idx.get().toNumber() < 0 || idx.get().toNumber() >= str.get().length) {\n      throw ProcessorErrorFactory.invalid_string_index(idx.get().toNumber(), str.get(),\n        this.function_call_stack.pop());\n    }\n    const temp = new StoreValue(Types.CHAR, str.get().charAt(idx.get().toNumber()));\n    sto.insertStore(\"$\", temp);\n    sto.mode = Modes.RETURN;\n    return sto;\n  }\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(charAtFun)]);\n  const func = new Commands.Function('$charAt', Types.CHAR,\n    [new Commands.FormalParameter(Types.STRING, 'str', false),\n    new Commands.FormalParameter(Types.INTEGER, 'index', false)],\n    block);\n  return func;\n}\n","import { ProcessorErrorFactory } from \"./../error/processorErrorFactory\";\nimport { LanguageDefinedFunction } from \"./../definedFunctions\";\nimport {\n  ArrayDeclaration,\n  While,\n  For,\n  Switch,\n  Assign,\n  Break,\n  IfThenElse,\n  Return,\n  ArrayIndexAssign,\n} from \"../../ast/commands\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { Expression } from \"./../../ast/expressions/expression\";\nimport {\n  InfixApp,\n  UnaryApp,\n  FunctionCall,\n  IntLiteral,\n  RealLiteral,\n  StringLiteral,\n  BoolLiteral,\n  VariableLiteral,\n  ArrayAccess,\n  CharLiteral,\n} from \"../../ast/expressions\";\nimport { Literal } from \"../../ast/expressions/literal\";\nimport {\n  resultTypeAfterInfixOp,\n  resultTypeAfterUnaryOp,\n} from \"../compatibilityTable\";\nimport { Types } from \"../../typeSystem/types\";\nimport { ArrayType } from \"../../typeSystem/array_type\";\nimport { MultiType } from \"../../typeSystem/multiType\";\nimport { Config } from \"../../util/config\";\nimport { Store } from \"../store/store\";\nimport { IVProgParser } from \"../../ast/ivprogParser\";\n\nexport class SemanticAnalyser {\n  static analyseFromSource (stringCode) {\n    const parser = IVProgParser.createParser(stringCode);\n    const semantic = new SemanticAnalyser(parser.parseTree());\n    return semantic.analyseTree();\n  }\n\n  constructor (ast) {\n    this.ast = ast;\n    this.symbolMap = null;\n    this.currentFunction = null;\n  }\n\n  pushMap () {\n    if (this.symbolMap === null) {\n      this.symbolMap = { map: {}, next: null };\n    } else {\n      const n = { map: {}, next: this.symbolMap };\n      this.symbolMap = n;\n    }\n  }\n\n  popMap () {\n    if (this.symbolMap !== null) {\n      this.symbolMap = this.symbolMap.next;\n    }\n  }\n\n  insertSymbol (id, typeInfo) {\n    this.symbolMap.map[id] = typeInfo;\n  }\n\n  findSymbol (id, symbol_map) {\n    if (!symbol_map.map[id]) {\n      if (symbol_map.next) {\n        return this.findSymbol(id, symbol_map.next);\n      }\n      return null;\n    } else {\n      return symbol_map.map[id];\n    }\n  }\n\n  getMainFunction () {\n    return this.ast.functions.find((v) => v.isMain);\n  }\n\n  findFunction (name) {\n    if (name.match(/^\\$.+$/)) {\n      const fun = LanguageDefinedFunction.getFunction(name);\n      if (!fun) {\n        throw ProcessorErrorFactory.not_implemented(name);\n      }\n      return fun;\n    } else {\n      const val = this.ast.functions.find((v) => v.name === name);\n      if (!val) {\n        return null;\n      }\n      return val;\n    }\n  }\n\n  analyseTree () {\n    const globalVars = this.ast.global;\n    this.pushMap();\n    this.assertDeclarations(globalVars);\n    const functions = this.ast.functions;\n    const mainFunc = functions.filter((f) => f.name === null);\n    if (mainFunc.length <= 0) {\n      throw ProcessorErrorFactory.main_missing();\n    }\n    for (let i = 0; i < functions.length; i++) {\n      const fun = functions[i];\n      this.assertFunction(fun);\n    }\n    return this.ast;\n  }\n\n  assertDeclarations (list) {\n    for (let i = 0; i < list.length; i++) {\n      this.assertDeclaration(list[i]);\n    }\n  }\n\n  assertDeclaration (declaration) {\n    if (declaration instanceof ArrayDeclaration) {\n      this.assertArrayDeclaration(declaration);\n      this.insertSymbol(declaration.id, {\n        id: declaration.id,\n        lines: declaration.lines,\n        columns: declaration.columns,\n        type: declaration.type,\n        isConst: declaration.isConst,\n      });\n    } else {\n      if (declaration.initial === null) {\n        this.insertSymbol(declaration.id, {\n          id: declaration.id,\n          type: declaration.type,\n          isConst: declaration.isConst,\n        });\n        return;\n      }\n      const resultType = this.evaluateExpressionType(declaration.initial);\n      if (resultType instanceof MultiType) {\n        if (!resultType.isCompatible(declaration.type)) {\n          const stringInfo = declaration.type.stringInfo();\n          const info = stringInfo[0];\n          const result_string_info = resultType.stringInfo();\n          const result_info = result_string_info[0];\n          const exp = declaration.initial;\n          throw ProcessorErrorFactory.incompatible_types_full(\n            info.type,\n            info.dim,\n            result_info.type,\n            result_info.dim,\n            exp.toString(),\n            declaration.sourceInfo\n          );\n        }\n        this.insertSymbol(declaration.id, {\n          id: declaration.id,\n          type: declaration.type,\n          isConst: declaration.isConst,\n        });\n      } else if (\n        (!declaration.type.isCompatible(resultType) &&\n          !Config.enable_type_casting) ||\n        (!declaration.type.isCompatible(resultType) &&\n          Config.enable_type_casting &&\n          !Store.canImplicitTypeCast(declaration.type, resultType))\n      ) {\n        const stringInfo = declaration.type.stringInfo();\n        const info = stringInfo[0];\n        const result_string_info = resultType.stringInfo();\n        const result_info = result_string_info[0];\n        const exp = declaration.initial;\n        throw ProcessorErrorFactory.incompatible_types_full(\n          info.type,\n          info.dim,\n          result_info.type,\n          result_info.dim,\n          exp.toString(),\n          declaration.sourceInfo\n        );\n      } else {\n        this.insertSymbol(declaration.id, {\n          id: declaration.id,\n          type: declaration.type,\n          isConst: declaration.isConst,\n        });\n      }\n    }\n  }\n\n  assertArrayDeclaration (declaration) {\n    if (declaration.initial === null) {\n      const lineType = this.evaluateExpressionType(declaration.lines);\n      if (!lineType.isCompatible(Types.INTEGER)) {\n        throw ProcessorErrorFactory.array_dimension_not_int_full(\n          declaration.sourceInfo\n        );\n      }\n      if (declaration.columns !== null) {\n        const columnType = this.evaluateExpressionType(declaration.columns);\n        if (!columnType.isCompatible(Types.INTEGER)) {\n          throw ProcessorErrorFactory.array_dimension_not_int_full(\n            declaration.sourceInfo\n          );\n        }\n      }\n    } else {\n      this.evaluateArrayLiteral(declaration);\n    }\n    this.insertSymbol(declaration.id, {\n      id: declaration.id,\n      lines: declaration.lines,\n      columns: declaration.columns,\n      type: declaration.type,\n    });\n    return;\n  }\n\n  evaluateExpressionType (expression) {\n    // TODO: Throw operator error in case type == UNDEFINED\n    if (expression instanceof UnaryApp) {\n      const op = expression.op;\n      const resultType = this.evaluateExpressionType(expression.left);\n      const finalResult = resultTypeAfterUnaryOp(op, resultType);\n      if (Types.UNDEFINED.isCompatible(finalResult)) {\n        const stringInfo = resultType.stringInfo();\n        const info = stringInfo[0];\n        const expString = expression.toString();\n        throw ProcessorErrorFactory.invalid_unary_op_full(\n          expString,\n          op,\n          info.type,\n          info.dim,\n          expression.sourceInfo\n        );\n      }\n      return finalResult;\n    } else if (expression instanceof InfixApp) {\n      const op = expression.op;\n      const resultTypeLeft = this.evaluateExpressionType(expression.left);\n      const resultTypeRight = this.evaluateExpressionType(expression.right);\n      const finalResult = resultTypeAfterInfixOp(\n        op,\n        resultTypeLeft,\n        resultTypeRight\n      );\n      if (Types.UNDEFINED.isCompatible(finalResult)) {\n        const stringInfoLeft = resultTypeLeft.stringInfo();\n        const infoLeft = stringInfoLeft[0];\n        const stringInfoRight = resultTypeRight.stringInfo();\n        const infoRight = stringInfoRight[0];\n        const expString = expression.toString();\n        throw ProcessorErrorFactory.invalid_infix_op_full(\n          expString,\n          op,\n          infoLeft.type,\n          infoLeft.dim,\n          infoRight.type,\n          infoRight.dim,\n          expression.sourceInfo\n        );\n      }\n      return finalResult;\n    } else if (expression instanceof Literal) {\n      return this.evaluateLiteralType(expression);\n    } else if (expression instanceof FunctionCall) {\n      if (expression.isMainCall) {\n        throw ProcessorErrorFactory.void_in_expression_full(\n          LanguageDefinedFunction.getMainFunctionName(),\n          expression.sourceInfo\n        );\n      }\n      const fun = this.findFunction(expression.id);\n      if (fun === null) {\n        throw ProcessorErrorFactory.function_missing_full(\n          expression.id,\n          expression.sourceInfo\n        );\n      }\n      if (fun.returnType.isCompatible(Types.VOID)) {\n        throw ProcessorErrorFactory.void_in_expression_full(\n          expression.id,\n          expression.sourceInfo\n        );\n      }\n      this.assertParameters(fun, expression.actualParameters);\n      return fun.returnType;\n    } else if (expression instanceof ArrayAccess) {\n      const arrayTypeInfo = this.findSymbol(expression.id, this.symbolMap);\n      if (arrayTypeInfo === null) {\n        throw ProcessorErrorFactory.symbol_not_found_full(\n          expression.id,\n          expression.sourceInfo\n        );\n      }\n      if (!(arrayTypeInfo.type instanceof ArrayType)) {\n        throw ProcessorErrorFactory.invalid_array_access_full(\n          expression.id,\n          expression.sourceInfo\n        );\n      }\n      const lineType = this.evaluateExpressionType(expression.line);\n      if (!lineType.isCompatible(Types.INTEGER)) {\n        throw ProcessorErrorFactory.array_dimension_not_int_full(\n          expression.sourceInfo\n        );\n      }\n      if (expression.column !== null) {\n        if (arrayTypeInfo.columns === null) {\n          throw ProcessorErrorFactory.invalid_matrix_access_full(\n            expression.id,\n            expression.sourceInfo\n          );\n        }\n        const columnType = this.evaluateExpressionType(expression.column);\n        if (!columnType.isCompatible(Types.INTEGER)) {\n          throw ProcessorErrorFactory.array_dimension_not_int_full(\n            expression.sourceInfo\n          );\n        }\n      }\n      const arrType = arrayTypeInfo.type;\n      if (expression.column !== null) {\n        // indexing matrix\n        return arrType.innerType;\n      } else {\n        if (arrayTypeInfo.columns === null) {\n          return arrType.innerType;\n        }\n        return new ArrayType(arrType.innerType, 1);\n      }\n    }\n  }\n\n  evaluateLiteralType (literal) {\n    if (literal instanceof IntLiteral) {\n      return literal.type;\n    } else if (literal instanceof RealLiteral) {\n      return literal.type;\n    } else if (literal instanceof StringLiteral) {\n      return literal.type;\n    } else if (literal instanceof BoolLiteral) {\n      return literal.type;\n    } else if (literal instanceof CharLiteral) {\n      return literal.type;\n    } else if (literal instanceof VariableLiteral) {\n      const typeInfo = this.findSymbol(literal.id, this.symbolMap);\n      if (typeInfo === null) {\n        throw ProcessorErrorFactory.symbol_not_found_full(\n          literal.id,\n          literal.sourceInfo\n        );\n      }\n      if (typeInfo.type instanceof ArrayType) {\n        return typeInfo.type;\n      }\n      return typeInfo.type;\n    } else {\n      // console.warn(\"Evaluating type only for an array literal...\");\n      let last = null;\n      if (literal.value.length === 1) {\n        last = this.evaluateExpressionType(literal.value[0]);\n      } else {\n        for (let i = 0; i < literal.value.length; i++) {\n          const e = this.evaluateExpressionType(literal.value[i]);\n          if (last === null) {\n            last = e;\n          } else if (!last.isCompatible(e)) {\n            const strInfo = last.stringInfo();\n            const info = strInfo[0];\n            const strExp = literal.toString();\n            throw ProcessorErrorFactory.incompatible_types_array_full(\n              strExp,\n              info.type,\n              info.dim,\n              literal.sourceInfo\n            );\n          }\n        }\n      }\n      if (last instanceof ArrayType) {\n        return new ArrayType(last.innerType, last.dimensions + 1);\n      }\n      return new ArrayType(last, 1);\n    }\n  }\n\n  evaluateArrayLiteral (arrayDeclaration) {\n    const type = arrayDeclaration.type;\n    const literal = arrayDeclaration.initial;\n    // console.log(arrayDeclaration);\n    if (arrayDeclaration.isVector) {\n      this.evaluateVectorLiteralType(literal, type);\n    } else {\n      // TODO matrix type check\n      for (let i = 0; i < literal.lines; ++i) {\n        const line_literal = literal.value[i];\n        this.evaluateVectorLiteralType(\n          line_literal,\n          new ArrayType(type.innerType, 1)\n        );\n      }\n    }\n    return true;\n  }\n\n  assertFunction (fun) {\n    this.pushMap();\n    this.currentFunction = fun;\n    fun.formalParameters.forEach((formalParam) => {\n      if (formalParam.type instanceof ArrayType) {\n        if (formalParam.type.dimensions > 1) {\n          this.insertSymbol(formalParam.id, {\n            id: formalParam.id,\n            lines: -1,\n            columns: -1,\n            type: formalParam.type,\n          });\n        } else {\n          this.insertSymbol(formalParam.id, {\n            id: formalParam.id,\n            lines: -1,\n            columns: null,\n            type: formalParam.type,\n          });\n        }\n      } else {\n        this.insertSymbol(formalParam.id, {\n          id: formalParam.id,\n          type: formalParam.type,\n        });\n      }\n    });\n    this.assertDeclarations(fun.variablesDeclarations);\n    const optional = fun.returnType.isCompatible(Types.VOID);\n    const valid = this.assertReturn(fun, optional);\n    if (!valid) {\n      throw ProcessorErrorFactory.function_no_return(fun.name);\n    }\n    this.popMap();\n  }\n\n  assertReturn (fun, optional) {\n    return fun.commands.reduce(\n      (last, next) => this.checkCommand(fun.returnType, next, optional) || last,\n      optional\n    );\n  }\n\n  checkCommand (type, cmd, optional) {\n    if (cmd instanceof While) {\n      const resultType = this.evaluateExpressionType(cmd.expression);\n      if (!resultType.isCompatible(Types.BOOLEAN)) {\n        throw ProcessorErrorFactory.loop_condition_type_full(\n          cmd.expression.toString(),\n          cmd.sourceInfo\n        );\n      }\n      this.checkCommands(type, cmd.commands, optional);\n      return false;\n    } else if (cmd instanceof For) {\n      const var_type = this.evaluateExpressionType(cmd.for_id);\n      if (!var_type.isCompatible(Types.INTEGER)) {\n        throw ProcessorErrorFactory.invalid_for_variable(\n          cmd.for_id,\n          cmd.sourceInfo\n        );\n      }\n      const from_type = this.evaluateExpressionType(cmd.for_from);\n      if (!from_type.isCompatible(Types.INTEGER)) {\n        throw ProcessorErrorFactory.invalid_for_from(\n          cmd.for_from,\n          cmd.sourceInfo\n        );\n      }\n      const to_type = this.evaluateExpressionType(cmd.for_to);\n      if (!to_type.isCompatible(Types.INTEGER)) {\n        throw ProcessorErrorFactory.invalid_for_to(cmd.for_to, cmd.sourceInfo);\n      }\n      if (cmd.for_pass != null) {\n        const pass_type = this.evaluateExpressionType(cmd.for_pass);\n        if (!pass_type.isCompatible(Types.INTEGER)) {\n          throw ProcessorErrorFactory.invalid_for_pass(\n            cmd.for_pass,\n            cmd.sourceInfo\n          );\n        }\n      }\n      this.checkCommands(type, cmd.commands, optional);\n      return false;\n    } else if (cmd instanceof Switch) {\n      const sType = this.evaluateExpressionType(cmd.expression);\n      let result = optional;\n      let hasDefault = false;\n      for (let i = 0; i < cmd.cases.length; i++) {\n        const aCase = cmd.cases[i];\n        if (aCase.expression !== null) {\n          const caseType = this.evaluateExpressionType(aCase.expression);\n          if (!sType.isCompatible(caseType)) {\n            const strInfo = sType.stringInfo();\n            const info = strInfo[0];\n            const strExp = aCase.expression.toString();\n            throw ProcessorErrorFactory.invalid_case_type_full(\n              strExp,\n              info.type,\n              info.dim,\n              aCase.sourceInfo\n            );\n          }\n        } else {\n          hasDefault = true;\n        }\n        result = result && this.checkCommands(type, aCase.commands, result);\n      }\n      return result && hasDefault;\n    } else if (cmd instanceof ArrayIndexAssign) {\n      // TODO - rework!!!!!\n      let used_dims = 0;\n      const typeInfo = this.findSymbol(cmd.id, this.symbolMap);\n      if (typeInfo === null) {\n        throw ProcessorErrorFactory.symbol_not_found_full(\n          cmd.id,\n          cmd.sourceInfo\n        );\n      }\n      if (typeInfo.isConst) {\n        throw ProcessorErrorFactory.invalid_const_assignment_full(\n          cmd.id,\n          cmd.sourceInfo\n        );\n      }\n      if (!(typeInfo.type instanceof ArrayType)) {\n        throw ProcessorErrorFactory.invalid_array_access_full(\n          cmd.id,\n          cmd.sourceInfo\n        );\n      }\n      const exp = cmd.expression;\n      const lineExp = cmd.line;\n      const lineType = this.evaluateExpressionType(lineExp);\n      if (!lineType.isCompatible(Types.INTEGER)) {\n        throw ProcessorErrorFactory.array_dimension_not_int_full(\n          cmd.sourceInfo\n        );\n      }\n      used_dims += 1;\n      const columnExp = cmd.column;\n      if (typeInfo.columns === null && columnExp !== null) {\n        throw ProcessorErrorFactory.invalid_matrix_access_full(\n          cmd.id,\n          cmd.sourceInfo\n        );\n      } else if (columnExp !== null) {\n        const columnType = this.evaluateExpressionType(columnExp);\n        if (!columnType.isCompatible(Types.INTEGER)) {\n          throw ProcessorErrorFactory.array_dimension_not_int_full(\n            cmd.sourceInfo\n          );\n        }\n        used_dims += 1;\n      }\n      // exp a single value exp or an array access\n      const exp_type = this.evaluateExpressionType(exp);\n      const access_type = typeInfo.type;\n\n      let compatible = false;\n      let type = access_type;\n      if (exp_type instanceof MultiType) {\n        if (access_type.dimensions - used_dims == 0) {\n          type = access_type.innerType;\n        } else {\n          type = new ArrayType(\n            access_type.innerType,\n            Math.max(0, access_type.dimensions - used_dims)\n          );\n        }\n        compatible = exp_type.isCompatible(type);\n      } else {\n        compatible = access_type.canAccept(exp_type, used_dims);\n      }\n      if (!compatible) {\n        if (0 === access_type.dimensions - used_dims) {\n          type = access_type.innerType; // enable a valid attempt to cast real <--> integer\n        }\n        if (\n          !Config.enable_type_casting ||\n          !Store.canImplicitTypeCast(type, exp_type)\n        ) {\n          const access_type_string_info = access_type.stringInfo();\n          const access_type_info = access_type_string_info[0];\n          const exp_type_string_info = exp_type.stringInfo();\n          const exp_type_info = exp_type_string_info[0];\n          throw ProcessorErrorFactory.incompatible_types_full(\n            access_type_info.type,\n            access_type_info.dim - used_dims,\n            exp_type_info.type,\n            exp_type_info.dim,\n            exp.toString(),\n            cmd.sourceInfo\n          );\n        }\n      }\n      return optional;\n    } else if (cmd instanceof Assign) {\n      // TODO - rework since there is no literal array assignment\n      const typeInfo = this.findSymbol(cmd.id, this.symbolMap);\n      if (typeInfo === null) {\n        throw ProcessorErrorFactory.symbol_not_found_full(\n          cmd.id,\n          cmd.sourceInfo\n        );\n      }\n      if (typeInfo.isConst) {\n        throw ProcessorErrorFactory.invalid_const_assignment_full(\n          cmd.id,\n          cmd.sourceInfo\n        );\n      }\n      const exp = cmd.expression;\n      const exp_type = this.evaluateExpressionType(exp);\n      if (exp_type instanceof ArrayType) {\n        if (!(typeInfo.type instanceof ArrayType)) {\n          // TODO better error message\n          throw new Error(\"Cannot assign an array to a non-array variable \");\n        }\n        // Both are arrays...\n        // if both don't have same dimensions and type, cannot perform assignment\n        if (!exp_type.isCompatible(typeInfo.type)) {\n          if (\n            exp_type.dimensions === typeInfo.type.dimensions &&\n            !exp_type.innerType.isCompatible(typeInfo.type.innerType)\n          ) {\n            if (\n              !Config.enable_type_casting ||\n              !Store.canImplicitTypeCast(\n                typeInfo.type.innerType,\n                exp_type.innerType\n              )\n            ) {\n              const stringInfo = typeInfo.type.stringInfo();\n              const info = stringInfo[0];\n              const exp_type_string_info = exp_type.stringInfo();\n              const exp_type_info = exp_type_string_info[0];\n              throw ProcessorErrorFactory.incompatible_types_full(\n                info.type,\n                info.dim,\n                exp_type_info.type,\n                exp_type_info.dim,\n                exp.toString(),\n                cmd.sourceInfo\n              );\n            }\n          } else {\n            switch (exp_type.dimensions) {\n              case 1: {\n                throw ProcessorErrorFactory.vector_to_matrix_attr(\n                  cmd.id,\n                  exp.toString(),\n                  cmd.sourceInfo\n                );\n              }\n              case 2: {\n                throw ProcessorErrorFactory.matrix_to_vector_attr(\n                  cmd.id,\n                  exp.toString(),\n                  cmd.sourceInfo\n                );\n              }\n            }\n          }\n        }\n      } else if (!exp_type.isCompatible(typeInfo.type)) {\n        if (\n          !Config.enable_type_casting ||\n          !Store.canImplicitTypeCast(typeInfo.type, exp_type)\n        ) {\n          const stringInfo = typeInfo.type.stringInfo();\n          const info = stringInfo[0];\n          const exp_type_string_info = exp_type.stringInfo();\n          const exp_type_info = exp_type_string_info[0];\n          throw ProcessorErrorFactory.incompatible_types_full(\n            info.type,\n            info.dim,\n            exp_type_info.type,\n            exp_type_info.dim,\n            exp.toString(),\n            cmd.sourceInfo\n          );\n        }\n      }\n      return optional;\n    } else if (cmd instanceof Break) {\n      return optional;\n    } else if (cmd instanceof IfThenElse) {\n      const resultType = this.evaluateExpressionType(cmd.condition);\n      if (!resultType.isCompatible(Types.BOOLEAN)) {\n        throw ProcessorErrorFactory.if_condition_type_full(\n          cmd.condition.toString(),\n          cmd.sourceInfo\n        );\n      }\n      if (cmd.ifFalse instanceof IfThenElse) {\n        return (\n          this.checkCommands(type, cmd.ifTrue.commands, optional) &&\n          this.checkCommand(type, cmd.ifFalse, optional)\n        );\n      } else if (cmd.ifFalse != null) {\n        return (\n          this.checkCommands(type, cmd.ifTrue.commands, optional) &&\n          this.checkCommands(type, cmd.ifFalse.commands, optional)\n        );\n      } else {\n        return this.checkCommands(type, cmd.ifTrue.commands, optional);\n      }\n    } else if (cmd instanceof FunctionCall) {\n      let fun = null;\n      if (cmd.isMainCall) {\n        fun = this.getMainFunction();\n      } else {\n        fun = this.findFunction(cmd.id);\n      }\n      if (fun === null) {\n        throw ProcessorErrorFactory.function_missing_full(\n          cmd.id,\n          cmd.sourceInfo\n        );\n      }\n      this.assertParameters(fun, cmd.actualParameters);\n      return optional;\n    } else if (cmd instanceof Return) {\n      const funcName = this.currentFunction.isMain\n        ? LanguageDefinedFunction.getMainFunctionName()\n        : this.currentFunction.name;\n      if (cmd.expression === null && !type.isCompatible(Types.VOID)) {\n        const stringInfo = type.stringInfo();\n        const info = stringInfo[0];\n        throw ProcessorErrorFactory.invalid_void_return_full(\n          funcName,\n          info.type,\n          info.dim,\n          cmd.sourceInfo\n        );\n      } else if (cmd.expression !== null) {\n        const resultType = this.evaluateExpressionType(cmd.expression);\n        if (!type.isCompatible(resultType)) {\n          if (\n            !Config.enable_type_casting ||\n            !Store.canImplicitTypeCast(type, resultType)\n          ) {\n            const stringInfo = type.stringInfo();\n            const info = stringInfo[0];\n            throw ProcessorErrorFactory.invalid_return_type_full(\n              funcName,\n              info.type,\n              info.dim,\n              cmd.sourceInfo\n            );\n          }\n        }\n        return true;\n      } else {\n        return true;\n      }\n    }\n  }\n\n  checkCommands (type, cmds, optional) {\n    return cmds.reduce(\n      (last, next) => this.checkCommand(type, next, optional) || last,\n      optional\n    );\n  }\n\n  /**\n   *\n   * @param {import('./../../ast/commands/function').Function} fun\n   * @param {Expression[]} actualParametersList\n   */\n  assertParameters (fun, actualParametersList) {\n    const parameterList = fun.formalParameters;\n    if (\n      parameterList.length > actualParametersList.length ||\n      (parameterList.length !== actualParametersList.length &&\n        !fun.hasVariadic())\n    ) {\n      throw ProcessorErrorFactory.invalid_parameters_size_full(\n        fun.name,\n        actualParametersList.length,\n        fun.formalParameters.length,\n        null\n      );\n    }\n\n    for (\n      let i = 0, j = 0;\n      i < parameterList.length && j < actualParametersList.length;\n      i += 1, j += 1\n    ) {\n      const formalParam = parameterList[i];\n      if (formalParam.variadic && i + 1 !== parameterList.length) {\n        throw \"A function variadic parameter must be its last parameter!\";\n      }\n      if (formalParam.variadic) {\n        j = this.assertVariadicParameter(\n          fun,\n          formalParam,\n          j,\n          actualParametersList\n        );\n      } else {\n        const param = actualParametersList[j];\n        this.assertParameter(fun, formalParam, param);\n      }\n    }\n  }\n\n  evaluateVectorLiteralType (literal, type) {\n    // console.log(literal);\n    for (let i = 0; i < literal.value.length; i += 1) {\n      const exp = literal.value[i];\n      const expType = this.evaluateExpressionType(exp);\n      let compatible = false;\n      if (expType instanceof MultiType) {\n        compatible = expType.isCompatible(type.innerType);\n      } else {\n        compatible = type.canAccept(expType, 1);\n      }\n      if (!compatible) {\n        if (\n          !Config.enable_type_casting ||\n          !Store.canImplicitTypeCast(type.innerType, expType)\n        ) {\n          const stringInfo = type.stringInfo();\n          const info = stringInfo[0];\n          const result_string_info = expType.stringInfo();\n          const result_info = result_string_info[0];\n          throw ProcessorErrorFactory.incompatible_types_full(\n            info.type,\n            0,\n            result_info.type,\n            result_info.dim,\n            exp.toString(),\n            literal.sourceInfo\n          );\n        }\n      }\n    }\n    return type;\n  }\n\n  /**\n   *\n   * @param {import('./../../ast/commands/function').Function} fun\n   * @param {import('./../../ast/commands/formalParameter').FormalParameter} formalParam\n   * @param {number} index\n   * @param {Expression[]} actualParametersList\n   */\n  assertVariadicParameter (fun, formalParam, index, actualParametersList) {\n    let i;\n    for (i = index; i < actualParametersList.length; i += 1) {\n      this.assertParameter(fun, formalParam, actualParametersList[i]);\n    }\n    return i - 1;\n  }\n\n  /**\n   *\n   * @param {import('./../../ast/commands/function').Function} fun\n   * @param {import('./../../ast/commands/formalParameter').FormalParameter} formalParam\n   * @param {Expression} actualParameter\n   */\n  assertParameter (fun, formalParam, actualParameter) {\n    // const id = formalParam.id;\n    if (formalParam.byRef) {\n      if (actualParameter instanceof VariableLiteral) {\n        const variable = this.findSymbol(actualParameter.id, this.symbolMap);\n        if (variable.isConst) {\n          throw ProcessorErrorFactory.invalid_const_ref_full(\n            fun.name,\n            actualParameter.toString(),\n            actualParameter.sourceInfo\n          );\n        }\n      } else if (\n        !(\n          actualParameter instanceof VariableLiteral ||\n          actualParameter instanceof ArrayAccess\n        )\n      ) {\n        throw ProcessorErrorFactory.invalid_parameter_type_full(\n          fun.name,\n          actualParameter.toString(),\n          actualParameter.sourceInfo\n        );\n      }\n    }\n    const resultType = this.evaluateExpressionType(actualParameter);\n    if (\n      resultType instanceof MultiType &&\n      formalParam.type instanceof MultiType\n    ) {\n      let shared = 0;\n      for (let j = 0; j < resultType.types.length; ++j) {\n        const element = resultType.types[j];\n        if (formalParam.type.types.indexOf(element) !== -1) {\n          shared += 1;\n        }\n      }\n      if (shared <= 0) {\n        if (Config.enable_type_casting && !formalParam.byRef) {\n          if (\n            (!resultType.isCompatible(Types.INTEGER) &&\n              !resultType.isCompatible(Types.REAL)) ||\n            formalParam.type.isCompatible(Types.INTEGER) ||\n            formalParam.type.isCompatible(Types.REAL)\n          ) {\n            throw ProcessorErrorFactory.invalid_parameter_type_full(\n              fun.name,\n              actualParameter.toString(),\n              actualParameter.sourceInfo\n            );\n          }\n        }\n      }\n    } else if (resultType instanceof MultiType) {\n      if (!resultType.isCompatible(formalParam.type)) {\n        if (Config.enable_type_casting && !formalParam.byRef) {\n          if (\n            (!resultType.isCompatible(Types.INTEGER) &&\n              !resultType.isCompatible(Types.REAL)) ||\n            formalParam.type.isCompatible(Types.INTEGER) ||\n            formalParam.type.isCompatible(Types.REAL)\n          ) {\n            throw ProcessorErrorFactory.invalid_parameter_type_full(\n              fun.name,\n              actualParameter.toString(),\n              actualParameter.sourceInfo\n            );\n          }\n        }\n      }\n    } else if (!formalParam.type.isCompatible(resultType)) {\n      if (Config.enable_type_casting && !formalParam.byRef) {\n        if (!Store.canImplicitTypeCast(formalParam.type, resultType)) {\n          throw ProcessorErrorFactory.invalid_parameter_type_full(\n            fun.name,\n            actualParameter.toString(),\n            actualParameter.sourceInfo\n          );\n        }\n      }\n    }\n  }\n}\n","import { IVProgParser } from './ast/ivprogParser';\nimport { IVProgProcessor } from './processor/ivprogProcessor';\nimport {DOMConsole} from './io/domConsole';\nimport { SemanticAnalyser } from './processor/semantic/semanticAnalyser';\nimport { Location } from \"./memory/location\";\n\nexport function runner () {\n\n\n// const lexer = new ivprogLexer(new InputStream(input));\n// const stream = new CommonTokenStream(lexer);\n// stream.fill();\n// let i = 1;\n// let token = null;\n// while ((token = stream.LT(i)).type !== ivprogLexer.EOF && token.type !== ivprogLexer.WHITESPACE) {\n//     console.log(`${token.type}-${token.text}`);\n//     console.log('\\n')\n//     i++;\n// }\n// const anaSin = new IVProgParser(input, ivprogLexer);\nconst editor = new window.JsonEditor('#json-renderer', {});\nconst domConsole = new DOMConsole(\"#console\", true);\ndomConsole.hide();\n// proc.interpretAST().then( sto => {\n//   console.log(sto.applyStore('a'));\n// }).catch(e => console.log(e));\ntry {\n  window.$('#btn').click( () => {\n    const input = window.$('#input').val();\n    const analiser = IVProgParser.createParser(input);\n    try {\n      analiser.fill();\n      //console.debug(analiser.tokenStream)\n      const data = analiser.parseTree();\n      const semAna = new SemanticAnalyser(data);\n      const proc = new IVProgProcessor(semAna.analyseTree());\n      proc.registerInput(domConsole);\n      domConsole.clear();\n      proc.registerOutput(domConsole);\n      proc.interpretAST().then(sto => {\n        console.log(sto);\n        editor.load(sto.store);\n        console.log(Location.size());\n      }).catch( e => {\n        alert(e);\n        console.log(e);\n        console.log(Location.size());\n      });\n    } catch (error) {\n      alert(error);\n      console.log(error);\n      console.log(Location.size());\n    }\n\n  });\n} catch(a) {\n  console.log(a);\n}\n}\n","import line_i18n from \"line-i18n\";\nimport { LocalizedStrings } from \"./localizedStringsService\";\n\nconst StringTypes = line_i18n.StringTypes;\n\nexport const i18nHelper = Object.freeze({\n  i18n: (identifier) => {\n    var opts = identifier.split(':');\n    var type = opts[0].toLowerCase();\n    var id = opts[1];\n    if (StringTypes.ERROR === type) {\n      return LocalizedStrings.getError(id);\n    } else if (StringTypes.MESSAGE === type) {\n      return LocalizedStrings.getMessage(id); \n    } else if (StringTypes.UI === type) {\n      return LocalizedStrings.getUI(id);\n    } else {\n      console.warn(\"A string has been passed to the i18n helper function that was not in the form type:id -> \" + identifier);\n      return LocalizedStrings.getString(identifier, type);\n    }\n  }\n});","/* global iLMparameters*/\nimport Lexers from \"./../../grammar/\";\nimport line_i18n from \"line-i18n\";\nimport { Config } from \"./../util/config\";\n\nclass LanguageServiceExtended extends line_i18n.LanguageServiceNoLS {\n  constructor () {\n    super(\n      typeof iLMparameters === \"undefined\"\n        ? Config.default_lang\n        : iLMparameters.lang\n    );\n  }\n\n  getDefaultLang () {\n    return \"en\";\n  }\n\n  getCurrentLexer () {\n    const langInfo = Lexers[this.getLang()];\n    if (langInfo === null || langInfo === undefined) {\n      return Lexers[this.getDefaultLang()].lexer;\n    } else {\n      return langInfo.lexer;\n    }\n  }\n\n  getCurrentLangFuncs () {\n    const langInfo = Lexers[this.getLang()];\n    if (langInfo === null || langInfo === undefined) {\n      return Lexers[this.getDefaultLang()].langFuncs;\n    } else {\n      return langInfo.langFuncs;\n    }\n  }\n\n  getCurrentLangLibs () {\n    const langInfo = Lexers[this.getLang()];\n    if (langInfo === null || langInfo === undefined) {\n      return Lexers[this.getDefaultLang()].langLibs;\n    }\n    return langInfo.langLibs;\n  }\n}\n\nexport const LanguageService = new LanguageServiceExtended();\n","import line_i18n from \"line-i18n\";\nimport { LanguageService } from \"./languageService\";\nimport { LanguageDefinedFunction } from \"./../processor/definedFunctions\";\nimport Langs from \"./../../i18n\";\nimport { Operators } from \"./../ast/operators\";\n\nclass IVProgLocalizedStrings extends line_i18n.LocalizedStrings {\n  constructor (langService, langsJsons, shouldListenToChange = false) {\n    super(langService, langsJsons, shouldListenToChange);\n  }\n\n  translateType (type, dim) {\n    const type_string = this.getUI(`type_${type}`);\n    switch (dim) {\n      case 0:\n        return type_string;\n      default:\n        if (dim > 1) return this.getUI(\"matrix_info_string\", [type_string]);\n        else return this.getUI(\"vector_info_string\", [type_string]);\n    }\n  }\n\n  translateOp (op) {\n    switch (op.ord) {\n      case Operators.AND.ord:\n      case Operators.OR.ord:\n      case Operators.NOT.ord:\n        return this.getUI(`logic_operator_${op.value}`);\n      default:\n        return op.value;\n    }\n  }\n\n  translateInternalFunction (name, category = null) {\n    if (category == null) {\n      return LanguageDefinedFunction.getLocalName(name);\n    } else {\n      return LanguageDefinedFunction.getLocalName(`${category}.${name}`);\n    }\n  }\n}\n\nexport const LocalizedStrings = Object.freeze(\n  new IVProgLocalizedStrings(LanguageService, Langs, true)\n);\n\nlet _instance = null;\n\nexport function getInstance () {\n  if (_instance == null) {\n    _instance = new IVProgLocalizedStrings(LanguageService, Langs);\n  }\n  return _instance;\n}\n","let clicks = [];\nlet inRebuildMode = false;\n\nexport const ActionTypes = Object.freeze({\n  // registerUserEvent payload:\n  // (function_name, insert action)\n  INSERT_FUNCTION:\"INSERT_FUNCTION\",\n  // (function_name, remove action)\n  REMOVE_FUNCTION:\"REMOVE_FUNCTION\",\n  // (var_name,insert action, type, dim)\n  INSERT_GLOBAL_VAR:\"INSERT_GLOBAL_VAR\",\n  // (var name, remove action)\n  REMOVE_GLOBAL_VAR:\"REMOVE_GLOBAL_VAR\",\n  // (old function name, rename action, new function name)\n  RENAME_FUNCTION:\"RENAME_FUNCTION\",\n  // (old var name, rename action. new var name)\n  RENAME_GLOBAL_VAR:\"RENAME_GLOBAL_VAR\",\n  // (var name, set const action)\n  SET_GLOBAL_CONST:\"SET_GLOBAL_CONST\",\n  // (function name, change return action, type, dim)\n  CHANGE_FUNCTION_RETURN:\"CHANGE_FUNCTION_RETURN\",\n  // (var name, change type action, type, dim, rows?, columns?)\n  CHANGE_GLOBAL_TYPE:\"CHANGE_GLOBAL_TYPE\",\n  // (var name, change value action, value)\n  CHANGE_GLOBAL_VALUE:\"CHANGE_GLOBAL_VALUE\",\n  // (function name, insert param action, param varname, type, dim)\n  INSERT_FUNCTION_PARAM:\"INSERT_FUNCTION_PARAM\",\n  // (function name, remove param action, param varname)\n  REMOVE_FUNCTION_PARAM:\"REMOVE_FUNCTION_PARAM\",\n  // (function name, change param type action, type, dim)\n  CHANGE_PARAM_TYPE:\"CHANGE_PARAM_TYPE\",\n  // (function name, rename param action, old param name, new param name)\n  RENAME_FUNCTION_PARAM:\"RENAME_FUNCTION_PARAM\",\n  // (function name, insert var action, var name, type, dim)\n  INSERT_FUNCTION_VAR:\"INSERT_FUCNTION_VAR\",\n  // (function name, remove var action, var name)\n  REMOVE_FUNCTION_VAR:\"REMOVE_FUNCTION_VAR\",\n  // (function name, rename var action, old var name, new var name)\n  RENAME_FUNCTION_VAR:\"RENAME_FUNCTION_VAR\",\n  // (function name, change var type action, var name, type, dim, rows?, columns?)\n  CHANGE_VAR_TYPE:\"CHANGE_VAR_TYPE\",\n  // (function name, change var value action, var name, value)\n  CHANGE_VAR_VALUE:\"CHANGE_VAR_VALUE\",\n  // (function name, insert command action, command, path)\n  INSERT_COMMAND:\"INSERT_COMMAND\",\n  // (function name, remove command action, path)\n  REMOVE_COMMAND:\"REMOVE_COMMAND\",\n  // (function name, change command exp action, path, exp)\n  CHANGE_COMMAND_EXP:\"CHANGE_COMMAND_EXP\",\n  // (function name, change attrib exp action, path, exp)\n  CHANGE_ATTRIB_EXP:\"CHANGE_ATTRIB_EXP\",\n  // (function name, change attrib var action, path, var name, row_exp?, column_exp?)\n  CHANGE_ATTRIB_VAR:\"CHANGE_ATTRIB_VAR\",\n  // (function name, move command action, old path, new path)\n  MOVE_COMMAND:\"MOVE_COMMAND\",\n  // (function name, enter change name action, var name)\n  ENTER_CHANGE_VAR_NAME:'ENTER_CHANGE_VAR_NAME',\n  // (function name, enter change value action, var name)\n  ENTER_CHANGE_VAR_VALUE:'ENTER_CHANGE_VAR_VALUE',\n  // (var name, enter change name action)\n  ENTER_CHANGE_GLOBAL_NAME:'ENTER_CHANGE_GLOBAL_NAME',\n  // (var name, enter change value action)\n  ENTER_CHANGE_GLOBAL_VALUE:'ENTER_CHANGE_GLOBAL_VALUE',\n  // (function name, enter change name action, param name)\n  ENTER_CHANGE_PARAM_NAME:'ENTER_CHANGE_PARAM_NAME',\n});\n\nexport function registerClick (x, y, details) {\n  if (inRebuildMode) {\n    return;\n  }\n  clicks.push([x, y, Date.now(), details]);\n}\n\nexport function registerUserEvent (command, action, ...params) {\n  registerEvent('user_event', command, action, params);\n}\n\nexport function registerSystemEvent (command, action, ...params) {\n  registerEvent('system_event', command, action, params);\n}\n\nfunction registerEvent (tag, command, action, params) {\n  if (inRebuildMode) {\n    return;\n  }\n  const event = {context: command, action: action, params:params};\n  clicks.push([tag, Date.now(), event]);\n}\n\nexport function getLogs () {\n  return clicks;\n}\n\nexport function setRebuildMode (flag) {\n  inRebuildMode = flag;\n}\n\nexport function getLogsAsString () {\n  return JSON.stringify(clicks);\n}\n\nexport function parseLogs (logData) {\n  clicks = JSON.parse(logData);\n}\n","import { LanguageService } from \"../services/languageService\";\nimport { Types } from \"./types\";\nimport Decimal from \"decimal.js\";\nimport { Config } from \"../util/config\";\n\nexport function toInt (str) {\n  return new Decimal(str);\n}\n\nexport function toString (str) {\n  let value = str.replace(/^\"/, \"\");\n  value = value.replace(/\"$/, \"\");\n  value = value.replace(/\\\\b/g, \"\\b\");\n  value = value.replace(/\\\\t/g, \"\\t\");\n  value = value.replace(/\\\\n/g, \"\\n\");\n  value = value.replace(/\\\\r/g, \"\\r\");\n  value = value.replace(/\\\\\"/g, '\"');\n  value = value.replace(/\\\\'/g, \"'\");\n  value = value.replace(/\\\\\\\\/g, \"\\\\\");\n  return value;\n}\n\nexport function toChar (str) {\n  //console.debug(str, str.length);\n  let value = str.replace(/^'/, \"\");\n  value = value.replace(/'$/, \"\");\n  value = value.replace(/\\\\b/g, \"\\b\");\n  value = value.replace(/\\\\t/g, \"\\t\");\n  value = value.replace(/\\\\n/g, \"\\n\");\n  value = value.replace(/\\\\r/g, \"\\r\");\n  value = value.replace(/\\\\\"/g, '\"');\n  value = value.replace(/\\\\'/g, \"'\");\n  value = value[0];\n  return value;\n}\n\nexport function toReal (value) {\n  return new Decimal(value);\n}\n\nexport function toBool (str) {\n  const val = str;\n  const lexer = LanguageService.getCurrentLexer();\n  if (lexer.getReservedKeys()[lexer.getRules().RK_TRUE] === val) {\n    return true;\n  } else if (lexer.getReservedKeys()[lexer.getRules().RK_FALSE] === val) {\n    return false;\n  } else {\n    // TODO: better error message\n    throw new Error(str + \"not a valid boolean\");\n  }\n}\n\nexport function convertBoolToString (bool) {\n  const lexer = LanguageService.getCurrentLexer();\n  let result = null;\n  if (bool) {\n    result = lexer.getReservedKeys()[lexer.getRules().RK_TRUE];\n  } else {\n    result = lexer.getReservedKeys()[lexer.getRules().RK_FALSE];\n  }\n  //console.debug(result)\n  return result.replace(/'/g, \"\");\n}\n\nexport function convertToString (value, type) {\n  switch (type.ord) {\n    case Types.INTEGER.ord:\n      return value.toString();\n    case Types.REAL.ord: {\n      if (value.dp() <= 0) {\n        return value.toFixed(1);\n      } else {\n        return value.toFixed(Config.decimalPlaces);\n      }\n    }\n    case Types.BOOLEAN.ord:\n      return convertBoolToString(value);\n    default:\n      return value;\n  }\n}\n\n","import {SemanticAnalyser} from './../processor/semantic/semanticAnalyser';\nimport {IVProgProcessor} from './../processor/ivprogProcessor';\nimport { InputTest } from './inputTest';\nimport { OutputTest } from './outputTest';\nimport { LocalizedStrings } from './../services/localizedStringsService'\n\nexport function autoGenerateTestCaseOutput (program_text, testCases) {\n  let copyTestCases = testCases.map((test) => Object.assign({}, test));\n  try {\n    const program = SemanticAnalyser.analyseFromSource(program_text);\n    const resultList = testCases.map((test, id) => {\n      const input = new InputTest(test.input);\n      const output = new OutputTest();\n      const exec =  new IVProgProcessor(program);\n      exec.registerInput(input);\n      exec.registerOutput(output);\n      return exec.interpretAST().then(_ => {\n        return {id: id, program: exec};\n      });\n    });\n    return Promise.all(resultList).then(result_final => {\n      for(let i = 0; i < result_final.length; ++i) {\n        const result = result_final[i];\n        const output = result.program.output.list;\n        const input = result.program.input;\n        if(input.index != input.inputList.length) {\n          window.showAlert(LocalizedStrings.getMessage(\"testcase_autogen_unused_input\", [result.id+1]));\n          return Promise.resolve(false);\n        }\n        if(output.length == 0) {\n          window.showAlert(LocalizedStrings.getMessage(\"testcase_autogen_empty\", [result.id+1]));\n        }\n        copyTestCases[result.id].output = output;\n      }\n      window.outputGenerated(copyTestCases);\n      return Promise.resolve(true);\n    });\n  }catch (error) {\n    return Promise.reject(error)\n  }\n}","// iVProg - www.usp.br/line/ivprog\n// LInE - Free Education, Private Data\n\nimport * as Models from '../visualUI/ivprog_elements';\nimport { LocalizedStrings } from \"./../services/localizedStringsService\";\nimport * as VariableValueMenuManagement from '../visualUI/commands/variable_value_menu';\nimport * as CodeParser from '../visualUI/commands/generic_expression';\n\nfunction parseBoolean (var_value, dimensions) {\n  if (dimensions == 0)\n    return var_value == LocalizedStrings.getUI(\"logic_value_true\");\n  if (dimensions == 1) {\n    var final_array = [];\n    var_value.forEach(function(el){\n      final_array.push(el == LocalizedStrings.getUI(\"logic_value_true\"));\n      });\n    return final_array;\n    }\n  if (dimensions == 2) {\n    var final_array = [];\n    var_value.forEach(function(row){\n      var temp = [];\n      row.forEach(function(el){\n        temp.push(el == LocalizedStrings.getUI(\"logic_value_true\"));\n        });\n      final_array.push(temp);\n      });\n    return final_array;\n    }\n  }\n\n\nfunction parseGlobal (global_obj) {\n  var new_global = new Models.Variable(global_obj.type, global_obj.name, global_obj.value);\n\n  new_global.is_constant = global_obj.is_const;\n  new_global.columns = global_obj.columns;\n  new_global.dimensions = global_obj.dimension;\n  new_global.rows = global_obj.rows;\n\n  if (global_obj.type == \"boolean\")\n    new_global.value = parseBoolean(global_obj.value, global_obj.dimension);\n\n  window.program_obj.addGlobal(new_global);\n  }\n\n\nfunction parseParameter (parameter_obj) {\n  const new_parameter = new Models.Variable(\n    parameter_obj.type,\n    parameter_obj.name,\n    null,\n    parameter_obj.dimension,\n    parameter_obj.is_const,\n    parameter_obj.rows,\n    parameter_obj.columns,\n    parameter_obj.reference\n    );\n\n  new_parameter.value = parameter_obj.value;\n\n  if (parameter_obj.type == \"boolean\" && parameter_obj.value)\n    new_parameter.value = parseBoolean(parameter_obj.value, parameter_obj.dimension);\n\n  return new_parameter;\n  }\n\n\nfunction parseFunction (function_obj) {\n  const new_function = new Models.Function(function_obj.name, function_obj.return_type, function_obj.return_dimensions, [], false, false, []);\n\n  if (!new_function.name) {\n    new_function.name = LocalizedStrings.getUI(\"start\");\n    new_function.is_main = true;\n    }\n\n  if (function_obj.parameters_list) {\n    function_obj.parameters_list.forEach(function(el){\n      new_function.parameters_list.push(parseParameter(el));\n      });\n    }\n\n  if (function_obj.variables_list) {\n    function_obj.variables_list.forEach(function(el){\n      new_function.variables_list.push(parseParameter(el));\n      });\n    }\n\n  window.program_obj.addFunction(new_function);\n  }\n\n// Auxiliary to debug\nfunction printCommandText (code) {\n  if (code) {\n    //if (code.commands) return \"commands.length=\" + code.commands.length; else return \"Object.commands <empty>\";\n    var aux = \"\";\n    if (code.globals) aux = \"#globals=\" + code.globals.length;\n    else aux = \"#globals=0\";\n    if (code.functions) aux += \", #functions=\" + code.functions.length;\n    else aux += \", #functions=0\";\n    return aux;\n    }\n  return \"Object <empty>\";\n  }\n\n// @calledby Recursive, \"parserCodeVisual(.)\": preparedFunction.commands = parseCommands(rawFunction.commands, preparedFunction);\n// @calledby Generic parser, \"parseCommands(.)\": temp.push(parseCommands(command, function_obj));\n// @calledby Each parser command as \"function parseIfTrue(command,function_obj)\": \"ifTrueBlock=parseCommands(command.ifTrue,function_obj)\" and \"ifFalseBlock=parseCommands(command.ifFalse,function_obj)\"\nexport function parserCodeVisual (code_obj = null) {\n  console.log(\".ivprog/js/util/codeParser.js: parserCodeVisual(.): code_obj has \" + printCommandText(code_obj)); // JSON.stringify(code_obj));\n  console.trace();\n  window.conteudo = code_obj\n\n  // Globals:\n  window.program_obj.globals = [];\n  code_obj.globals.forEach(parseGlobal);\n\n  // Functions:\n  window.program_obj.functions = [];\n  code_obj.functions.forEach(parseFunction);\n\n  // Commands: \n  window.program_obj.functions.forEach(function(preparedFunction) {\n    code_obj.functions.forEach(function(rawFunction) {\n      if ((preparedFunction.name == rawFunction.name) || (!rawFunction.name && preparedFunction.name == LocalizedStrings.getUI(\"start\"))) {\n        preparedFunction.commands = parseCommands(rawFunction.commands, preparedFunction);\n        }\n      })\n    });\n  }\n\n\nfunction parseCommands (commands_block, function_obj) {\n  console.log(\".ivprog/js/util/codeParser.js: parseCommands(.): commands_block=\" + printCommandText(commands_block)); // JSON.stringify(commands_block));\n  // console.trace();\n  if (Array.isArray(commands_block)) {\n    var temp = [];\n    commands_block.forEach(function(command) {\n      temp.push(parseCommands(command, function_obj));\n      });\n    return temp;\n    }\n  else {\n    switch (commands_block.type) {\n      case Models.COMMAND_TYPES.reader:\n        return parseReader(commands_block, function_obj);\n      case Models.COMMAND_TYPES.return:\n        return parseReturn(commands_block, function_obj);\n      case Models.COMMAND_TYPES.writer:\n        return parseWriter(commands_block, function_obj);\n      case Models.COMMAND_TYPES.break:\n        return parseBreak(commands_block, function_obj);\n      case Models.COMMAND_TYPES.comment:\n        return parseComment(commands_block, function_obj);\n      case Models.COMMAND_TYPES.attribution:\n        return parseAttribution(commands_block, function_obj);\n      case Models.COMMAND_TYPES.functioncall:\n        return parseFunctionCall(commands_block, function_obj);\n      case Models.COMMAND_TYPES.iftrue:\n        return parseIfTrue(commands_block, function_obj);\n      case Models.COMMAND_TYPES.repeatNtimes:\n        return parseRepeatNTimes(commands_block, function_obj);\n      case Models.COMMAND_TYPES.whiletrue:\n        return parseWhileTrue(commands_block, function_obj);\n      case Models.COMMAND_TYPES.dowhiletrue:\n        return parseDoWhileTrue(commands_block, function_obj);\n      case Models.COMMAND_TYPES.switch:\n        return parseSwitch(commands_block, function_obj);\n      }\n    return null;\n    }\n  }\n\n\nfunction parseReader (command, function_obj) {\n  var temp = CodeParser.expressionParserCodeVisual(command.variable, function_obj);\n  if (Array.isArray(temp) && temp[0])\n    temp = temp[0];\n  return new Models.Reader(temp);\n  }\n\n\nfunction parseReturn (command, function_obj) {\n  var temp = CodeParser.expressionParserCodeVisual(command.expression, function_obj);\n  return new Models.Return(temp);\n  }\n\n\n// Generate command \"write(...)\"\n// @calls js/visualUI/commands/attribution.js: renderExpression\nfunction parseWriter (command, function_obj) {\n  //D var len_cmd = command.content.length; //leo\n  //D var str = \"\"; // \"#command.content=\" + len_cmd + \"\\n\"; //leo\n  //D for (var i=0; i<len_cmd; i++) str += JSON.stringify(command.content[i]) + \"; \"; // \"; \" + command.content[i];\n  //D console.log(\"./ivprog/js/util/codeParser.js: parseWriter(.): command=\" + JSON.stringify(command)) // + \"\\nfunction_obj=||\" + JSON.stringify(function_obj) + \"||\\n\" + str); //leo\n  console.log(\"./ivprog/js/util/codeParser.js: parseWriter(.): command=\" + JSON.stringify(command));\n  //#command=\" + (command ? command.length : \"<>\") ); //leo + \";\n\n  //leo\n  //TODO It is missing to implement the visualUI construtor to \"write_separator\" in 'getVariable(.)'\n  //TODO Incomplete solution: I change \"Models.EXPRESSION_TYPES.write_sep\" to \"Models.ARITHMETIC_TYPES.plus\" in ./ivprog/js/visualUI/commands/generic_expression.js\n  //TODO See ./ivprog/js/visualUI/commands/generic_expression.js : expressionParserCodeVisual(.) : missing treat to 'write_sep' in 'getVariable(.)' final command\n  // ATTENTION must pass all the vector to work with several variables in \"write(.)\"\n  var temp = CodeParser.expressionParserCodeVisual(command.content, function_obj); // provide HTML elements\n\n  //0 temp = CodeParser.expressionParserCodeVisual(command.content[0], function_obj);\n  //D console.log(\"./ivprog/js/util/codeParser.js: parseWriter(.): #temp=\" + temp.length + \"; type=\" + temp.type + \": temp=\" + JSON.stringify(temp));\n  return new Models.Writer(temp,command.newLine);\n  }\n\n\nfunction parseBreak (command, function_obj) {\n  return new Models.Break();\n  }\n\n\nfunction parseAttribution (command, function_obj) {\n  var variable = CodeParser.expressionParserCodeVisual(command.variable, function_obj);\n  var expression = CodeParser.expressionParserCodeVisual(command.expression, function_obj);\n\n  if (Array.isArray(variable)) \n    variable = variable[0];\n\n  return new Models.Attribution(variable, expression);\n  }\n\n\n//TODO\nfunction parseComment (command, function_obj) {\n  return new Models.Comment(null);\n  }\n\n\nfunction parseFunctionCall (command, function_obj) {\n  var parameters = [];\n  if (command.parameters_list) {\n    command.parameters_list.forEach(function(el) {\n      var temp = CodeParser.expressionParserCodeVisual(el, function_obj);\n      if (temp.content === 0) temp.content = \"0\";\n      parameters.push(temp[0]);\n      });\n    }\n\n  var function_called = CodeParser.searchFunction(command.name);\n\n  var temp = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_function, null, null, null, false);\n  temp.function_called = function_called;\n  temp.parameters_list = parameters;\n  \n  return new Models.FunctionCall(temp, null);\n  }\n\n\nfunction parseIfTrue (command, function_obj) {\n  var expression = CodeParser.expressionParserCodeVisual(command.expression, function_obj);\n  var ifTrueBlock = parseCommands(command.ifTrue, function_obj);\n  var ifFalseBlock = parseCommands(command.ifFalse, function_obj);\n  return new Models.IfTrue(expression, ifTrueBlock, ifFalseBlock);\n  }\n\n\nfunction parseRepeatNTimes (command, function_obj) {\n  //D console.log(\".ivprog/js/util/codeParser.js: parseRepeatNTimes(.): command=\" + JSON.stringify(command));\n  console.log(\"codeParser.js!parseRepeatNTimes(.): command=\" + command);\n  var var_attribution = CodeParser.expressionParserCodeVisual(command.var_attribution, function_obj);\n  var_attribution = var_attribution[0];\n\n  var expression1 = CodeParser.expressionParserCodeVisual(command.var_initial, function_obj);\n  expression1 = expression1[0];\n\n  var expression2 = CodeParser.expressionParserCodeVisual(command.condition, function_obj);\n\n  if (expression2[0].item == 'minus') {\n    expression2 = expression2[1];\n    expression2.content *= -1;\n  } else\n    expression2 = expression2[0];\n\n  var var_step = CodeParser.expressionParserCodeVisual(command.step_expression, function_obj);\n\n  var commands_block = parseCommands(command.commands, function_obj);\n\n  var operator = command.step_expression[0].value == '+' ? Models.ARITHMETIC_TYPES.plus : Models.ARITHMETIC_TYPES.minus;\n\n  var expression3 = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp, [ null, operator, var_step[1] ]);\n  console.log(\"codeParser.js!parseRepeatNTimes(.): expression3=\" + expression3);\n\n  return new Models.RepeatNTimes(\n    var_attribution,\n    new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_variable, null, null, null, false),\n    expression1,\n    expression2,\n    expression3, \n    commands_block);\n  } // function parseRepeatNTimes(command, function_obj)\n\n\nfunction parseWhileTrue (command, function_obj) {\n  var expression = CodeParser.expressionParserCodeVisual(command.expression, function_obj);\n  var commands = parseCommands(command.commands, function_obj);\n\n  return new Models.WhileTrue(expression, commands);\n  }\n\n\nfunction parseDoWhileTrue (command, function_obj) {  \n  var expression = CodeParser.expressionParserCodeVisual(command.expression, function_obj);\n  var commands = parseCommands(command.commands, function_obj);\n\n  return new Models.DoWhileTrue(expression, commands);\n  }\n\n\nfunction parseSwitch (command, function_obj) {\n  var expression = CodeParser.expressionParserCodeVisual(command.expression, function_obj);\n\n  var sc = [];\n  if (command.cases) {\n    command.cases.forEach(function(case_el) {\n      var temp_exp = CodeParser.expressionParserCodeVisual(case_el.expression, function_obj);\n      var temp_commands = parseCommands(case_el.commands, function_obj);\n      var temp_case = new Models.SwitchCase(temp_exp[0], temp_commands);\n      sc.push(temp_case);\n      })\n    }\n\n  return new Models.Switch(expression[0], sc);\n  }","export function processData () {\n  const folderInput = document.querySelector(\"#folder\");\n  const header = [\n    \"submissionid\",\n    \"file\",\n    \"filesize\",\n    \"timestamp\",\n    \"humandate\",\n    \"grade\",\n    \"userid\",\n    \"exerciseid\",\n  ];\n\n  function generateSubCode (algorithmInIlm) {\n    window.program_obj.functions = JSON.parse(algorithmInIlm).functions;\n    window.program_obj.globals = JSON.parse(algorithmInIlm).globals;\n    return window.ivprogCore.generateCode();\n  }\n\n  function prepareData (map, submission) {\n    if (!submission) {\n      return map;\n    }\n    const exercID = submission[\"exerciseid\"];\n    const studentID = submission[\"userid\"];\n    let exercMap = null;\n    if (map.has(exercID)) {\n      exercMap = map.get(exercID);\n    } else {\n      exercMap = new Map();\n      map.set(exercID, exercMap);\n    }\n    if (exercMap.has(studentID)) {\n      exercMap.get(studentID).push(submission);\n    } else {\n      exercMap.set(studentID, [submission]);\n    }\n    return map;\n  }\n\n  folderInput.addEventListener(\"change\", async () => {\n    const files = Array.from(folderInput.files);\n    const idx = files.find((f) => f.name == \"index.csv\");\n    const folderName = idx.webkitRelativePath.replace(idx.name, \"\");\n    //console.debug(idx);\n    //console.debug(folderName);\n    const data = await idx.text();\n    //console.debug(data);\n    const csvEntries = data\n      .split(\"\\n\")\n      .slice(1)\n      .filter((line) => line.length > 0)\n      .map((line) => line.split(\",\"))\n      .map((vec) => {\n        const obj = {};\n        vec.forEach((val, i) => (obj[header[i]] = val));\n        return obj;\n      });\n    //console.debug(csvEntries);\n    const blockExercMap = csvEntries.reduce(prepareData, new Map());\n    //console.log(Array.from(blockExercMatrix.entries()));\n    const getFilePath = async function (submission) {\n      const path = `${folderName}${submission[\"file\"]}`;\n      const file = files.find((f) => f.webkitRelativePath == path);\n      const text = await file.text();\n      return text;\n    };\n    const matrix = {};\n    let counter = 0;\n    blockExercMap.forEach((studentsMap, exercID) => {\n      const column = [];\n      studentsMap.forEach(async (submissions, studentID) => {\n        submissions = submissions.sort((a, b) => {\n          return parseInt(a[\"timestamp\"]) - parseInt(b[\"timestamp\"]);\n        });\n        counter++;\n        submissions.forEach(async (submission, index, array) => {\n          counter++;\n          const student = {};\n          student[\"grade\"] = Math.max(0, parseFloat(submission[\"grade\"]));\n          student[\"timestamp\"] = parseInt(submission[\"timestamp\"]);\n          student[\"student_id\"] = studentID;\n          student[\"TES\"] = 0;\n          student[\"DES\"] = 0;\n          student[\"D/T\"] = 0;\n          let previousCode = \"\";\n          if (index > 0) {\n            student[\"TES\"] =\n              parseInt(submission[\"timestamp\"]) -\n              parseInt(array[index - 1][\"timestamp\"]);\n            const previousFile = await getFilePath(array[index - 1]);\n            const previous = window.ivprogCore\n              .prepareActivityToStudentHelper(previousFile)\n              .getOrElse(1);\n            if (previous == 1) {\n              console.error(\n                `A submission from ${studentID} to ${exercID} is invalid`\n              );\n              return;\n            }\n            previousCode = generateSubCode(previous.algorithmInIlm);\n          }\n          const currentFile = await getFilePath(submission);\n          const current = window.ivprogCore\n            .prepareActivityToStudentHelper(currentFile)\n            .getOrElse(2);\n          if (current == 2) {\n            console.error(\n              `A submission from ${studentID} to ${exercID} is invalid`\n            );\n            return;\n          }\n          const currentCode = generateSubCode(current.algorithmInIlm);\n          if (previousCode === \"\") {\n            const logs = JSON.parse(currentFile.split(\"::logs::\")[1]);\n            const event = logs[0];\n            if (event == null) {\n              // empty submission\n              student[\"TES\"] = 0;\n            } else if (event.length === 4) {\n              student[\"TES\"] =\n                parseInt(submission[\"timestamp\"]) -\n                Math.floor(parseInt(event[2]) / 1000);\n            } else {\n              student[\"TES\"] =\n                parseInt(submission[\"timestamp\"]) -\n                Math.floor(parseInt(event[1]) / 1000);\n            }\n          }\n          student[\"DES\"] = window.ivprogCore.levenshteinDistance(\n            previousCode,\n            currentCode\n          );\n          const ratio =\n            student[\"TES\"] === 0 ? 0 : student[\"DES\"] / student[\"TES\"];\n          student[\"D/T\"] = isNaN(ratio) ? 0 : ratio;\n          column.push(student);\n          counter--;\n        });\n        counter--;\n      });\n      matrix[exercID] = column;\n    });\n    function download (file, text) {\n      //creating an invisible element\n      const element = document.createElement(\"a\");\n      element.setAttribute(\n        \"href\",\n        \"data:text/plain,\" + encodeURIComponent(text)\n      );\n      element.setAttribute(\"download\", file);\n      element.innerHTML = file;\n      element.classList.add(\"ui\", \"primary\", \"button\");\n\n      // Above code is equivalent to\n      // <a href=\"path of file\" download=\"file name\">\n\n      document.querySelector(\"#downloads\").appendChild(element);\n    }\n    function getExercHeader (id) {\n      const props = [\"TES\", \"DES\", \"grade\", \"D/T\", \"timestamp\"];\n      return props.reduce((acc, prop) => acc + `${id}_${prop},`, \"\");\n    }\n    const id = setInterval(() => {\n      if (counter == 0) {\n        clearInterval(id);\n        for (const exercID in matrix) {\n          let csv = \"\";\n          let firstLine = \"student_id,\";\n          firstLine += getExercHeader(exercID);\n          for (const submission of matrix[exercID]) {\n            csv += `${submission[\"student_id\"]},`;\n            csv += `${submission[\"TES\"]},`;\n            csv += `${submission[\"DES\"]},`;\n            csv += `${submission[\"grade\"]},`;\n            csv += `${submission[\"D/T\"]},`;\n            csv += `${submission[\"timestamp\"]}`;\n            csv += \"\\n\";\n          }\n          download(`${exercID}.csv`, `${firstLine}\\n${csv}`);\n        }\n      }\n    }, 1000);\n  });\n}\n","import { getCodeEditorModeConfig } from \"./utils\";\n\n/**\n * Source: https://raw.githubusercontent.com/codemirror/CodeMirror/master/mode/clike/clike.js\n * @author arijn Haverbeke and others\n * @author Lucas de Souza\n * @param {CodeMirror} CodeMirror \n */\nexport function CodeEditorMode (CodeMirror) {\n  \"use strict\";\n\n  function Context(indented, column, type, info, align, prev) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.info = info;\n    this.align = align;\n    this.prev = prev;\n  }\n\n  function pushContext(state, col, type, info) {\n    let indent = state.indented;\n    if (state.context && state.context.type == \"statement\" && type != \"statement\")\n      indent = state.context.indented;\n    return state.context = new Context(indent, col, type, info, null, state.context);\n  }\n  \n  function popContext(state) {\n    const t = state.context.type;\n    if (t == \")\" || t == \"]\" || t == \"}\")\n      state.indented = state.context.indented;\n    return state.context = state.context.prev;\n  }\n\n  function typeBefore(stream, state, pos) {\n    if (state.prevToken == \"variable\" || state.prevToken == \"type\") return true;\n    if (/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$/.test(stream.string.slice(0, pos))) return true;\n    if (state.typeAtEndOfLine && stream.column() == stream.indentation()) return true;\n  }\n\n  function isTopScope(context) {\n    for (; ;) {\n      if (!context || context.type == \"top\") return true;\n      if (context.type == \"}\" && context.prev.info != \"namespace\") return false;\n      context = context.prev;\n    }\n  }\n\n  function contains(words, word) {\n    if (typeof words === \"function\") {\n      return words(word);\n    } else {\n      return Object.propertyIsEnumerable.call(words, word);\n    }\n  }\n\n  function tokenComment(stream, state) {\n    let maybeEnd = false, ch;\n    while ((ch = stream.next())) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return \"comment\";\n  }\n\n  CodeMirror.defineMode(\"ivprog\", function (config, parserConfig) {\n    const indentUnit = config.indentUnit,\n      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n      dontAlignCalls = parserConfig.dontAlignCalls,\n      keywords = parserConfig.keywords || {},\n      switchKeyword = parserConfig.switchKeyword,\n      caseKeyword = parserConfig.caseKeyword,\n      defaultKeyword = parserConfig.defaultKeyword,\n      caseRegex = new RegExp(`^\\\\s*(?:${caseKeyword} .*?:|${defaultKeyword}:|\\\\{\\\\}?|\\\\})$`),////,\n      types = parserConfig.types || {},\n      builtin = parserConfig.builtin || {},\n      blockKeywords = parserConfig.blockKeywords || {},\n      defKeywords = parserConfig.defKeywords || {},\n      atoms = parserConfig.atoms || {},\n      hooks = parserConfig.hooks || {},\n      multiLineStrings = parserConfig.multiLineStrings,\n      indentStatements = false,\n      namespaceSeparator = null,\n      isPunctuationChar = /[[\\]{}(),;:\\n]/,\n      numberStart = /[\\d.]/,\n      number = /^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)$/i,\n      isOperatorChar = /[+\\-*%=<>!/&]/,\n      isIdentifierChar = /[a-zA-Z0-9_]/,\n      // An optional function that takes a {string} token and returns true if it\n      // should be treated as a builtin.\n      isReservedIdentifier = parserConfig.isReservedIdentifier || false;\n\n    let curPunc, isDefKeyword;\n    let tokenString = function () { /*SKIP*/};\n    function tokenBase(stream, state) {\n      const ch = stream.next();\n      if (hooks[ch]) {\n        const result = hooks[ch](stream, state);\n        if (result !== false) return result;\n      }\n      if (ch == '\"') {\n        state.tokenize = tokenString(ch);\n        return state.tokenize(stream, state);\n      }\n      if (isPunctuationChar.test(ch)) {\n        curPunc = ch;\n        return null;\n      }\n      if (numberStart.test(ch)) {\n        stream.backUp(1)\n        if (stream.match(number)) return \"number\"\n        stream.next()\n      }\n      if (ch == \"/\") {\n        if (stream.eat(\"*\")) {\n          state.tokenize = tokenComment;\n          return tokenComment(stream, state);\n        }\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return \"comment\";\n        }\n      }\n      if (isOperatorChar.test(ch)) {\n        while (!stream.match(/^\\/[/*]/, false) && stream.eat(isOperatorChar)) { /* SKIP */}\n        return \"operator\";\n      }\n      stream.eatWhile(isIdentifierChar);\n      if (namespaceSeparator) while (stream.match(namespaceSeparator))\n        stream.eatWhile(isIdentifierChar);\n\n      const cur = stream.current();\n      if (contains(keywords, cur)) {\n        if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n        if (contains(defKeywords, cur)) isDefKeyword = true;\n        return \"keyword\";\n      }\n      if (contains(types, cur)) return \"type\";\n      if (contains(builtin, cur)\n        || (isReservedIdentifier && isReservedIdentifier(cur))) {\n        if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n        return \"builtin\";\n      }\n      if (contains(atoms, cur)) return \"atom\";\n      return \"variable\";\n    }\n\n     tokenString = function (quote) {\n      return function (stream, state) {\n        let escaped = false, next, end = false;\n        while ((next = stream.next()) != null) {\n          if (next == quote && !escaped) { end = true; break; }\n          escaped = !escaped && next == \"\\\\\";\n        }\n        if (end || !(escaped || multiLineStrings))\n          state.tokenize = null;\n        return \"string\";\n      };\n    }\n\n    function maybeEOL(stream, state) {\n      if (parserConfig.typeFirstDefinitions && stream.eol() && isTopScope(state.context))\n        state.typeAtEndOfLine = typeBefore(stream, state, stream.pos)\n    }\n\n    // Interface\n\n    return {\n      startState: function (basecolumn) {\n        return {\n          tokenize: null,\n          context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", null, false),\n          indented: 0,\n          startOfLine: true,\n          prevToken: null\n        };\n      },\n\n      token: function (stream, state) {\n        let ctx = state.context;\n        if (stream.sol()) {\n          if (ctx.align == null) ctx.align = false;\n          state.indented = stream.indentation();\n          state.startOfLine = true;\n        }\n        if (stream.eatSpace()) { maybeEOL(stream, state); return null; }\n        curPunc = isDefKeyword = null;\n        let style = (state.tokenize || tokenBase)(stream, state);\n        if (style == \"comment\" || style == \"meta\") return style;\n        if (ctx.align == null) ctx.align = true;\n\n        if (curPunc == \";\" || curPunc == \":\" || (curPunc == \",\" && stream.match(/^\\s*(?:\\/\\/.*)?$/, false)))\n          while (state.context.type == \"statement\") popContext(state);\n        else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n        else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n        else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n        else if (curPunc == \"}\") {\n          while (ctx.type == \"statement\") ctx = popContext(state);\n          if (ctx.type == \"}\") ctx = popContext(state);\n          while (ctx.type == \"statement\") ctx = popContext(state);\n        }\n        else if (curPunc == ctx.type) popContext(state);\n        else if (indentStatements &&\n          (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != \";\")  ||\n            (ctx.type == \"statement\" && curPunc == \"newstatement\"))) {\n          pushContext(state, stream.column(), \"statement\", stream.current());\n        }\n\n        if (style == \"variable\" &&\n          ((state.prevToken == \"def\" ||\n            (parserConfig.typeFirstDefinitions && typeBefore(stream, state, stream.start) &&\n              isTopScope(state.context) && stream.match(/^\\s*\\(/, false)))))\n          style = \"def\";\n\n        if (hooks.token) {\n          const result = hooks.token(stream, state, style);\n          if (result !== undefined) style = result;\n        }\n\n        if (style == \"def\" && parserConfig.styleDefs === false) style = \"variable\";\n\n        state.startOfLine = false;\n        state.prevToken = isDefKeyword ? \"def\" : style || curPunc;\n        maybeEOL(stream, state);\n        return style;\n      },\n\n      indent: function (state, textAfter) {\n        if (state.tokenize != tokenBase && state.tokenize != null || state.typeAtEndOfLine) return CodeMirror.Pass;\n        let ctx = state.context;\n        const firstChar = textAfter && textAfter.charAt(0)\n        const closing = firstChar == ctx.type;\n        if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n        if (parserConfig.dontIndentStatements)\n          while (ctx.type == \"statement\" && parserConfig.dontIndentStatements.test(ctx.info))\n            ctx = ctx.prev\n        if (hooks.indent) {\n          const hook = hooks.indent(state, ctx, textAfter, indentUnit);\n          if (typeof hook == \"number\") return hook\n        }\n        const switchBlock = ctx.prev && ctx.prev.info == switchKeyword;\n        if (parserConfig.allmanIndentation && /[{(]/.test(firstChar)) {\n          while (ctx.type != \"top\" && ctx.type != \"}\") ctx = ctx.prev\n          return ctx.indented\n        }\n        if (ctx.type == \"statement\")\n          return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n        if (ctx.align && (!dontAlignCalls || ctx.type != \")\"))\n          return ctx.column + (closing ? 0 : 1);\n        if (ctx.type == \")\" && !closing)\n          return ctx.indented + statementIndentUnit;\n        const caseTestRegex = new RegExp(`^(?:${caseKeyword}|${defaultKeyword})\\b`)\n        return ctx.indented + (closing ? 0 : indentUnit) +\n          (!closing && switchBlock && !caseTestRegex.test(textAfter) ? indentUnit : 0);\n      },\n\n      electricInput: caseRegex,\n      blockCommentStart: \"/*\",\n      blockCommentEnd: \"*/\",\n      blockCommentContinue: \" * \",\n      lineComment: \"//\",\n      fold: \"brace\"\n    };\n  });\n\n  function words(str) {\n    const obj = {}, words = str.split(\" \");\n    for (let i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n  \n  const codeConfig = getCodeEditorModeConfig();\n\n  const ivprogKeywords =  codeConfig.keywords.join(\" \");\n\n  const basicTypes = words(codeConfig.types.join(\" \"));\n\n  function ivprogTypes(identifier) {\n    return contains(basicTypes, identifier);\n  }\n\n  const ivprogBlockKeywords = codeConfig.blocks.join(\" \");\n  const ivprogDefKeywords = \"funcao const\";\n\n  function def(mimes, mode) {\n    if (typeof mimes == \"string\") mimes = [mimes];\n    const words = [];\n    function add(obj) {\n      if (obj) {\n        for (const prop in obj) if (Object.hasOwnProperty.call(obj, prop)) {\n          words.push(prop);\n        }\n      }\n    }\n    add(mode.keywords);\n    add(mode.types);\n    add(mode.builtin);\n    add(mode.atoms);\n    if (words.length) {\n      mode.helperType = mimes[0];\n      CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n    }\n\n    for (let i = 0; i < mimes.length; ++i)\n      CodeMirror.defineMIME(mimes[i], mode);\n  }\n  \n  def([\"text/x-ivprog\"], {\n    name: \"ivprog\",\n    keywords: words(ivprogKeywords),\n    types: ivprogTypes,\n    blockKeywords: words(ivprogBlockKeywords),\n    defKeywords: words(ivprogDefKeywords),\n    typeFirstDefinitions: true,\n    atoms: words(codeConfig.atoms.join(\" \")),\n    switchKeyword: codeConfig.switchString,\n    caseKeyword: codeConfig.case_default[0],\n    defaultKeyword: codeConfig.case_default[1],\n    modeProps: { fold: [\"brace\"] }\n  });\n\n}\n","import { setTestCases, getTestCases } from \"../visualUI/functions\";\nimport { generate } from \"../visualUI/code_generator\";\nimport { IVProgAssessment } from \"../assessment/ivprogAssessment\";\nimport { TestConsole } from \"./testConsole\";\nimport { parseLogs } from \"./../services/userLog\";\nimport { SemanticAnalyser } from \"../processor/semantic/semanticAnalyser\";\nimport { Maybe } from \"./maybe\";\nimport { parserCodeVisual } from \"./codeParser\";\n\nfunction parseActivityData (data, ignore_logs=false) {\n  let algorithm_in_ilm = null;\n  if (data.split(\"\\n::algorithm::\")[1]) {\n    algorithm_in_ilm = data.split(\"\\n::algorithm::\")[1].split(\"\\n::logs::\")[0];\n    const logs = data.split(\"\\n::algorithm::\")[1].split(\"\\n::logs::\")[1];\n    if (logs != null && ignore_logs == false) {\n      try {\n        parseLogs(logs);\n      }\n      catch (e) {}\n    }\n  }\n  let content;\n  try {\n    content = JSON.parse(data.split(\"\\n::algorithm::\")[0]);\n    content[\"algorithm_in_ilm\"] = algorithm_in_ilm;\n  } catch (e) {\n    console.error(e);\n    return Maybe.none();\n  }\n  return Maybe.some(content);\n}\n\nfunction configAuxiliar (obj_config) {\n\n  return new Map(\n      Object\n        .keys(obj_config)\n        .map(\n            key => [key, obj_config[key]]\n        )\n    )\n}\n    \nfunction setActivityConfig (config_json) {\n\n  ivprogCore.Config.activity_commands = configAuxiliar(config_json.commands);\n  ivprogCore.Config.activity_functions = configAuxiliar(config_json.functions);\n  ivprogCore.Config.activity_datatypes = configAuxiliar(config_json.datatypes);\n  ivprogCore.Config.activity_filter = configAuxiliar(config_json.filter);\n  ivprogCore.Config.activity_programming_type = configAuxiliar(config_json.programming);\n\n}\n\nexport function setPreviousAlgorithm (code) {\n  \n  var code_obj = null;\n  try {\n    code_obj = ivprogCore.parseCode(code)\n    parserCodeVisual(code_obj)\n  }\n  catch(e) {\n    showInvalidData()\n    console.log(e)\n    return\n  }\n}\n\nexport function prepareActivityToStudentHelperJSON (ilm_cont) {\n  \n  setTestCases(ilm_cont.test_cases)\n\n  setActivityConfig(ilm_cont.settings)\n\n  if (ilm_cont.code)\n    setPreviousAlgorithm(ilm_cont.code)\n  else \n    if (ilm_cont.algorithm)\n      setPreviousAlgorithm(ilm_cont.algorithm)\n\n}\n\nexport function prepareActivityToStudentHelper (ilm_cont, ignore_logs=false) {\n  const maybe_content = parseActivityData(ilm_cont, ignore_logs);\n  return maybe_content.map((content) => {\n    const testCases = content.testcases;\n    setTestCases(testCases);\n\n    let prog_type = null;\n    if (content.settings_programming_type) {\n      prog_type = content.settings_programming_type[0].value;\n    } else {\n      prog_type = \"visual\";\n    }\n\n    return {\n      settingsProgrammingType: prog_type,\n      settingsDataTypes: content.settings_data_types,\n      settingsCommands: content.settings_commands,\n      settingsFunctions: content.settings_functions,\n      algorithmInIlm: content.algorithm_in_ilm,\n      settingsFilter: content.settings_filter,\n    };\n  });\n}\n\nfunction compareArray (a, b) {\n  for (let i = 0; i < a.length; ++i) {\n    const elementA = a[i];\n    const elementB = b[i];\n    if (elementA != elementB) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction compareTestcases (original, student) {\n  if (original.length != student.length) {\n    return false;\n  }\n  for (let i = 0; i < original.length; ++i) {\n    const elementO = original[i];\n    const elementS = student[i];\n    if (!compareArray(elementO.input, elementS.input)) {\n      return false;\n    }\n    if (!compareArray(elementO.output, elementS.output)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function autoEval (originalData, callback) {\n  const code = generate();\n  //console.debug(code);\n  const original = parseActivityData(originalData).getOrElse(undefined);\n  if (original == null) {\n    alert(\"iAssign did not provide the original activity data!\");\n    return callback(null);\n  }\n  if (code == null) {\n    return callback(-1); // @FeedbackConvention Casos de teste vazios\n  } else {\n    if (!compareTestcases(original.testcases, getTestCases())) {\n      return callback(-2); // @FeedbackConvention Casos de teste alterados pelo aluno\n    }\n    try {\n      const ast_code = SemanticAnalyser.analyseFromSource(code);\n      const con = new TestConsole([]);\n      const autoAssessment = new IVProgAssessment(\n        ast_code,\n        original.testcases,\n        con\n      );\n      autoAssessment\n        .runTest()\n        .then((grade) => callback(grade))\n        .catch((err) => {\n          console.log(err);\n          callback(-5); // @FeedbackConvention Falha na execução\n        });\n    } catch (e) {\n      console.error(e);\n      callback(-5);\n    }\n  }\n}\n","import { Input } from './../io/input';\nimport { LocalizedStrings } from '../services/localizedStringsService';\n\nexport class InputTest extends Input {\n\n  constructor (inputList) {\n    super();\n    this.index = 0;\n    this.inputList = inputList;\n  }\n\n  requestInput () {\n    const promise = new Promise( (resolve, reject) => {\n      if(this.index < this.inputList.length) {      \n        resolve(this.inputList[this.index]);\n        this.index++;\n      } else {\n        reject(new Error(LocalizedStrings.getError(\"exceeded_input_request\")));\n      }\n    });\n    return promise\n  }\n}","import { Input } from './../io/input';\nimport { LocalizedStrings } from '../services/localizedStringsService';\n\nexport class InputAssessment extends Input {\n\n  constructor (input_list) {\n    super();\n    this.index = 0;\n    this.input_list = input_list.map((val) => {\n      return {\"value\": val, \"read\": false};\n    });\n  }\n\n  requestInput () {\n    const promise = new Promise( (resolve, reject) => {\n      if(this.index < this.input_list.length) {\n        const input = this.input_list[this.index];\n        input.read = true;\n        this.index += 1;\n        resolve(input.value);\n      } else {\n        reject(new Error(LocalizedStrings.getError(\"exceeded_input_request\")));\n      }\n    });\n    return promise\n  }\n\n  isInputAvailable () {\n    return this.index < this.input_list.length;\n  }\n}","import { Output } from \"./../io/output\";\n\nexport class OutputTest extends Output {\n  constructor () {\n    super();\n    this.list = [];\n    this.currentLine = null;\n  }\n\n  write (text, newLine = false) {\n    if (this.currentLine == null) {\n      this.currentLine = this.list.push(\"\") - 1;\n    }\n\n    this.list[this.currentLine] += text;\n    if (newLine) {\n      this.currentLine = null;\n    }\n  }\n\n  sendOutput (text) {\n    const output = \"\" + text;\n    if (output.indexOf(\"\\n\") !== -1) {\n      const outputList = output.split(\"\\n\");\n      const last = outputList.pop();\n      outputList.forEach((t) => {\n        //t = t.replace(/\\t/g, '&#x0020;&#x0020;');\n        //t = t.replace(/\\s/g, \"&#x0020;\");\n        if (t.length == 0) this.currentLine = null;\n        else this.write(t, true);\n      });\n      //last = last.replace(/\\t/g, '&#x0020;&#x0020;');\n      //last = last.replace(/\\s/g, \"&#x0020;\");\n      if (last.length != 0) this.write(last);\n    } else {\n      //output = output.replace(/\\t/g, '&#x0020;&#x0020;');\n      //output = output.replace(/\\s/g, \"&#x0020;\");\n      this.write(output);\n    }\n  }\n}\n","import { IVProgParser } from \"../ast/ivprogParser\";\nimport * as Expressions from \"../ast/expressions\";\nimport { Types } from \"../typeSystem/types\";\nimport { convertBoolToString } from \"../typeSystem/parsers\";\nimport * as Commands from \"../ast/commands\";\nimport { ArrayType } from \"../typeSystem/array_type\";\nimport { Literal } from \"../ast/expressions/literal\";\n\nconst TYPES = {\n  VARIABLE: \"var\",\n  CONST: \"const\",\n  FUNCTION: \"function\",\n  RELATIONAL: \"relational\",\n  LOGIC: \"logic\",\n  ARITHMETIC: \"arithmetic\",\n};\n\nfunction translateOp (type, op) {\n  switch (type) {\n    case TYPES.ARITHMETIC:\n      return op.value;\n    case TYPES.RELATIONAL:\n      return op.value;\n    case TYPES.LOGIC: {\n      if (op.ord === 11) {\n        return \"and\";\n      } else if (op.ord === 12) {\n        return \"or\";\n      } else {\n        return \"not\";\n      }\n    }\n  }\n}\n\nfunction getOpType (op) {\n  switch (op.ord) {\n    case 0:\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n      return TYPES.ARITHMETIC;\n    case 5:\n    case 6:\n    case 7:\n    case 8:\n    case 9:\n    case 10:\n      return TYPES.RELATIONAL;\n    default:\n      return TYPES.LOGIC;\n  }\n}\n\n/**\n * @param {Commands.Case} switchCase\n * */\nfunction switchCaseWalker (switchCase) {\n  const commands = switchCase.commands.map(commandWalker);\n  const expression = switchCase.isDefault\n    ? null\n    : expressionWalker(switchCase.expression);\n  return {\n    type: \"switchcase\",\n    line: switchCase.sourceInfo.line,\n    expression,\n    commands,\n  };\n}\n\n/**\n * @param {Commands.Switch} switchCommand\n * */\nfunction switchWalker (switchCommand) {\n  const expression = expressionWalker(switchCommand.expression);\n  const cases = switchCommand.cases.map(switchCaseWalker);\n  return {\n    type: \"switch\",\n    expression,\n    cases,\n  };\n}\n\n/**\n * @param {Commands.Return} returnCommand\n * */\nfunction returnWalker (returnCommand) {\n  let expression = null;\n  if (returnCommand.expression !== null) {\n    expression = expressionWalker(returnCommand.expression);\n  }\n  return {\n    type: \"return\",\n    expression,\n  };\n}\n\nfunction breakWalker (_) {\n  return { type: \"break\" };\n}\n\n/**\n * @param {Commands.For} forLoop\n * */\nfunction forWalker (forLoop) {\n  const var_attribution = expressionWalker(forLoop.for_id);\n  const var_initial = expressionWalker(forLoop.for_from);\n  const condition = expressionWalker(forLoop.for_to);\n  const step_expression = forLoop.for_pass\n    ? expressionWalker(forLoop.for_pass)\n    : [];\n  const commands = forLoop.commands.map(commandWalker);\n  return {\n    type: \"repeatNtimes\",\n    var_attribution,\n    var_initial,\n    condition,\n    step_expression,\n    commands,\n  };\n}\n\n/**\n * @param {Commands.While} whileLoop\n * */\nfunction whileWalker (whileLoop) {\n  const expression = expressionWalker(whileLoop.expression);\n  const commands = whileLoop.commands.map(commandWalker);\n  let type = whileLoop.testFirst ? \"whiletrue\" : \"dowhiletrue\";\n  return {\n    type,\n    expression,\n    commands,\n  };\n}\n\n/**\n * @param {Commands.IfThenElse} ifthenelse\n * */\nfunction ifThenElseWalker (ifthenelse) {\n  //ifthenelse.\n  const expression = expressionWalker(ifthenelse.condition);\n  const ifTrue = ifthenelse.ifTrue.commands.map(commandWalker);\n  let ifFalse = [];\n  if (ifthenelse.ifFalse) {\n    if (ifthenelse.ifFalse instanceof Commands.CommandBlock) {\n      ifFalse = ifthenelse.ifFalse.commands.map(commandWalker);\n    } else {\n      ifFalse = [ifThenElseWalker(ifthenelse.ifFalse)];\n    }\n  }\n  return {\n    type: \"iftrue\",\n    expression,\n    ifTrue,\n    ifFalse,\n  };\n}\n\n/**\n * @param {Commands.Assign} assingment\n * */\nfunction assignmentWalker (assingment) {\n  let variable = null;\n  if (assingment instanceof Commands.ArrayIndexAssign) {\n    const line = expressionWalker(assingment.line);\n    let arrayClass = \"vector\";\n    let column = null;\n    if (assingment.column) {\n      arrayClass = \"matrix\";\n      column = expressionWalker(assingment.column);\n    }\n    variable = [\n      {\n        instance: \"expression\",\n        type: TYPES.VARIABLE,\n        class: arrayClass,\n        column: column,\n        line: line,\n        value: assingment.id,\n      },\n    ];\n  } else {\n    variable = [\n      { instance: \"expression\", type: TYPES.VARIABLE, value: assingment.id },\n    ];\n  }\n  const expression = expressionWalker(assingment.expression);\n  return {\n    type: \"attribution\",\n    variable,\n    expression,\n  };\n}\n\n/**\n * @param {Command} command\n * */\nfunction commandWalker (command) {\n  let parsedCommand = null;\n  if (command instanceof Commands.FunctionCall) {\n    parsedCommand = functionCallWalker(command);\n  } else if (command instanceof Commands.Assign) {\n    parsedCommand = assignmentWalker(command);\n  } else if (command instanceof Commands.IfThenElse) {\n    parsedCommand = ifThenElseWalker(command);\n  } else if (command instanceof Commands.While) {\n    parsedCommand = whileWalker(command);\n  } else if (command instanceof Commands.Break) {\n    parsedCommand = breakWalker(command);\n  } else if (command instanceof Commands.Return) {\n    parsedCommand = returnWalker(command);\n  } else if (command instanceof Commands.Switch) {\n    parsedCommand = switchWalker(command);\n  } else if (command instanceof Commands.For) {\n    parsedCommand = forWalker(command);\n  } else {\n    throw new Error(\"not implemented\");\n  }\n  parsedCommand.line = command.sourceInfo.line;\n  return parsedCommand;\n}\n\n/**\n * @param {Commands.FunctionCall} functionCall\n * */\nfunction functionCallWalker (functionCall) {\n  let name = functionCall.id;\n  if (name.indexOf(\".\") !== -1) {\n    name = name.split(\".\")[1];\n  }\n  const parameters = functionCall.actualParameters.map(expressionWalker);\n  if (name === \"$write\") {\n    const lastInput = parameters[parameters.length - 1][0];\n    // if lastInput is an object with value === '\\n', newLine is true\n    const newLine = lastInput.value && lastInput.value.match(/^\\n$/) !== null;\n    const content = newLine\n      ? parameters.slice(0, parameters.length - 1)\n      : parameters;\n    return {\n      type: \"writer\",\n      newLine,\n      content,\n    };\n  }\n  if (name === \"$read\") {\n    return {\n      type: \"reader\",\n      variable: parameters[0],\n    };\n  }\n  return {\n    type: \"functioncall\",\n    parameters_list: parameters,\n    name: functionCall.id,\n  };\n}\n/**\n * @param {Commands.Function} func\n * */\nfunction functionWalker (func) {\n  const funcDeclaration = {\n    name: func.name,\n    line: func.sourceInfo.line,\n    return_type: \"\",\n    return_dimensions: 0,\n    parameters_list: [],\n    variables_list: [],\n    commands: [],\n  };\n  if (func.returnType instanceof ArrayType) {\n    funcDeclaration.return_type = func.returnType.innerType.value;\n    funcDeclaration.return_dimensions = func.returnType.dimensions;\n  } else {\n    funcDeclaration.return_type = func.returnType.value;\n  }\n  funcDeclaration.parameters_list = func.formalParameters.map(\n    functionParameterWalker\n  );\n  funcDeclaration.variables_list = func.variablesDeclarations.map(\n    variableDeclarationWalker\n  );\n  funcDeclaration.commands = func.commands.map(commandWalker);\n  return funcDeclaration;\n}\n\n/**\n * @param {Commands.FormalParameter} formalParameter\n * */\nfunction functionParameterWalker (formalParameter) {\n  const variable = {\n    name: formalParameter.id,\n    line: formalParameter.sourceInfo.line,\n    type: \"\",\n    rows: 0,\n    columns: 0,\n    dimension: 0,\n    value: 0,\n    is_const: false,\n    reference: formalParameter.byRef,\n  };\n  if (formalParameter.type instanceof ArrayType) {\n    variable.type = formalParameter.type.innerType.value;\n    variable.dimension = formalParameter.type.dimensions;\n  } else {\n    variable.type = formalParameter.type.value;\n  }\n  return variable;\n}\n\n/**\n * @param {Commands.Declaration} command\n * @param {boolean} global\n * */\nfunction variableDeclarationWalker (command, global = false) {\n  const variable = {\n    name: command.id,\n    line: command.sourceInfo.line,\n    type: \"\",\n    rows: 0,\n    columns: 0,\n    dimension: 0,\n    value: 0,\n    is_const: false,\n  };\n  variable.is_const = global && command.isConst;\n  if (command instanceof Commands.ArrayDeclaration) {\n    // array\n    const lines = expressionWalker(command.lines).pop();\n    variable.type = command.type.innerType.value;\n    if (command.isVector) {\n      variable.columns = lines.value;\n      variable.dimension = 1;\n      const values = command.initial.value.map((exp) =>\n        variableInitialWalker(exp)\n      );\n      variable.value = values;\n    } else {\n      const columns = expressionWalker(command.columns).pop();\n      variable.dimension = 2;\n      variable.rows = lines.value;\n      variable.columns = columns.value;\n      const values = command.initial.value.map((rows) =>\n        rows.value.map((exp) => variableInitialWalker(exp))\n      );\n      variable.value = values;\n    }\n  } else {\n    // atomic\n    variable.type = command.type.value;\n    variable.value = variableInitialWalker(command.initial);\n  }\n  return variable;\n}\n\n/**\n * @param {any} expression\n * */\nfunction variableInitialWalker (expression) {\n  if (expression instanceof Expressions.UnaryApp) {\n    const left = variableInitialWalker(expression.left);\n    const opType = getOpType(expression.op);\n    if (opType !== TYPES.ARITHMETIC) {\n      throw new Error(\n        \"invalid variable initial value: \" + expression.toString()\n      );\n    }\n    return `${expression.op.value}${left}`;\n  } else if (expression instanceof Expressions.BoolLiteral) {\n    const value = expression.value;\n    return convertBoolToString(value);\n  } else if (expression instanceof Literal) {\n    let value = expression.value;\n    if (expression.value.toNumber) {\n      if (\n        Types.REAL.isCompatible(expression.type) &&\n        expression.value.decimalPlaces() == 0\n      ) {\n        value = Number(expression.value.toFixed(2));\n      } else {\n        value = expression.value.toNumber();\n      }\n    }\n    return value;\n  }\n  throw new Error(\"invalid variable initial value: \" + expression.toString());\n}\n\n/**\n *\n * @return {[]}\n **/\nfunction expressionWalker (expression) {\n  let result;\n  if (expression instanceof Expressions.VariableLiteral) {\n    result = [\n      { instance: \"expression\", type: TYPES.VARIABLE, value: expression.id },\n    ];\n  } else if (expression instanceof Expressions.FunctionCall) {\n    const funcObj = {\n      instance: \"expression\",\n      type: TYPES.FUNCTION,\n      value: expression.id,\n    };\n    const paramsList = expression.actualParameters.map((e) =>\n      expressionWalker(e)\n    );\n    //const params = Array.prototype.concat.apply([], paramsList);\n    funcObj.params = paramsList;\n    result = [funcObj];\n  } else if (expression instanceof Expressions.UnaryApp) {\n    const left = expressionWalker(expression.left);\n    const opType = getOpType(expression.op);\n    const opValue = translateOp(opType, expression.op);\n    result = [{ instance: \"operator\", type: opType, value: opValue }, ...left];\n  } else if (expression instanceof Expressions.InfixApp) {\n    const left = expressionWalker(expression.left);\n    const right = expressionWalker(expression.right);\n    const opType = getOpType(expression.op);\n    const opValue = translateOp(opType, expression.op);\n    result = [\n      ...left,\n      { instance: \"operator\", type: opType, value: opValue },\n      ...right,\n    ];\n  } else if (expression instanceof Expressions.ArrayAccess) {\n    const line = expressionWalker(expression.line);\n    let arrayClass = \"vector\";\n    let column = null;\n    if (expression.column) {\n      arrayClass = \"matrix\";\n      column = expressionWalker(expression.column);\n    }\n    result = [\n      {\n        instance: \"expression\",\n        type: TYPES.VARIABLE,\n        class: arrayClass,\n        column: column,\n        line: line,\n        value: expression.id,\n      },\n    ];\n  } else if (expression instanceof Expressions.BoolLiteral) {\n    const value = expression.value;\n    result = [\n      {\n        instance: \"expression\",\n        class: \"simple\",\n        type: TYPES.CONST,\n        value: convertBoolToString(value),\n      },\n    ];\n  } else {\n    let value = expression.value;\n    if (expression.value.toNumber) {\n      if (\n        Types.REAL.isCompatible(expression.type) &&\n        expression.value.decimalPlaces() == 0\n      ) {\n        value = Number(expression.value.toFixed(2));\n      } else {\n        value = expression.value.toNumber();\n      }\n    }\n    result = [\n      {\n        instance: \"expression\",\n        class: \"simple\",\n        type: TYPES.CONST,\n        value: value,\n      },\n    ];\n  }\n  if (expression.parenthesis) return [\"(\", ...result, \")\"];\n  else return result;\n}\n\nexport function parseExpression (text) {\n  const parser = IVProgParser.createParser(text);\n  const expressionAST = parser.parseExpressionOR();\n  return expressionWalker(expressionAST);\n}\n\n/**\n * @param {string} text\n * */\nexport function parseCode (text) {\n  const parser = IVProgParser.createParser(text, false);\n  const codeLinesMap = new Map();\n  const tokens = Array.from(parser.lexer.reset(text));\n  const tokenStream = [];\n  for (const token of tokens) {\n    if (token.type === parser.ruleNames.ERROR) {\n      return null;\n    }\n    if (token.type === parser.ruleNames.COMMENTS) {\n      for (let i = 0; i <= token.lineBreaks; i++) {\n        if (codeLinesMap.has(i + token.line))\n          codeLinesMap.get(i + token.line).push(token);\n        else codeLinesMap.set(i + token.line, [token]);\n      }\n      continue;\n    }\n    if (token.type !== parser.ruleNames.WHITESPACE) {\n      tokenStream.push(token);\n    }\n  }\n  parser.fill(tokenStream);\n  try {\n    const program = parser.parseTree();\n    const globals = program.global.map((decl) =>\n      variableDeclarationWalker(decl, true)\n    );\n    const functions = program.functions.map(functionWalker);\n    return { globals, functions };\n  } catch (e) {\n    console.error(e);\n    return null;\n  }\n}\n","/**\n * Author: @jhchen - https://github.com/jhchen\n * Modified by: @lucascalion - 23/07/2019\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nconst DIFF_DELETE = -1;\nconst DIFF_INSERT = 1;\nconst DIFF_EQUAL = 0;\n\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {Int|Object} [cursor_pos] Edit position in text1 or object with more info\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2, cursor_pos, _fix_unicode) {\n  // Check for equality\n  if (text1 === text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  if (cursor_pos != null) {\n    const editdiff = find_cursor_edit_diff(text1, text2, cursor_pos);\n    if (editdiff) {\n      return editdiff;\n    }\n  }\n\n  // Trim off common prefix (speedup).\n  let commonlength = diff_commonPrefix(text1, text2);\n  const commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  const commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  const diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs, _fix_unicode);\n  return diffs;\n}\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  let diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  const longtext = text1.length > text2.length ? text1 : text2;\n  const shorttext = text1.length > text2.length ? text2 : text1;\n  const i = longtext.indexOf(shorttext);\n  if (i !== -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [\n      [DIFF_INSERT, longtext.substring(0, i)],\n      [DIFF_EQUAL, shorttext],\n      [DIFF_INSERT, longtext.substring(i + shorttext.length)]\n    ];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length === 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n}\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  const text1_length = text1.length;\n  const text2_length = text2.length;\n  const max_d = Math.ceil((text1_length + text2_length) / 2);\n  const v_offset = max_d;\n  const v_length = 2 * max_d;\n  const v1 = new Array(v_length);\n  const v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  const delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  const front = (delta % 2 !== 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  let k1start = 0;\n  let k1end = 0;\n  let k2start = 0;\n  let k2end = 0;\n  for (let d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (let k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      const k1_offset = v_offset + k1;\n      let x1;\n      if (k1 === -d || (k1 !== d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      let y1 = x1 - k1;\n      while (\n        x1 < text1_length && y1 < text2_length &&\n        text1.charAt(x1) === text2.charAt(y1)\n      ) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        const k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] !== -1) {\n          // Mirror x2 onto top-left coordinate system.\n          const x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detfrontected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (let k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      const k2_offset = v_offset + k2;\n      let x2;\n      if (k2 === -d || (k2 !== d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      let y2 = x2 - k2;\n      while (\n        x2 < text1_length && y2 < text2_length &&\n        text1.charAt(text1_length - x2 - 1) === text2.charAt(text2_length - y2 - 1)\n      ) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        const k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] !== -1) {\n          const x1 = v1[k1_offset];\n          const y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n}\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  const text1a = text1.substring(0, x);\n  const text2a = text2.substring(0, y);\n  const text1b = text1.substring(x);\n  const text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  const diffs = diff_main(text1a, text2a);\n  const diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n}\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) !== text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  let pointermin = 0;\n  let pointermax = Math.min(text1.length, text2.length);\n  let pointermid = pointermax;\n  let pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (\n      text1.substring(pointerstart, pointermid) ==\n      text2.substring(pointerstart, pointermid)\n    ) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  if (is_surrogate_pair_start(text1.charCodeAt(pointermid - 1))) {\n    pointermid--;\n  }\n\n  return pointermid;\n}\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.slice(-1) !== text2.slice(-1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  let pointermin = 0;\n  let pointermax = Math.min(text1.length, text2.length);\n  let pointermid = pointermax;\n  let pointerend = 0;\n  while (pointermin < pointermid) {\n    if (\n      text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n      text2.substring(text2.length - pointermid, text2.length - pointerend)\n    ) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  if (is_surrogate_pair_end(text1.charCodeAt(text1.length - pointermid))) {\n    pointermid--;\n  }\n\n  return pointermid;\n}\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  const longtext = text1.length > text2.length ? text1 : text2;\n  const shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    const seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    let j = -1;\n    let best_common = '';\n    let best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) !== -1) {\n      const prefixLength = diff_commonPrefix(\n        longtext.substring(i), shorttext.substring(j));\n      const suffixLength = diff_commonSuffix(\n        longtext.substring(0, i), shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(\n          j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [\n        best_longtext_a, best_longtext_b,\n        best_shorttext_a, best_shorttext_b, best_common\n      ];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  const hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  const hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\n  let hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  let text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  const mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n}\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n * @param {boolean} fix_unicode Whether to normalize to a unicode-correct diff\n */\nfunction diff_cleanupMerge(diffs, fix_unicode) {\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\n  let pointer = 0;\n  let count_delete = 0;\n  let count_insert = 0;\n  let text_delete = '';\n  let text_insert = '';\n  let commonlength;\n  let previous_equality;\n  while (pointer < diffs.length) {\n    if (pointer < diffs.length - 1 && !diffs[pointer][1]) {\n      diffs.splice(pointer, 1);\n      continue;\n    }\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        previous_equality = pointer - count_insert - count_delete - 1;\n        if (fix_unicode) {\n          // prevent splitting of unicode surrogate pairs.  when fix_unicode is true,\n          // we assume that the old and new text in the diff are complete and correct\n          // unicode-encoded JS strings, but the tuple boundaries may fall between\n          // surrogate pairs.  we fix this by shaving off stray surrogates from the end\n          // of the previous equality and the beginning of this equality.  this may create\n          // empty equalities or a common prefix or suffix.  for example, if AB and AC are\n          // emojis, `[[0, 'A'], [-1, 'BA'], [0, 'C']]` would turn into deleting 'ABAC' and\n          // inserting 'AC', and then the common suffix 'AC' will be eliminated.  in this\n          // particular case, both equalities go away, we absorb any previous inequalities,\n          // and we keep scanning for the next equality before rewriting the tuples.\n          if (previous_equality >= 0 && ends_with_pair_start(diffs[previous_equality][1])) {\n            const stray = diffs[previous_equality][1].slice(-1);\n            diffs[previous_equality][1] = diffs[previous_equality][1].slice(0, -1);\n            text_delete = stray + text_delete;\n            text_insert = stray + text_insert;\n            if (!diffs[previous_equality][1]) {\n              // emptied out previous equality, so delete it and include previous delete/insert\n              diffs.splice(previous_equality, 1);\n              pointer--;\n              var k = previous_equality - 1;\n              if (diffs[k] && diffs[k][0] === DIFF_INSERT) {\n                count_insert++;\n                text_insert = diffs[k][1] + text_insert;\n                k--;\n              }\n              if (diffs[k] && diffs[k][0] === DIFF_DELETE) {\n                count_delete++;\n                text_delete = diffs[k][1] + text_delete;\n                k--;\n              }\n              previous_equality = k;\n            }\n          }\n          if (starts_with_pair_end(diffs[pointer][1])) {\n            const stray = diffs[pointer][1].charAt(0);\n            diffs[pointer][1] = diffs[pointer][1].slice(1);\n            text_delete += stray;\n            text_insert += stray;\n          }\n        }\n        if (pointer < diffs.length - 1 && !diffs[pointer][1]) {\n          // for empty equality not at end, wait for next equality\n          diffs.splice(pointer, 1);\n          break;\n        }\n        if (text_delete.length > 0 || text_insert.length > 0) {\n          // note that diff_commonPrefix and diff_commonSuffix are unicode-aware\n          if (text_delete.length > 0 && text_insert.length > 0) {\n            // Factor out any common prefixes.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if (previous_equality >= 0) {\n                diffs[previous_equality][1] += text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL, text_insert.substring(0, commonlength)]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixes.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] =\n                text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length - commonlength);\n              text_delete = text_delete.substring(0, text_delete.length - commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          const n = count_insert + count_delete;\n          if (text_delete.length === 0 && text_insert.length === 0) {\n            diffs.splice(pointer - n, n);\n            pointer = pointer - n;\n          } else if (text_delete.length === 0) {\n            diffs.splice(pointer - n, n, [DIFF_INSERT, text_insert]);\n            pointer = pointer - n + 1;\n          } else if (text_insert.length === 0) {\n            diffs.splice(pointer - n, n, [DIFF_DELETE, text_delete]);\n            pointer = pointer - n + 1;\n          } else {\n            diffs.splice(pointer - n, n, [DIFF_DELETE, text_delete], [DIFF_INSERT, text_insert]);\n            pointer = pointer - n + 2;\n          }\n        }\n        if (pointer !== 0 && diffs[pointer - 1][0] === DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  let changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] === DIFF_EQUAL &&\n      diffs[pointer + 1][0] === DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n        diffs[pointer - 1][1].length) === diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n          diffs[pointer][1].substring(0, diffs[pointer][1].length -\n            diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n        diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n          diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n          diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs, fix_unicode);\n  }\n}\n\nfunction is_surrogate_pair_start(charCode) {\n  return charCode >= 0xD800 && charCode <= 0xDBFF;\n}\n\nfunction is_surrogate_pair_end(charCode) {\n  return charCode >= 0xDC00 && charCode <= 0xDFFF;\n}\n\nfunction starts_with_pair_end(str) {\n  return is_surrogate_pair_end(str.charCodeAt(0));\n}\n\nfunction ends_with_pair_start(str) {\n  return is_surrogate_pair_start(str.charCodeAt(str.length - 1));\n}\n\nfunction remove_empty_tuples(tuples) {\n  const ret = [];\n  for (let i = 0; i < tuples.length; i++) {\n    if (tuples[i][1].length > 0) {\n      ret.push(tuples[i]);\n    }\n  }\n  return ret;\n}\n\nfunction make_edit_splice(before, oldMiddle, newMiddle, after) {\n  if (ends_with_pair_start(before) || starts_with_pair_end(after)) {\n    return null;\n  }\n  return remove_empty_tuples([\n    [DIFF_EQUAL, before],\n    [DIFF_DELETE, oldMiddle],\n    [DIFF_INSERT, newMiddle],\n    [DIFF_EQUAL, after]\n  ]);\n}\n\nfunction find_cursor_edit_diff(oldText, newText, cursor_pos) {\n  // note: this runs after equality check has ruled out exact equality\n  const oldRange = typeof cursor_pos === 'number' ?\n    { index: cursor_pos, length: 0 } : cursor_pos.oldRange;\n  const newRange = typeof cursor_pos === 'number' ?\n    null : cursor_pos.newRange;\n  // take into account the old and new selection to generate the best diff\n  // possible for a text edit.  for example, a text change from \"xxx\" to \"xx\"\n  // could be a delete or forwards-delete of any one of the x's, or the\n  // result of selecting two of the x's and typing \"x\".\n  const oldLength = oldText.length;\n  const newLength = newText.length;\n  if (oldRange.length === 0 && (newRange === null || newRange.length === 0)) {\n    // see if we have an insert or delete before or after cursor\n    const oldCursor = oldRange.index;\n    const oldBefore = oldText.slice(0, oldCursor);\n    const oldAfter = oldText.slice(oldCursor);\n    const maybeNewCursor = newRange ? newRange.index : null;\n    editBefore: {\n      // is this an insert or delete right before oldCursor?\n      const newCursor = oldCursor + newLength - oldLength;\n      if (maybeNewCursor !== null && maybeNewCursor !== newCursor) {\n        break editBefore;\n      }\n      if (newCursor < 0 || newCursor > newLength) {\n        break editBefore;\n      }\n      const newBefore = newText.slice(0, newCursor);\n      const newAfter = newText.slice(newCursor);\n      if (newAfter !== oldAfter) {\n        break editBefore;\n      }\n      const prefixLength = Math.min(oldCursor, newCursor);\n      const oldPrefix = oldBefore.slice(0, prefixLength);\n      const newPrefix = newBefore.slice(0, prefixLength);\n      if (oldPrefix !== newPrefix) {\n        break editBefore;\n      }\n      const oldMiddle = oldBefore.slice(prefixLength);\n      const newMiddle = newBefore.slice(prefixLength);\n      return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldAfter);\n    }\n    editAfter: {\n      // is this an insert or delete right after oldCursor?\n      if (maybeNewCursor !== null && maybeNewCursor !== oldCursor) {\n        break editAfter;\n      }\n      const cursor = oldCursor;\n      const newBefore = newText.slice(0, cursor);\n      const newAfter = newText.slice(cursor);\n      if (newBefore !== oldBefore) {\n        break editAfter;\n      }\n      const suffixLength = Math.min(oldLength - cursor, newLength - cursor);\n      const oldSuffix = oldAfter.slice(oldAfter.length - suffixLength);\n      const newSuffix = newAfter.slice(newAfter.length - suffixLength);\n      if (oldSuffix !== newSuffix) {\n        break editAfter;\n      }\n      const oldMiddle = oldAfter.slice(0, oldAfter.length - suffixLength);\n      const newMiddle = newAfter.slice(0, newAfter.length - suffixLength);\n      return make_edit_splice(oldBefore, oldMiddle, newMiddle, oldSuffix);\n    }\n  }\n  if (oldRange.length > 0 && newRange && newRange.length === 0) {\n    replaceRange: {\n      // see if diff could be a splice of the old selection range\n      const oldPrefix = oldText.slice(0, oldRange.index);\n      const oldSuffix = oldText.slice(oldRange.index + oldRange.length);\n      const prefixLength = oldPrefix.length;\n      const suffixLength = oldSuffix.length;\n      if (newLength < prefixLength + suffixLength) {\n        break replaceRange;\n      }\n      const newPrefix = newText.slice(0, prefixLength);\n      const newSuffix = newText.slice(newLength - suffixLength);\n      if (oldPrefix !== newPrefix || oldSuffix !== newSuffix) {\n        break replaceRange;\n      }\n      const oldMiddle = oldText.slice(prefixLength, oldLength - suffixLength);\n      const newMiddle = newText.slice(prefixLength, newLength - suffixLength);\n      return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldSuffix);\n    }\n  }\n\n  return null;\n}\n\nfunction diff(text1, text2, cursor_pos) {\n  // only pass fix_unicode=true at the top level, not when diff_main is\n  // recursively invoked\n  return diff_main(text1, text2, cursor_pos, true);\n}\n\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\nexport default diff;\n","import { DOMConsole } from \"../io/domConsole\";\nimport { getInstance } from \"../services/localizedStringsService\";\n\nconst LocalizedStrings = getInstance();\n\nexport class TestConsole {\n\n\n  constructor (inputList) {\n    this.index = 0;\n    this.inputList = inputList;\n    this.list = [];\n    this.currentLine = null;\n  }\n\n  writeRawHTML (text) {\n    this._appendTextLn(text);\n  }\n  write (text, newLine = false) {\n    this._appendText(text, DOMConsole.USER, newLine);\n  }\n\n  info (text) {\n    this._appendTextLn(text, DOMConsole.INFO);\n  }\n\n  err (text) {\n    this._appendTextLn(text, DOMConsole.ERR);\n  }\n\n  _appendText (text, _type, newLine = false) {\n    if (this.currentLine == null) {\n      this.currentLine = this.list.push('') - 1;\n    }\n\n    this.list[this.currentLine] += text;\n    if (newLine) {\n      this.currentLine = null;\n    }\n  }\n\n  _appendTextLn (text) {\n    this.list.push(text);\n    this.currentLine = null;\n  }\n\n  getClassForType (type) {\n    switch (type) {\n      case DOMConsole.USER:\n        return \"ivprog-term-userText\";\n      case DOMConsole.INFO:\n        return \"ivprog-term-info\";\n      case DOMConsole.ERR:\n        return \"ivprog-term-error\";\n    }\n  }\n\n  requestInput () {\n    const promise = new Promise( (resolve, reject) => {\n      if(this.index < this.inputList.length) {\n        resolve(this.inputList[this.index]);\n        this.index++;\n      } else {\n        reject(new Error(LocalizedStrings.getError(\"exceeded_input_request\")));\n      }\n    });\n    return promise\n  }\n\n  sendOutput (text) {\n    let output = '' + text;\n    if (output.indexOf('\\n') !== -1) {\n      const outputList = output.split('\\n');\n      let last = outputList.pop();\n      outputList.forEach( t => {\n        t = t.replace(/\\t/g, '&#x0020;&#x0020;');\n        t = t.replace(/\\s/g, \"&#x0020;\");\n        if (t.length == 0)\n          this.currentLine = null;\n        else\n          this.write(t, true);\n      });\n      last = last.replace(/\\t/g, '&#x0020;&#x0020;');\n      last = last.replace(/\\s/g, \"&#x0020;\");\n      if (last.length != 0)\n        this.write(last);\n    } else {\n      output = output.replace(/\\t/g, '&#x0020;&#x0020;');\n      output = output.replace(/\\s/g, \"&#x0020;\");\n      this.write(output);\n    }\n  }\n}\n","import { LanguageService } from \"./../services/languageService\";\nimport { LocalizedStrings } from \"./../services/localizedStringsService\";\nimport { Operators } from \"./../ast/operators\";\n\n/**\n * source: https://pawelgrzybek.com/page-scroll-in-vanilla-javascript/\n *\n */\nexport function scrollIt (\n  destination,\n  duration = 200,\n  easing = \"linear\",\n  callback = null\n) {\n  const easings = {\n    linear (t) {\n      return t;\n    },\n    easeInQuad (t) {\n      return t * t;\n    },\n    easeOutQuad (t) {\n      return t * (2 - t);\n    },\n    easeInOutQuad (t) {\n      return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    },\n    easeInCubic (t) {\n      return t * t * t;\n    },\n    easeOutCubic (t) {\n      return --t * t * t + 1;\n    },\n    easeInOutCubic (t) {\n      return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n    },\n    easeInQuart (t) {\n      return t * t * t * t;\n    },\n    easeOutQuart (t) {\n      return 1 - --t * t * t * t;\n    },\n    easeInOutQuart (t) {\n      return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n    },\n    easeInQuint (t) {\n      return t * t * t * t * t;\n    },\n    easeOutQuint (t) {\n      return 1 + --t * t * t * t * t;\n    },\n    easeInOutQuint (t) {\n      return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n    },\n  };\n\n  const start = window.pageYOffset;\n  const startTime =\n    \"now\" in window.performance ? performance.now() : new Date().getTime();\n\n  const documentHeight = Math.max(\n    document.body.scrollHeight,\n    document.body.offsetHeight,\n    document.documentElement.clientHeight,\n    document.documentElement.scrollHeight,\n    document.documentElement.offsetHeight\n  );\n  const windowHeight =\n    window.innerHeight ||\n    document.documentElement.clientHeight ||\n    document.getElementsByTagName(\"body\")[0].clientHeight;\n  const destinationOffset =\n    typeof destination === \"number\" ? destination : destination.offsetTop;\n  const destinationOffsetToScroll = Math.round(\n    documentHeight - destinationOffset < windowHeight\n      ? documentHeight - windowHeight\n      : destinationOffset\n  );\n\n  if (\"requestAnimationFrame\" in window === false) {\n    window.scroll(0, destinationOffsetToScroll);\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n\n  function scroll () {\n    const now =\n      \"now\" in window.performance ? performance.now() : new Date().getTime();\n    const time = Math.min(1, (now - startTime) / duration);\n    const timeFunction = easings[easing](time);\n    window.scroll(\n      0,\n      Math.ceil(timeFunction * (destinationOffsetToScroll - start) + start)\n    );\n\n    if (window.pageYOffset === destinationOffsetToScroll) {\n      if (callback) {\n        callback();\n      }\n      return;\n    }\n\n    requestAnimationFrame(scroll);\n  }\n\n  scroll();\n}\n\n/**\n *\n * source: https://stackoverflow.com/a/16270434\n */\nexport function isElementInViewport (el) {\n  const rect = el.getBoundingClientRect();\n\n  return (\n    rect.bottom > 0 &&\n    rect.right > 0 &&\n    rect.left < (window.innerWidth || document.documentElement.clientWidth) &&\n    rect.top < (window.innerHeight || document.documentElement.clientHeight)\n  );\n}\n\nlet cacheMainList = null;\nlet cacheOp = null;\n\nfunction fillCache () {\n  if (cacheMainList == null) {\n    cacheMainList = [];\n    const mainList = [\n      \"RK_PROGRAM\",\n      \"RK_REAL\",\n      \"RK_VOID\",\n      \"RK_BOOLEAN\",\n      \"RK_STRING\",\n      \"RK_INTEGER\",\n      \"RK_CHARACTER\",\n      \"RK_SWITCH\",\n      \"RK_CASE\",\n      \"RK_DEFAULT\",\n      \"RK_CONST\",\n      \"RK_FUNCTION\",\n      \"RK_RETURN\",\n      \"RK_FOR\",\n      \"RK_BREAK\",\n      \"RK_DO\",\n      \"RK_WHILE\",\n      \"RK_IF\",\n      \"RK_ELSE\",\n      \"RK_FALSE\",\n      \"RK_TRUE\",\n    ];\n    const lexer = LanguageService.getCurrentLexer();\n    const names = lexer.getReservedKeys();\n    for (let key = 0; key < mainList.length; ++key) {\n      const word = mainList[key];\n      const keyword = names[word];\n      cacheMainList.push(keyword);\n    }\n  }\n  if (cacheOp == null) {\n    cacheOp = [];\n    const logicOpList = [\n      Operators.AND.value,\n      Operators.OR.value,\n      Operators.NOT.value,\n    ];\n    for (let op = 0; op < logicOpList.length; ++op) {\n      const lOp = `logic_operator_${logicOpList[op]}`;\n      cacheOp.push(LocalizedStrings.getUI(lOp));\n    }\n  }\n}\n\nexport function isKeyword (text) {\n  fillCache();\n  for (let key = 0; key < cacheMainList.length; ++key) {\n    const keyword = cacheMainList[key];\n    if (keyword == text) {\n      return true;\n    }\n  }\n  // not in main list, check op\n  for (let op = 0; op < cacheOp.length; op++) {\n    const lOp = cacheOp[op];\n    if (lOp == text) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function isValidIdentifier (identifier_str) {\n  const validRegex = /^[a-zA-Z_][a-zA-Z0-9_]*$/.test(identifier_str);\n  return validRegex && !isKeyword(identifier_str)\n}\n\nexport function getCodeEditorModeConfig () {\n  const blockList = [\n    \"RK_SWITCH\",\n    \"RK_PROGRAM\",\n    \"RK_CASE\",\n    \"RK_DEFAULT\",\n    \"RK_FOR\",\n    \"RK_FOR_ALT\",\n    \"RK_FUNCTION\",\n    \"RK_DO\",\n    \"RK_WHILE\",\n    \"RK_WHILE_ALT\",\n    \"RK_IF\",\n    \"RK_ELSE\",\n  ];\n  const keywordsList = [\n    \"RK_CONST\",\n    \"RK_RETURN\",\n    \"RK_BREAK\",\n    \"RK_FOR_FROM\",\n    \"RK_FOR_TO\",\n    \"RK_FOR_PASS\",\n    \"RK_DO_UNTIL\",\n  ];\n  const typeList = [\n    \"RK_REAL\",\n    \"RK_VOID\",\n    \"RK_BOOLEAN\",\n    \"RK_STRING\",\n    \"RK_INTEGER\",\n    \"RK_CHARACTER\",\n  ];\n  const atomList = [\"RK_FALSE\", \"RK_TRUE\"];\n\n  const case_default = [];\n  const blocks = [];\n  const keywords = [];\n  const types = [];\n  const atoms = [];\n  let switchString = \"\";\n\n  cacheMainList = [];\n  const lexer = LanguageService.getCurrentLexer();\n  const names = lexer.getReservedKeys();\n  //console.debug(names);\n  blockList.forEach((v) => {\n    const keyword = names[v];\n    const value = keyword;\n    cacheMainList.push(value);\n    keywords.push(value);\n    blocks.push(value);\n    if (v == \"RK_SWITCH\") {\n      switchString = value;\n    } else if (v == \"RK_CASE\" || v == \"RK_DEFAULT\") {\n      case_default.push(value);\n    }\n  });\n  keywordsList.forEach((v) => {\n    const keyword = names[v];\n    const value = keyword;\n    cacheMainList.push(value);\n    keywords.push(value);\n  });\n  typeList.forEach((v) => {\n    const keyword = names[v];\n    const value = keyword;\n    cacheMainList.push(value);\n    types.push(value);\n  });\n  atomList.forEach((v) => {\n    const keyword = names[v];\n    const value = keyword;\n    cacheMainList.push(value);\n    atoms.push(value);\n  });\n\n  cacheOp = [];\n  const logicOpList = [\"NOT_OPERATOR\", \"OR_OPERATOR\", \"AND_OPERATOR\"];\n\n  logicOpList.forEach((v) => {\n    const keyword = names[v];\n    const value = keyword;\n    cacheOp.push(value);\n    keywords.push(value);\n  });\n  cacheMainList.push(lexer.getLangFuncs().main_function);\n  return {\n    case_default: case_default,\n    atoms: atoms,\n    keywords: keywords,\n    switchString: switchString,\n    types: types,\n    blocks: blocks,\n  };\n}\n\n/**\n * Source: https://gist.github.com/andrei-m/982927\n * @param {string} a\n * @param {string} b\n */\nexport function levenshteinDistance (a, b) {\n  if (a.length == 0) return b.length;\n  if (b.length == 0) return a.length;\n\n  const matrix = [];\n\n  // increment along the first column of each row\n  let i;\n  for (i = 0; i <= b.length; i++) {\n    matrix[i] = [i];\n  }\n\n  // increment each column in the first row\n  let j;\n  for (j = 0; j <= a.length; j++) {\n    matrix[0][j] = j;\n  }\n\n  // Fill in the rest of the matrix\n  for (i = 1; i <= b.length; i++) {\n    for (j = 1; j <= a.length; j++) {\n      if (b.charCodeAt(i - 1) == a.charCodeAt(j - 1)) {\n        matrix[i][j] = matrix[i - 1][j - 1];\n      } else {\n        matrix[i][j] = Math.min(\n          matrix[i - 1][j - 1] + 1, // substitution\n          Math.min(\n            matrix[i][j - 1] + 1, // insertion\n            matrix[i - 1][j] + 1\n          )\n        ); // deletion\n      }\n    }\n  }\n  return matrix[b.length][a.length];\n}\n\nlet win = null;\nexport function openAssessmentDetail (event) {\n  event.preventDefault();\n  const page_code = event.currentTarget.dataset.page;\n  if (win != null) {\n    win.close();\n  }\n  win = window.open(\"\", \"DetailWindow\", \"width=550,height=600\");\n  win.document.open();\n  win.document.write(page_code);\n  win.document.close();\n}\n\nexport function range (size, startAt = 0) {\n  return [...Array(size).keys()].map((i) => i + startAt);\n}\n\n/**\n *\n * @param {number} ms\n */\nexport async function sleep (ms) {\n  return new Promise((res, _) => setTimeout(res, ms));\n}\n","import * as GlobalsManagement from './globals';\nimport * as FunctionsManagement from './functions';\n\nwindow.block_render = false;\n\nexport function renderAlgorithm () {\n\tif (window.block_render) {\n\t\treturn;\n\t}\n\tif (window.draging) {\n\t\treturn;\n\t}\n\twindow.block_render = true;\n\n \t$('.all_functions').children().off();\n\t$('.all_functions').empty();\n\n\t$('.list_globals').children().off();\n\t$('.list_globals').empty();\t\n\n\tfor (var i = 0; i < window.program_obj.functions.length; i++) {\n\t\tFunctionsManagement.renderFunction(window.program_obj.functions[i]);\n\t}\n\n\tfor (var i = 0; i < window.program_obj.globals.length; i++) {\n\t\tGlobalsManagement.renderGlobal(window.program_obj.globals[i]);\n\t}\t\n\n\tsetTimeout(function(){ window.block_render = false; }, 100);\n\n\tif (settingsFilter && settingsFilter[0]) {\n      blockAllEditingOptions();\n\t\t} \n\t\n\t$('.command_drag').popup({\n    content : LocalizedStrings.getUI(\"text_move_command\"),\n    delay: {\n      show: 1000,\n      hide: 0\n    }\n  });\n\t\t\n}","// iVProg - www.usp.br/line/ivprog\n// LInE - Free Education, Private Data\n\n// eslint-disable @typescript-eslint/no-use-before-define\n// globals $\n\nimport { Types } from \"./types\";\nimport * as Models from \"./ivprog_elements\";\nimport { LocalizedStrings } from \"./../services/localizedStringsService\";\nimport * as Utils from \"./utils\";\n\n\n// Code to main function\nexport function generate () {\n  $(\".ivprog_visual_panel\").find(\".error_icon\").remove();\n\n  let code = LocalizedStrings.getUI(\"program\") + \" { \";\n  code += globalsCode();\n  code += \"\\n\";\n\n  let has_error = false;\n\n  for (let i = 0; i < window.program_obj.functions.length; i++) {\n    const n_code = functionsCode(window.program_obj.functions[i]);\n    if (n_code == null) {\n      has_error = true;\n      }\n    code += n_code;\n    code += \"\\n\";\n    }\n\n  code += \"\\n}\";\n\n  if (has_error) {\n    return null;\n  } else {\n    return code;\n    }\n  }\n\n\nfunction functionsCode (function_obj) {\n  let ret = \"\\n  \" + LocalizedStrings.getUI(\"function\") + \" \"; // not \\t - using fixed space to indentation\n\n  const has_error = false;\n\n  switch (function_obj.return_type) {\n    case Types.INTEGER:\n      ret += LocalizedStrings.getUI(\"type_integer\");\n      break;\n    case Types.REAL:\n      ret += LocalizedStrings.getUI(\"type_real\");\n      break;\n    case Types.TEXT:\n      ret += LocalizedStrings.getUI(\"type_text\");\n      break;\n    case Types.BOOLEAN:\n      ret += LocalizedStrings.getUI(\"type_boolean\");\n      break;\n    case Types.CHAR:\n      ret += LocalizedStrings.getUI(\"type_char\");\n      break;\n    case Types.VOID:\n      ret += LocalizedStrings.getUI(\"type_void\");\n      break;\n    }\n  ret += \" \";\n\n  if (function_obj.return_dimensions == 1) {\n    ret += \"[] \";\n  } else if (function_obj.return_dimensions == 2) {\n    ret += \"[][] \";\n    }\n  if (function_obj.is_main) {\n    ret += LocalizedStrings.getUI(\"start\");\n  } else {\n    ret += function_obj.name;\n    }\n  ret += \" (\"; // open parameter to function\n  for (let j = 0; j < function_obj.parameters_list.length; j++) {\n    ret += parametersCode(function_obj.parameters_list[j]);\n    if (j + 1 < function_obj.parameters_list.length) {\n      ret += \", \";\n      }\n    }\n  ret += \") {\"; // close parameters to function\n\n  for (let j = 0; j < function_obj.variables_list.length; j++) {\n    ret += variablesCode(function_obj.variables_list[j]);\n    }\n\n  for (let j = 0; j < function_obj.commands.length; j++) {\n    //D try {\n    ret += commandsCode(function_obj.commands[j]);\n    /* //D } catch (err) {\n      has_error = true; console.error(err.message); var todos = $('body').find('.command_container');\n      for (var i = 0; i < todos.length; i++) { if ($(todos[i]).data('command') == function_obj.commands[j]) {\n        $( todos[i] ).prepend(' <i class=\"ui icon red exclamation triangle error_icon\"></i> '); break;\n        } } }*/\n    }\n\n  ret += \"\\n  }\"; // close function - \"\\n\\t\" using fixed space to indentation\n\n  if (has_error) {\n    return null;\n  } else {\n    return ret;\n    }\n  }\n\n\nfunction commandsCode (command_obj, indentation = 2) {\n  switch (command_obj.type) {\n    case Models.COMMAND_TYPES.break:\n      return breaksCode(command_obj, indentation);\n    case Models.COMMAND_TYPES.comment:\n      return commentsCode(command_obj, indentation);\n    case Models.COMMAND_TYPES.reader:\n      return readersCode(command_obj, indentation);\n    case Models.COMMAND_TYPES.writer:\n      return writersCode(command_obj, indentation);\n    case Models.COMMAND_TYPES.functioncall:\n      return functioncallsCode(command_obj, indentation);\n    case Models.COMMAND_TYPES.attribution:\n      return attributionsCode(command_obj, indentation);\n    case Models.COMMAND_TYPES.whiletrue:\n      return whiletruesCode(command_obj, indentation);\n    case Models.COMMAND_TYPES.dowhiletrue:\n      return doWhilesCode(command_obj, indentation);\n    case Models.COMMAND_TYPES.iftrue:\n      return iftruesCode(command_obj, indentation);\n    case Models.COMMAND_TYPES.repeatNtimes:\n      return repeatNtimesCode(command_obj, indentation);\n    case Models.COMMAND_TYPES.switch:\n      return switchsCode(command_obj, indentation);\n    case Models.COMMAND_TYPES.return:\n      return returnsCode(command_obj, indentation);\n    }\n  }\n\n\nfunction returnsCode (command_obj, indentation) {\n  let ret = \"\\n\";\n\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += LocalizedStrings.getUI(\"text_return\");\n\n  if (command_obj.variable_value_menu) {\n    try {\n      ret += \" \" + elementExpressionCode(command_obj.variable_value_menu);\n      //ret += ' ' + variableValueMenuCode(command_obj.variable_value_menu, true);\n    } catch (err) {\n      //Empty block\n      }\n    }\n\n  return ret;\n  }\n\n\nfunction breaksCode (_command_obj, indentation) {\n  let ret = \"\\n\";\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" -  using fixed space to indentation\n    }\n  ret += LocalizedStrings.getUI(\"text_break\");\n  return ret;\n  }\n\n\n// Write Switch code\nfunction switchsCode (command_obj, indentation) {\n  let ret = \"\\n\";\n\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += LocalizedStrings.getUI(\"text_code_switch\") + \"(\";\n  ret += variableValueMenuCode(command_obj.variable);\n  ret += \") { \";\n\n  if (command_obj.cases) {\n    for (let i = 0; i < command_obj.cases.length; i++) {\n      ret += switchcasesCode(command_obj.cases[i], indentation + 1);\n      }\n    }\n\n  ret += \"\\n\";\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n  ret += \"} \";\n\n  return ret;\n  }\n\n\nfunction switchcasesCode (switchcase, indentation) {\n  let ret = \"\\n\";\n\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += LocalizedStrings.getUI(\"text_code_case\") + \" \";\n  ret += variableValueMenuCode(switchcase.variable_value_menu);\n  ret += \" :\";\n\n  if (switchcase.commands_block) {\n    for (let i = 0; i < switchcase.commands_block.length; i++) {\n      ret += commandsCode(switchcase.commands_block[i], indentation + 1);\n      }\n    }\n\n  return ret;\n  }\n\n\nexport function repeatNtimesHeader (command_obj) {\n  let ret = \"\";\n  if (command_obj.var_attribution) {\n    ret += '<span class=\"repeatN_text_par_1\">';\n    ret += variableValueMenuCode(command_obj.var_attribution);\n    ret += '</span>';\n    //leo ret += ` ${LocalizedStrings.getUI(\"text_code_for_from\")} `;\n    ret += ' ' + LocalizedStrings.getUI(\"text_code_for_from\") + ' ';\n    ret += '<span class=\"repeatN_text_par_2\">';\n    ret += variableValueMenuCode(command_obj.expression1);\n    ret += '</span>';\n    }\n  //D var ret1 = LocalizedStrings.getUI(\"text_code_for_from\") + ' ';\n  //D var ret2 = ` ${LocalizedStrings.getUI(\"text_code_for_from\")} `;\n  //D console.log(\"********** code_generator.js: repeatNtimesHeader(.): 1 ret=\" + ret1 + \"\\n\" + ret2 + \"\\n\"); //leo remover xxxxxxxxxxx\n\n  if (command_obj.expression2) {\n    //leo ret += ` ${LocalizedStrings.getUI(\"text_code_for_to\")} `;\n    ret += ' ' + LocalizedStrings.getUI(\"text_code_for_to\") + ' ';\n    ret += '<span class=\"repeatN_text_par_3\">';\n    ret += variableValueMenuCode(command_obj.expression2);\n    ret += '</span>';\n    }\n\n  if (command_obj.expression3) {\n    //leo ret += ` ${LocalizedStrings.getUI(\"text_code_for_pass\")} `;\n    ret += ' ' + LocalizedStrings.getUI(\"text_code_for_pass\") + ' ';\n    ret += '<span class=\"repeatN_text_par_4\">';\n    switch (command_obj.expression3.itens[1]) {\n      case Models.ARITHMETIC_TYPES.plus:\n        ret += \" +\";\n        break;\n      case Models.ARITHMETIC_TYPES.minus:\n        ret += \" -\";\n        break;\n      }\n    ret += variableValueMenuCode(command_obj.expression3.itens[2]);\n    ret += '</span>';\n    }\n  return ret;\n  }\n\n\nfunction repeatNtimesCode (command_obj, indentation) {\n  let ret = \"\\n\";\n\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += LocalizedStrings.getUI(\"text_for\") + \" \";\n\n  if (command_obj.var_attribution) {\n    ret += variableValueMenuCode(command_obj.var_attribution);\n    ret += ` ${LocalizedStrings.getUI(\"text_code_for_from\")} `;\n    ret += variableValueMenuCode(command_obj.expression1);\n    }\n\n  if (command_obj.expression2) {\n    ret += ` ${LocalizedStrings.getUI(\"text_code_for_to\")} `;\n    ret += variableValueMenuCode(command_obj.expression2);\n    }\n\n  if (command_obj.expression3) {\n    ret += ` ${LocalizedStrings.getUI(\"text_code_for_pass\")} `;\n    switch (command_obj.expression3.itens[1]) {\n      case Models.ARITHMETIC_TYPES.plus:\n        ret += \" +\";\n        break;\n      case Models.ARITHMETIC_TYPES.minus:\n        ret += \" -\";\n        break;\n      }\n    ret += variableValueMenuCode(command_obj.expression3.itens[2]);\n    }\n\n  ret += \" { \";\n\n  if (command_obj.commands_block) {\n    for (let i = 0; i < command_obj.commands_block.length; i++) {\n      ret += commandsCode(command_obj.commands_block[i], indentation + 1);\n      }\n    }\n\n  ret += \"\\n\";\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += \"}\";\n  return ret;\n  }\n\n\n// Write IfElse code\n// Whenever \"click\" to see \"textual code\"\nfunction iftruesCode (command_obj, indentation) {\n  let ret = \"\\n\";\n  //D console.log(\"code_generator.js!iftruesCode(.): \"); //leo\n\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += LocalizedStrings.getUI(\"text_if\");\n\n  if (!command_obj.expression) {\n    Utils.renderErrorMessage(command_obj.expression.dom_object, LocalizedStrings.getUI(\"inform_valid_expression\"));\n  } else {\n    ret += \"(\";\n    ret += elementExpressionCode(command_obj.expression);\n    ret += \")\";\n    }\n\n  /*switch (command_obj.expression.expression.type) {\n    case Models.EXPRESSION_TYPES.exp_logic: ret += logicExpressionCode(command_obj.expression.expression); break;\n    case Models.EXPRESSION_TYPES.exp_arithmetic: ret += arithmeticExpressionCode(command_obj.expression.expression); break;\n    }*/\n\n  ret += \" { \";\n\n  if (command_obj.commands_block) {\n    for (let i = 0; i < command_obj.commands_block.length; i++) {\n      ret += commandsCode(command_obj.commands_block[i], indentation + 1);\n      }\n    }\n\n  ret += \"\\n\";\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += \"} \" + LocalizedStrings.getUI(\"text_else\") + \" {\";\n\n  if (command_obj.commands_else) {\n    for (let i = 0; i < command_obj.commands_else.length; i++) {\n      ret += commandsCode(command_obj.commands_else[i], indentation + 1);\n      }\n    }\n\n  ret += \"\\n\";\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += \"}\";\n\n  return ret;\n  } // function iftruesCode(command_obj, indentation)\n\n\nfunction doWhilesCode (command_obj, indentation) {\n  let ret = \"\\n\";\n\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += LocalizedStrings.getUI(\"text_code_do\") + \" { \";\n\n  if (command_obj.commands_block) {\n    for (let i = 0; i < command_obj.commands_block.length; i++) {\n      ret += commandsCode(command_obj.commands_block[i], indentation + 1);\n      }\n    }\n\n  ret += \"\\n\";\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += \"} \" + LocalizedStrings.getUI(\"text_code_do_until\");\n\n  if (!command_obj.expression) {\n    Utils.renderErrorMessage(command_obj.expression.dom_object, LocalizedStrings.getUI(\"inform_valid_expression\"));\n    }\n\n  /*switch (command_obj.expression.expression.type) {\n    case Models.EXPRESSION_TYPES.exp_logic: ret += logicExpressionCode(command_obj.expression.expression); break;\n    case Models.EXPRESSION_TYPES.exp_arithmetic: ret += arithmeticExpressionCode(command_obj.expression.expression); break;\n    }*/\n\n  if (command_obj.expression) {\n    ret += \"(\";\n    ret += elementExpressionCode(command_obj.expression);\n    ret += \")\";\n    }\n\n  return ret;\n  } // function doWhilesCode(command_obj, indentation)\n\n\nfunction whiletruesCode (command_obj, indentation) {\n  let ret = \"\\n\";\n\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += LocalizedStrings.getUI(\"text_code_while\");\n\n  if (!command_obj.expression) {\n    Utils.renderErrorMessage(command_obj.expression.dom_object, LocalizedStrings.getUI(\"inform_valid_expression\"));\n    }\n\n  /*switch (command_obj.expression.expression.type) {\n    case Models.EXPRESSION_TYPES.exp_logic: ret += logicExpressionCode(command_obj.expression.expression); break;\n    case Models.EXPRESSION_TYPES.exp_arithmetic: ret += arithmeticExpressionCode(command_obj.expression.expression); break;\n    }*/\n  if (command_obj.expression) {\n    ret += \"(\";\n    ret += elementExpressionCode(command_obj.expression);\n    ret += \")\";\n    }\n\n  ret += \" { \";\n\n  if (command_obj.commands_block) {\n    for (let i = 0; i < command_obj.commands_block.length; i++) {\n      ret += commandsCode(command_obj.commands_block[i], indentation + 1);\n      }\n    }\n\n  ret += \"\\n\";\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += \"}\";\n\n  return ret;\n  } // function whiletruesCode(command_obj, indentation)\n\n\nfunction logicExpressionCode (expression) {\n  let ret = \"(\";\n\n  if (expression.first_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\n    ret += logicExpressionCode(expression.first_operand);\n  } else if (\n    expression.first_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic\n  ) {\n    ret += arithmeticExpressionCode(expression.first_operand);\n  } else {\n    ret += variableValueMenuCode(expression.first_operand);\n    }\n\n  if (expression.operator) {\n    switch (expression.operator) {\n      case Models.LOGIC_COMPARISON.equals_to:\n        ret += \" == \";\n        break;\n      case Models.LOGIC_COMPARISON.not_equals_to:\n        ret += \" != \";\n        break;\n      case Models.LOGIC_COMPARISON.and:\n        ret += \" && \";\n        break;\n      case Models.LOGIC_COMPARISON.or:\n        ret += \" || \";\n        break;\n      }\n\n    if (expression.second_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\n      ret += logicExpressionCode(expression.second_operand);\n    } else if (\n      expression.second_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic\n    ) {\n      ret += arithmeticExpressionCode(expression.second_operand);\n    } else {\n      ret += variableValueMenuCode(expression.second_operand);\n      }\n    }\n\n  ret += \")\";\n\n  return ret;\n  } // function logicExpressionCode(expression)\n\n\nfunction arithmeticExpressionCode (expression) {\n  let ret = \"(\";\n\n  if (expression.first_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\n    ret += logicExpressionCode(expression.first_operand);\n  } else if (\n    expression.first_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic\n  ) {\n    ret += arithmeticExpressionCode(expression.first_operand);\n  } else {\n    ret += variableValueMenuCode(expression.first_operand);\n    }\n\n  switch (expression.operator) {\n    case Models.ARITHMETIC_COMPARISON.greater_than:\n      ret += \" > \";\n      break;\n    case Models.ARITHMETIC_COMPARISON.less_than:\n      ret += \" < \";\n      break;\n    case Models.ARITHMETIC_COMPARISON.equals_to:\n      ret += \" == \";\n      break;\n    case Models.ARITHMETIC_COMPARISON.not_equals_to:\n      ret += \" != \";\n      break;\n    case Models.ARITHMETIC_COMPARISON.greater_than_or_equals_to:\n      ret += \" >= \";\n      break;\n    case Models.ARITHMETIC_COMPARISON.less_than_or_equals_to:\n      ret += \" <= \";\n      break;\n    }\n\n  if (expression.second_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\n    ret += logicExpressionCode(expression.second_operand);\n  } else if (\n    expression.second_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic\n  ) {\n    ret += arithmeticExpressionCode(expression.second_operand);\n  } else {\n    ret += variableValueMenuCode(expression.second_operand);\n    }\n\n  ret += \")\";\n\n  return ret;\n  } // function arithmeticExpressionCode(expression)\n\n\nfunction attributionsCode (command_obj, indentation) {\n  let ret = \"\\n\";\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n  ret += variableValueMenuCode(command_obj.variable) + \" <- \";\n  /*for (var i = 0; i < command_obj.expression.length; i++) { ret += elementExpressionCode(command_obj.expression[i]); }*/\n  ret += elementExpressionCode(command_obj.expression);\n  return ret;\n  }\n\n\nexport function elementExpressionCode (expression_obj) {\n  let ret = \"\";\n  for (let i = 0; i < expression_obj.length; i++) {\n    if (expression_obj[i].type) {\n      ret += variableValueMenuCode(expression_obj[i]);\n    } else if (expression_obj[i].type_op) {\n      switch (expression_obj[i].item) {\n        case Models.ARITHMETIC_TYPES.plus:\n          ret += \" + \";\n          break;\n        case Models.ARITHMETIC_TYPES.minus:\n          ret += \" - \";\n          break;\n        case Models.ARITHMETIC_TYPES.multiplication:\n          ret += \" * \";\n          break;\n        case Models.ARITHMETIC_TYPES.division:\n          ret += \" / \";\n          break;\n        case Models.ARITHMETIC_TYPES.module:\n          ret += \" % \";\n          break;\n        case Models.LOGIC_COMPARISON.equals_to:\n          ret += \" == \";\n          break;\n        case Models.LOGIC_COMPARISON.not_equals_to:\n          ret += \" != \";\n          break;\n        case Models.LOGIC_COMPARISON.and:\n          ret += \" \" + LocalizedStrings.getUI(\"logic_operator_and\") + \" \";\n          break;\n        case Models.LOGIC_COMPARISON.or:\n          ret += \" \" + LocalizedStrings.getUI(\"logic_operator_or\") + \" \";\n          break;\n        case Models.LOGIC_COMPARISON.not:\n          ret += \" \" + LocalizedStrings.getUI(\"logic_operator_not\") + \" \";\n          break;\n        case Models.ARITHMETIC_COMPARISON.greater_than:\n          ret += \" > \";\n          break;\n        case Models.ARITHMETIC_COMPARISON.less_than:\n          ret += \" < \";\n          break;\n        case Models.ARITHMETIC_COMPARISON.greater_than_or_equals_to:\n          ret += \" >= \";\n          break;\n        case Models.ARITHMETIC_COMPARISON.less_than_or_equals_to:\n          ret += \" <= \";\n          break;\n        case Models.EXPRESSION_TYPES.write_sep:\n          ret += ', \" \", ';\n          break;\n      }\n    } else {\n      ret += \" \" + expression_obj[i] + \" \";\n    }\n  }\n\n  return ret;\n} // export function elementExpressionCode(expression_obj)\n\n\nfunction functioncallsCode (command_obj, indentation) {\n  let ret = \"\\n\";\n\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n  }\n\n  ret += variableValueMenuCode(command_obj.function_called);\n\n  return ret;\n}\n\n\n// Presents \"write(.)\" command in iVProg graphical interface\nfunction readersCode (command_obj, indentation) {\n  let ret = \"\\n\";\n\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += LocalizedStrings.getUI(\"text_command_read\") + \"(\"; // open\n\n  ret += variableValueMenuCode(command_obj.variable_value_menu);\n\n  ret += \")\"; // close\n  return ret;\n  }\n\n\nexport function variableValueMenuCode (variable_obj, is_return = false) {\n  let ret = \"\";\n  try {\n    if (variable_obj.function_called) {\n      if (variable_obj.function_called.name) {\n        ret += variable_obj.function_called.name + \"(\"; // open\n      } else {\n        ret += LocalizedStrings.translateInternalFunction(variable_obj.function_called.identifier, variable_obj.function_called.category) + \"(\";\n        }\n\n      if (variable_obj.parameters_list) {\n        for (let i = 0; i < variable_obj.parameters_list.length; i++) {\n          ret += variableValueMenuCode(variable_obj.parameters_list[i]);\n          if (i + 1 < variable_obj.parameters_list.length) {\n            ret += \", \";\n            }\n          }\n        }\n\n      ret += \")\"; // close\n      //D console.log(\"********** code_generator.js: variableValueMenuCode(.): ret=\" + ret); //leo remover xxxxxxxxxxx\n    } else if (variable_obj.content.type) {\n      ret += variable_obj.content.name;\n\n      if (variable_obj.content.dimensions == 1 && variable_obj.dimensions != 1) {\n        ret += \"[\" + variableValueMenuCode(variable_obj.column) + \"]\"; // array\n        }\n\n      if (variable_obj.content.dimensions == 2 && variable_obj.dimensions != 2 && variable_obj.reference_dimensions == 1) {\n        ret += \"[\" + variableValueMenuCode(variable_obj.row) + \"]\"; // array\n      } else if (variable_obj.content.dimensions == 2 && variable_obj.dimensions != 2) {\n        ret += \"[\" + variableValueMenuCode(variable_obj.row) + \"]\"; // array\n        ret += \"[\" + variableValueMenuCode(variable_obj.column) + \"]\"; // array\n        }\n    } else {\n      const content = String(variable_obj.content);\n      if (isNaN(content)) {\n        // console.debug(\"Content length: \", content.length);\n        // console.debug(\"Char code at 0\", content.charCodeAt(0));\n        const isBackslash = content.charCodeAt(0) === 92;\n        if (content.length === 1 || (content.length === 2 && isBackslash)) {\n          ret += `'${content}'`;\n        } else {\n          ret += '\"' + variable_obj.content + '\"';\n        }\n      } else if (content.length == 0) {\n        ret += '\"\"';\n      } else if (content.trim().length == 0) {\n        ret += '\"' + content + '\"';\n      } else {\n        ret += variable_obj.content;\n        }\n      }\n  } catch (err) {\n    var str = variable_obj==null || variable_obj==undefined ? \"empty\" : variable_obj.content;\n    console.log(\"js/visualUI/code_generator.js!variableValueMenuCode(.): Error, variable_obj.content=\" + str);\n    if (!is_return) {\n      Utils.renderErrorMessage(variable_obj.dom_object, LocalizedStrings.getUI(\"inform_valid_content\"));\n      throw err;\n      }\n    }\n\n  return ret;\n  } // export function variableValueMenuCode(variable_obj, is_return = false)\n\n\n// Write to file command \"write(.)\"\nfunction writersCode (command_obj, indentation) {\n  let ret = \"\\n\";\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n  ret += LocalizedStrings.getUI(\"text_command_write\") + \"(\";\n  /*for (var i = 0; i < command_obj.content.length; i++) {\n      ret += variableValueMenuCode(command_obj.content[i]);\n      if ((i + 1) < command_obj.content.length) { ret += ' + ';}\n      }*/\n  ret += elementExpressionCode(command_obj.content);\n  if (command_obj.newline) {\n    ret += ', \"\\\\n\"';\n    }\n  ret += \") \";\n  return ret;\n  }\n\n\nfunction commentsCode (command_obj, indentation) {\n  let ret = \"\\n\";\n\n  for (let i = 0; i < indentation; i++) {\n    ret += \"  \"; // \"\\t\" - using fixed space to indentation\n    }\n\n  ret += \"// \";\n\n  ret += command_obj.comment_text.content;\n  return ret;\n  }\n\n\nfunction parametersCode (parameter_obj) {\n  let ret = \"\";\n  switch (parameter_obj.type) {\n    case Types.INTEGER:\n      ret += \" \" + LocalizedStrings.getUI(\"type_integer\") + \" \";\n      break;\n    case Types.REAL:\n      ret += \" \" + LocalizedStrings.getUI(\"type_real\") + \" \";\n      break;\n    case Types.TEXT:\n      ret += \" \" + LocalizedStrings.getUI(\"type_text\") + \" \";\n      break;\n    case Types.BOOLEAN:\n      ret += \" \" + LocalizedStrings.getUI(\"type_boolean\") + \" \";\n      break;\n    case Types.CHAR:\n      ret += \" \" + LocalizedStrings.getUI(\"type_char\") + \" \";\n      break;\n    }\n  if (parameter_obj.reference)\n    ret += \"&\";\n\n  ret += parameter_obj.name + \"\";\n\n  if (parameter_obj.dimensions == 1) {\n    ret += \" []\";\n  } else if (parameter_obj.dimensions == 2) {\n    ret += \" [][]\";\n    }\n  return ret;\n  }\n\n\n// Write variable declaration code\nfunction variablesCode (variable_obj) {\n  let ret = \"\";\n\n  const temp = variable_obj;\n\n  ret += \"\\n    \"; // \"\\n\\t\\n\" - using fixed space to indentation (adjust to the function indentation)\n\n  if (temp.is_constant) {\n    ret += \"const \";\n    }\n  switch (temp.type) {\n    case Types.INTEGER:\n      ret += LocalizedStrings.getUI(\"type_integer\") + \" \";\n      break;\n    case Types.REAL:\n      ret += LocalizedStrings.getUI(\"type_real\") + \" \";\n      break;\n    case Types.TEXT:\n      ret += LocalizedStrings.getUI(\"type_text\") + \" \";\n      break;\n    case Types.BOOLEAN:\n      ret += LocalizedStrings.getUI(\"type_boolean\") + \" \";\n      break;\n    case Types.CHAR:\n      ret += LocalizedStrings.getUI(\"type_char\") + \" \";\n      break;\n    }\n  ret += temp.name + \" \";\n  //D console.log(\"********** code_generator.js: variablesCode(.): ret=|\" + ret + \"|\"); //leo remover xxxxxxxxxxx\n\n  if (temp.dimensions == 1) {\n    ret += \"[\" + temp.columns + \"] \";\n\n    switch (temp.type) {\n      case Types.INTEGER:\n        ret += \"<- {\";\n        for (let j = 0; j < temp.value.length; j++) {\n          ret += temp.value[j];\n          if (j + 1 < temp.value.length) {\n            ret += \", \";\n            }\n          }\n        ret += \"}\";\n        break;\n      case Types.REAL:\n        ret += \"<- {\";\n        for (let j = 0; j < temp.value.length; j++) {\n          ret += parseFloat(temp.value[j]).toFixed(2);\n          if (j + 1 < temp.value.length) {\n            ret += \", \";\n            }\n          }\n        ret += \"}\";\n        break;\n      case Types.TEXT:\n        ret += \"<- {\";\n        for (let j = 0; j < temp.value.length; j++) {\n          ret += '\"' + temp.value[j] + '\"';\n          if (j + 1 < temp.value.length) {\n            ret += \", \";\n            }\n          }\n        ret += \"}\";\n        break;\n      case Types.BOOLEAN:\n        ret += \"<- {\";\n        for (let j = 0; j < temp.value.length; j++) {\n          if (temp.value[j]) {\n            ret += LocalizedStrings.getUI(\"logic_value_true\");\n          } else {\n            ret += LocalizedStrings.getUI(\"logic_value_false\");\n            }\n          if (j + 1 < temp.value.length) {\n            ret += \", \";\n            }\n          }\n        ret += \"}\";\n        break;\n      case Types.CHAR:\n        ret += \"<- {\";\n        for (let j = 0; j < temp.value.length; j++) {\n          ret += \"'\" + temp.value[j] + \"'\";\n          if (j + 1 < temp.value.length) {\n            ret += \", \";\n            }\n          }\n        ret += \"}\";\n        break;\n      }\n  } else if (temp.dimensions == 2) {\n    ret += \"[\" + temp.rows + \"][\" + temp.columns + \"] \";\n\n    switch (temp.type) {\n      case Types.INTEGER:\n        ret += \"<- {\";\n        for (let j = 0; j < temp.rows; j++) {\n          ret += \"{\";\n          for (let k = 0; k < temp.columns; k++) {\n            ret += temp.value[j][k];\n            if (k + 1 < temp.columns) {\n              ret += \", \";\n              }\n            }\n          ret += \"}\";\n          if (j + 1 < temp.rows) {\n            ret += \", \";\n            }\n          }\n        ret += \"}\";\n        break;\n      case Types.REAL:\n        ret += \"<- {\";\n        for (let j = 0; j < temp.rows; j++) {\n          ret += \"{\";\n          for (let k = 0; k < temp.columns; k++) {\n            ret += parseFloat(temp.value[j][k]).toFixed(2);\n            if (k + 1 < temp.columns) {\n              ret += \", \";\n              }\n            }\n          ret += \"}\";\n          if (j + 1 < temp.rows) {\n            ret += \", \";\n            }\n          }\n        ret += \"}\";\n        break;\n      case Types.TEXT:\n        ret += \"<- {\";\n        for (let j = 0; j < temp.rows; j++) {\n          ret += \"{\";\n          for (let k = 0; k < temp.columns; k++) {\n            ret += '\"' + temp.value[j][k] + '\"';\n            if (k + 1 < temp.columns) {\n              ret += \", \";\n              }\n            }\n          ret += \"}\";\n          if (j + 1 < temp.rows) {\n            ret += \", \";\n            }\n          }\n        ret += \"}\";\n        break;\n      case Types.BOOLEAN:\n        ret += \"<- {\";\n        for (let j = 0; j < temp.rows; j++) {\n          ret += \"{\";\n          for (let k = 0; k < temp.columns; k++) {\n            if (temp.value[j][k]) {\n              ret += LocalizedStrings.getUI(\"logic_value_true\");\n            } else {\n              ret += LocalizedStrings.getUI(\"logic_value_false\");\n              }\n            if (k + 1 < temp.columns) {\n              ret += \", \";\n              }\n            }\n          ret += \"}\";\n          if (j + 1 < temp.rows) {\n            ret += \", \";\n            }\n          }\n        ret += \"}\";\n        break;\n      case Types.CHAR:\n        ret += \"<- {\";\n        for (let j = 0; j < temp.rows; j++) {\n          ret += \"{\";\n          for (let k = 0; k < temp.columns; k++) {\n            ret += \"'\" + temp.value[j][k] + \"'\";\n            if (k + 1 < temp.columns) {\n              ret += \", \";\n              }\n            }\n          ret += \"}\";\n          if (j + 1 < temp.rows) {\n            ret += \", \";\n            }\n          }\n        ret += \"}\";\n        break;\n      }\n  } else {\n    switch (temp.type) {\n      case Types.INTEGER:\n        ret += \"<- \" + temp.value;\n        break;\n      case Types.REAL:\n        ret += \"<- \" + parseFloat(temp.value).toFixed(2);\n        break;\n      case Types.TEXT:\n        ret += '<- \"' + temp.value + '\"';\n        break;\n      case Types.BOOLEAN:\n        ret += \"<- \";\n        if (temp.value) {\n          ret += LocalizedStrings.getUI(\"logic_value_true\");\n        } else {\n          ret += LocalizedStrings.getUI(\"logic_value_false\");\n        }\n        break;\n      case Types.CHAR:\n        ret += \"<- '\" + temp.value + \"'\";\n        break;\n      }\n    }\n  return ret;\n  } // function variablesCode(variable_obj)\n\n\nfunction globalsCode () {\n  let ret = \"\";\n\n  if (window.program_obj.globals) {\n    for (let i = 0; i < window.program_obj.globals.length; i++) {\n      const temp = window.program_obj.globals[i];\n\n      ret += \"  \"; // \"\\t\" - using fixed space to indentation\n\n      if (temp.is_constant) {\n        ret += \"const \";  //TODO Internacionalizar - insert it in ./ivprog/i18n/ui.csv\n        }\n      switch (temp.type) {\n        case Types.INTEGER:\n          ret += LocalizedStrings.getUI(\"type_integer\");\n          break;\n        case Types.REAL:\n          ret += LocalizedStrings.getUI(\"type_real\");\n          break;\n        case Types.TEXT:\n          ret += LocalizedStrings.getUI(\"type_text\");\n          break;\n        case Types.BOOLEAN:\n          ret += LocalizedStrings.getUI(\"type_boolean\");\n          break;\n        case Types.CHAR:\n          ret += LocalizedStrings.getUI(\"type_char\");\n          break;\n        }\n      ret += \" \" + temp.name + \" \";\n\n      if (temp.dimensions == 1) {\n        ret += \"[\" + temp.columns + \"] \";\n        switch (temp.type) {\n          case Types.INTEGER:\n            ret += \"<- {\";\n            for (let j = 0; j < temp.value.length; j++) {\n              ret += temp.value[j];\n              if (j + 1 < temp.value.length) {\n                ret += \", \";\n                }\n              }\n            ret += \"}\";\n            break;\n          case Types.REAL:\n            ret += \"<- {\";\n            for (let j = 0; j < temp.value.length; j++) {\n              ret += parseFloat(temp.value[j]).toFixed(2);\n              if (j + 1 < temp.value.length) {\n                ret += \", \";\n                }\n              }\n            ret += \"}\";\n            break;\n          case Types.TEXT:\n            ret += \"<- {\";\n            for (let j = 0; j < temp.value.length; j++) {\n              ret += '\"' + temp.value[j] + '\"';\n              if (j + 1 < temp.value.length) {\n                ret += \", \";\n                }\n              }\n            ret += \"}\";\n            break;\n          case Types.BOOLEAN:\n            ret += \"<- {\";\n            for (let j = 0; j < temp.value.length; j++) {\n              if (temp.value[j]) {\n                ret += LocalizedStrings.getUI(\"logic_value_true\");\n              } else {\n                ret += LocalizedStrings.getUI(\"logic_value_false\");\n                }\n              if (j + 1 < temp.value.length) {\n                ret += \", \";\n                }\n              }\n            ret += \"}\";\n            break;\n          case Types.CHAR:\n            ret += \"<- {\";\n            for (let j = 0; j < temp.value.length; j++) {\n              ret += \"'\" + temp.value[j] + \"'\";\n              if (j + 1 < temp.value.length) {\n                ret += \", \";\n                }\n              }\n            ret += \"}\";\n            break;\n          }\n      } else if (temp.dimensions == 2) {\n        ret += \"[\" + temp.rows + \"][\" + temp.columns + \"] \";\n        switch (temp.type) {\n          case Types.INTEGER:\n            ret += \"<- {\";\n            for (let j = 0; j < temp.rows; j++) {\n              ret += \"{\";\n              for (let k = 0; k < temp.columns; k++) {\n                ret += temp.value[j][k];\n                if (k + 1 < temp.columns) {\n                  ret += \", \";\n                  }\n                }\n              ret += \"}\";\n              if (j + 1 < temp.rows) {\n                ret += \", \";\n                }\n              }\n            ret += \"}\";\n            break;\n          case Types.REAL:\n            ret += \"<- {\";\n            for (let j = 0; j < temp.rows; j++) {\n              ret += \"{\";\n              for (let k = 0; k < temp.columns; k++) {\n                ret += parseFloat(temp.value[j][k]).toFixed(2);\n                if (k + 1 < temp.columns) {\n                  ret += \", \";\n                  }\n                }\n              ret += \"}\";\n              if (j + 1 < temp.rows) {\n                ret += \", \";\n                }\n              }\n            ret += \"}\";\n            break;\n          case Types.TEXT:\n            ret += \"<- {\";\n            for (let j = 0; j < temp.rows; j++) {\n              ret += \"{\";\n              for (let k = 0; k < temp.columns; k++) {\n                ret += '\"' + temp.value[j][k] + '\"';\n                if (k + 1 < temp.columns) {\n                  ret += \", \";\n                  }\n                }\n              ret += \"}\";\n              if (j + 1 < temp.rows) {\n                ret += \", \";\n                }\n              }\n            ret += \"}\";\n            break;\n          case Types.BOOLEAN:\n            ret += \"<- {\";\n            for (let j = 0; j < temp.rows; j++) {\n              ret += \"{\";\n              for (let k = 0; k < temp.columns; k++) {\n                if (temp.value[j][k]) {\n                  ret += LocalizedStrings.getUI(\"logic_value_true\");\n                } else {\n                  ret += LocalizedStrings.getUI(\"logic_value_false\");\n                  }\n                if (k + 1 < temp.columns) {\n                  ret += \", \";\n                  }\n                }\n              ret += \"}\";\n              if (j + 1 < temp.rows) {\n                ret += \", \";\n                }\n              }\n            ret += \"}\";\n            break;\n          case Types.CHAR:\n            ret += \"<- {\";\n            for (let j = 0; j < temp.rows; j++) {\n              ret += \"{\";\n              for (let k = 0; k < temp.columns; k++) {\n                ret += \"'\" + temp.value[j][k] + \"'\";\n                if (k + 1 < temp.columns) {\n                  ret += \", \";\n                  }\n                }\n              ret += \"}\";\n              if (j + 1 < temp.rows) {\n                ret += \", \";\n                }\n              }\n            ret += \"}\";\n            break;\n          }\n      } else {\n        switch (temp.type) {\n          case Types.INTEGER:\n            ret += \"<- \" + temp.value;\n            break;\n          case Types.REAL:\n            ret += \"<- \" + parseFloat(temp.value).toFixed(2);\n            break;\n          case Types.TEXT:\n            ret += '<- \"' + temp.value + '\"';\n            break;\n          case Types.BOOLEAN:\n            ret += \"<- \";\n            if (temp.value) {\n              ret += LocalizedStrings.getUI(\"logic_value_true\");\n            } else {\n              ret += LocalizedStrings.getUI(\"logic_value_false\");\n              }\n            break;\n          case Types.CHAR:\n            ret += \"<- '\" + temp.value + \"'\";\n            break;\n          }\n        }\n      }\n    }\n\n  return ret;\n  } // function globalsCode()","import * as Models from './ivprog_elements';\nimport { LocalizedStrings } from './../services/localizedStringsService';\nimport * as CommentsManagement from './commands/comment';\nimport * as ReadersManagement from './commands/reader';\nimport * as WritersManagement from './commands/writer';\nimport * as AttributionsManagement from './commands/attribution';\nimport * as IftruesManagement from './commands/iftrue';\nimport * as RepeatNtimesManagement from './commands/repeatNtimes';\nimport * as WhiletruesManagement from './commands/whiletrue';\nimport * as DowhiletruesManagement from './commands/dowhiletrue';\nimport * as SwitchesManagement from './commands/switch';\nimport * as FunctioncallsManagement from './commands/functioncall';\nimport * as VariableValueMenuManagement from './commands/variable_value_menu';\nimport * as BreaksManagement from './commands/break';\nimport * as ReturnsManagement from './commands/return';\nimport { registerUserEvent, ActionTypes } from \"./../services/userLog\";\n\n// let has_element_created_draged = false;\n// let which_element_is_draged = null;\n\nexport function removeCommand (command, function_obj, dom_obj) {\n\n\tregisterUserEvent(function_obj.name, ActionTypes.REMOVE_COMMAND, command.type, '/', 0);\n\n\tif (function_obj.commands.indexOf(command) > -1) {\n\t\tfunction_obj.commands.splice(function_obj.commands.indexOf(command), 1);\n\t\treturn true;\n\t}\n\n\t// Utilize dois parantNode, pois o primeiro é o div de comandos\n\ttry {\n\t\tif (dom_obj.parent().parent().data('command').commands_block.indexOf(command) > -1) {\n\t\t\tdom_obj.parent().parent().data('command').commands_block.splice\n\t\t\t(dom_obj.parent().parent().data('command').commands_block.indexOf(command), 1);\n\t\t\treturn true;\n\t\t}\t\n\t} catch (err) {}\n\t\n\ttry {\n\t\tif (dom_obj.parent().parent().data('command').type == Models.COMMAND_TYPES.iftrue) {\n\t\t\tif (dom_obj.parent().parent().data('command').commands_else.indexOf(command) > -1) {\n\t\t\t\tdom_obj.parent().parent().data('command').commands_else.splice\n\t\t\t\t(dom_obj.parent().parent().data('command').commands_else.indexOf(command), 1);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t} catch (err) {}\n\n\tif (dom_obj.parent().data('switchcase')) {\n\t\tdom_obj.parent().data('switchcase').commands_block.splice(dom_obj.parent().data('switchcase').commands_block.indexOf(command), 1);\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nwindow.function_container_active = null;\n\nexport function createFloatingCommand (function_obj, function_container, command_type, mouse_event) {\n\n\tvar floatingObject;\n\n\tswitch (command_type) {\n\t\tcase Models.COMMAND_TYPES.break:\n\t\t\tfloatingObject = BreaksManagement.createFloatingCommand();\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.comment:\n\t\t\tfloatingObject = CommentsManagement.createFloatingCommand();\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.reader:\n\t\t\tfloatingObject = ReadersManagement.createFloatingCommand();\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.writer:\n\t\t\tfloatingObject = WritersManagement.createFloatingCommand();\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.attribution:\n\t\t\tfloatingObject = AttributionsManagement.createFloatingCommand();\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.iftrue:\n\t\t\tfloatingObject = IftruesManagement.createFloatingCommand();\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.repeatNtimes:\n\t\t\tfloatingObject = RepeatNtimesManagement.createFloatingCommand();\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.whiletrue:\n\t\t\tfloatingObject = WhiletruesManagement.createFloatingCommand();\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.dowhiletrue:\n\t\t\tfloatingObject = DowhiletruesManagement.createFloatingCommand();\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.switch:\n\t\t\tfloatingObject = SwitchesManagement.createFloatingCommand();\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.functioncall:\n\t\t\tfloatingObject = FunctioncallsManagement.createFloatingCommand();\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.return:\n\t\t\tfloatingObject = ReturnsManagement.createFloatingCommand();\n\t\t\tbreak;\n\t}\n\n\tfloatingObject.draggable().appendTo(\"body\");\n\n\t$('body').mouseup(function(evt) {\n\t  manageCommand(function_obj, function_container, evt, command_type);\n\t  $('body').off('mouseup');\n\t  $('body').off('mouseover');\n\t});\n\n\tif (!function_container.hasClass('function_div') || function_container.length < 1) {\n\t\twindow.mouse_event = mouse_event;\n\t\tfunction_container = $(mouse_event.originalEvent.srcElement.closest('.function_div'));\n\t}\n\n\tfunction_container_active = function_container;\n\n\tfunction_container.find('.commands_list_div').on('mousemove', function(evt) {\n\t  addGhostDiv(evt);\n\t});\n\tfunction_container.find('.commands_list_div').find(\"*\").on('mousemove', function(evt) {\n\t  addGhostDiv(evt);\n\t});\n\n\tfunction_container.on('mouseout', function(event) {\n\t\tvar el = $(document.elementFromPoint(event.clientX, event.clientY));\n\t\tif (el.closest('.commands_list_div').length < 1) {\n\t\t\twindow.ghostDiv.remove();\n\t\t}\n\t});\n\t\n\tfloatingObject.css(\"position\", \"absolute\");\n\tmouse_event.type = \"mousedown.draggable\";\n\tmouse_event.target = floatingObject[0];\n\tfloatingObject.css(\"left\", mouse_event.pageX - window.divx);\n\tfloatingObject.css(\"top\", mouse_event.pageY);\n\tfloatingObject.trigger(mouse_event);\n}\n\nwindow.divx = 100;\nwindow.ghostDiv = $('<div class=\"ghost_div\">');\nwindow.active_container = null;\n\nfunction addGhostToEmptyBlock (element, evt) {\n\n\t$('.ghost_div').remove();\n\n\tvar container = element.closest('.command_container');\n\n\tif (container.hasClass('switch')) {\n\t\tcontainer = $(evt.target).closest('.case_div');\t\t\n\t}\n\n\tif (!container.hasClass('dowhiletrue') && !container.hasClass('iftrue') && !container.hasClass('repeatNtimes') \n\t\t\t\t&& !container.hasClass('case_div') && !container.hasClass('whiletrue')) {\n\t\taddGhostToNotEmptyBlock(element, evt);\n\t\treturn;\n\t}\n\n\tif (window.active_container != null) {\n\t\tif (window.active_container.is(container)) {\n\t\t\t//console.log('é o mesmo, não mudou!');\n\t\t} else {\n\t\t\tif (container.length < 1) {\n\t\t\t\tcontainer = element.closest('.commands_list_div');\n\t\t\t\tif (window.active_container.is(container)) {\n\t\t\t\t\t//console.log('é o mesmo command list');\n\t\t\t\t} else {\n\t\t\t\t\t//console.log('mudou para um command list');\n\t\t\t\t\twindow.active_container = container;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//console.log('mudou para um outro container?');\n\t\t\t}\n\t\t}\n\t}\n\n\twindow.active_container = container;\n\tif (container.hasClass('iftrue')) {\n\t\tvar containerIf = container.find('.commands_if').get(0);\n\t\tvar containerElse = container.find('.commands_else').get(0);\n\t\tvar topIfDistance = Math.abs(evt.clientY - containerIf.getBoundingClientRect().top);\n\t\tvar bottomIfDistance = Math.abs(containerIf.getBoundingClientRect().top + containerIf.getBoundingClientRect().height - evt.clientY);\n\t\tvar topElseDistance = Math.abs(evt.clientY - containerElse.getBoundingClientRect().top);\n\t\tvar bottomElseDistance = Math.abs(containerElse.getBoundingClientRect().top + containerElse.getBoundingClientRect().height - evt.clientY);\n\n\t\tif (topIfDistance < topElseDistance && topIfDistance < bottomElseDistance) {\n\t\t\t$(containerIf).append(window.ghostDiv);\n\t\t} else {\n\t\t\t$(containerElse).append(window.ghostDiv);\n\t\t}\n\t} else if (container.hasClass('case_div')) {\n\t\tcontainer.find('.case_commands_block').append(window.ghostDiv);\n\t} else {\n\t\tcontainer.find('.block_commands').append(window.ghostDiv);\n\t}\n\t\n}\n\nfunction addGhostToNotEmptyBlock (element, evt) {\n\n\t$('.ghost_div').remove();\n\n\tvar container = element.closest('.dowhiletrue, .iftrue, .repeatNtimes, .case_div, .whiletrue');\n\n\t//console.log(\"\\n\\nNOT EMPTY: \", container);\n\n\t//if (window.active_container != null) {\n\t\t\n\t\t\n\t//}\n\n\tif (container.length < 1) {\n\t\tcontainer = element.closest('.commands_list_div');\n\t\twindow.active_container = container;\n\t\taddGhostToFunctionArea(element, evt);\n\t} else {\n\t\t//console.log('mudou para um outro container?');\n\t}\n\n\twindow.active_container = container;\n\n\t// quem está mais próximo? // Essa regra se aplica somente quando o over está sobre um comando\n\tvar allfilhos;\n\tif (container.hasClass('iftrue')) {\n\t\t\n\t\tif ($(evt.target).closest('.data_block_if').length > 0) {\n\t\t\tallfilhos = container.find('.commands_if').children('.command_container');\n\t\t} else if ($(evt.target).closest('.data_block_else').length > 0) {\n\t\t\tallfilhos = container.find('.commands_else').children('.command_container');\n\t\t} else {\n\n\t\t\tvar containerIf = container.find('.commands_if').get(0);\n\t\t\tvar containerElse = container.find('.commands_else').get(0);\n\t\t\tvar topIfDistance = Math.abs(evt.clientY - containerIf.getBoundingClientRect().top);\n\t\t\tvar bottomIfDistance = Math.abs(containerIf.getBoundingClientRect().top + containerIf.getBoundingClientRect().height - evt.clientY);\n\t\t\tvar topElseDistance = Math.abs(evt.clientY - containerElse.getBoundingClientRect().top);\n\t\t\tvar bottomElseDistance = Math.abs(containerElse.getBoundingClientRect().top + containerElse.getBoundingClientRect().height - evt.clientY);\n\n\t\t\tif (topIfDistance < topElseDistance && topIfDistance < bottomElseDistance) {\n\t\t\t\tallfilhos = $(containerIf).children('.command_container');\n\t\t\t} else {\n\t\t\t\tallfilhos = $(containerElse).children('.command_container');\n\t\t\t}\n\t\t}\n\t} else if (container.hasClass('case_div')) {\n\t\tallfilhos = container.children('.case_commands_block').children('.command_container');\n\t} else if (container.hasClass('commands_list_div')) {\n\t\tallfilhos = container.children('.command_container');\n\t} else {\n\t\tallfilhos = container.children('.block_commands').children('.command_container');\n\t}\n\n\tvar topDistances = [];\n\tvar bottomDistances = [];\n\n\tfor (var i = 0; i < allfilhos.length; i++) {\n\t\tvar topD = Math.abs(evt.clientY - allfilhos.get(i).getBoundingClientRect().top);\n\t\ttopDistances.push(topD);\n\t\tvar botD = Math.abs(allfilhos.get(i).getBoundingClientRect().top + allfilhos.get(i).getBoundingClientRect().height - evt.clientY);\n\t\tbottomDistances.push(botD);\n\t}\n\n\tvar menorTop = Math.min.apply(null, topDistances);\n\tvar indiceTop = topDistances.indexOf(menorTop);\n\n\tvar menorBot = Math.min.apply(null, bottomDistances);\n\tvar indiceBot = bottomDistances.indexOf(menorBot);\n\n\tif (menorTop < menorBot) {\n\t\twindow.ghostDiv.insertBefore($(allfilhos.get(indiceTop)));\n\t} else {\n\t\twindow.ghostDiv.insertAfter($(allfilhos.get(indiceBot)));\n\t}\n}\n\nfunction addGhostToFunctionArea (undermouse, evt) {\n\t$('.ghost_div').remove();\n\tvar allfilhos = undermouse.closest('.commands_list_div').children('.command_container');\n\n\tvar topDistances = [];\n\tvar bottomDistances = [];\n\n\tfor (var i = 0; i < allfilhos.length; i++) {\n\t\tvar topD = Math.abs(evt.clientY - allfilhos.get(i).getBoundingClientRect().top);\n\t\ttopDistances.push(topD);\n\t\tvar botD = Math.abs(allfilhos.get(i).getBoundingClientRect().top + allfilhos.get(i).getBoundingClientRect().height - evt.clientY);\n\t\tbottomDistances.push(botD);\n\t}\n\n\tvar menorTop = Math.min.apply(null, topDistances);\n\tvar indiceTop = topDistances.indexOf(menorTop);\n\n\tvar menorBot = Math.min.apply(null, bottomDistances);\n\tvar indiceBot = bottomDistances.indexOf(menorBot);\n\n\tif (menorTop < menorBot) {\n\t\twindow.ghostDiv.insertBefore($(allfilhos.get(indiceTop)));\n\t} else {\n\t\twindow.ghostDiv.insertAfter($(allfilhos.get(indiceBot)));\n\t}\n\n}\n\nfunction addGhostDiv (evt) {\n\n\tvar undermouse = $(evt.target);\n\n\tif (undermouse.hasClass('ghost_div')) {\n\t\treturn;\n\t} else if (undermouse.hasClass('commands_list_div')) {\n\t\taddGhostToFunctionArea(undermouse, evt);\n\t\treturn;\n\t} else if (undermouse.hasClass('block_commands')) {\n\t\tif (undermouse.find('.command_container').length > 0) {\n\t\t\taddGhostToNotEmptyBlock(undermouse, evt);\n\t\t} else {\n\t\t\taddGhostToEmptyBlock(undermouse, evt);\n\t\t}\n\t} else if (undermouse.hasClass('case_div')) {\n\t\tif (undermouse.find('.case_commands_block').find('.command_container').length > 0) {\n\t\t\taddGhostToNotEmptyBlock(undermouse, evt);\n\t\t} else {\n\t\t\taddGhostToEmptyBlock(undermouse, evt);\n\t\t}\n\t} else {\n\t\t\n\t\taddGhostToNotEmptyBlock(undermouse, evt);\n\t\t\n\t} \n}\n\nfunction borderMouseDragCommand (function_obj, function_container, evt) {\n\n\tfunction_container.find('.over_command_drag').each(function( index ) {\n\t\t$(this).removeClass('over_command_drag');\n\t});\n\n\tvar prev = null;\n\n\tfunction_container.find('.commands_list_div').each(function( index ) { \n\t\tprev = $(this);\n\t\tif (prev) {\n\t\t\tvar objLeft = prev.offset().left;\n\t        var objTop = prev.offset().top;\n\t        var objRight = objLeft + prev.width();\n\t        var objBottom = objTop + prev.height();\n\t        if (evt.pageX > objLeft && evt.pageX < objRight && evt.pageY > objTop && evt.pageY < objBottom) {\n\t        \tprev.addClass(\"over_command_drag\"); \n\t        }\n\t    }\n\t});\n\n\tfunction_container.find('.command_container').each(function( index ) { \n\t\tvar obj = $(this);\n\t\tvar objLeft = obj.offset().left;\n        var objTop = obj.offset().top;\n        var objRight = objLeft + obj.width();\n        var objBottom = objTop + obj.height();\n        if (evt.pageX > objLeft && evt.pageX < objRight && evt.pageY > objTop && evt.pageY < objBottom) {\n        \tif (prev) {\n        \t\tprev.removeClass('over_command_drag');\n        \t}\n        \tobj.addClass(\"over_command_drag\"); \n        \treturn;\n        }\n\t});\n}\n\n// before_after_inside: 1 -> before, 2 -> after, 3 -> inside\nexport function renderCommand (command, element_reference, before_after_inside, function_obj) {\n\tvar createdElement;\n\tswitch (command.type) {\n\t\tcase Models.COMMAND_TYPES.comment:\n\t\t\tcreatedElement = CommentsManagement.renderCommand(command, function_obj);\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.break:\n\t\t\tcreatedElement = BreaksManagement.renderCommand(command, function_obj);\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.reader:\n\t\t\tcreatedElement = ReadersManagement.renderCommand(command, function_obj);\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.writer:\n\t\t\tcreatedElement = WritersManagement.renderCommand(command, function_obj);\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.attribution:\n\t\t\tcreatedElement = AttributionsManagement.renderCommand(command, function_obj);\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.functioncall:\n\t\t\tcreatedElement = FunctioncallsManagement.renderCommand(command, function_obj);\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.iftrue:\n\t\t\tcreatedElement = IftruesManagement.renderCommand(command, function_obj);\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.repeatNtimes:\n\t\t\tcreatedElement = RepeatNtimesManagement.renderCommand(command, function_obj);\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.whiletrue:\n\t\t\tcreatedElement = WhiletruesManagement.renderCommand(command, function_obj);\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.dowhiletrue:\n\t\t\tcreatedElement = DowhiletruesManagement.renderCommand(command, function_obj);\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.switch:\n\t\t\tcreatedElement = SwitchesManagement.renderCommand(command, function_obj);\n\t\t\tbreak;\n\n\t\tcase Models.COMMAND_TYPES.return:\n\t\t\tcreatedElement = ReturnsManagement.renderCommand(command, function_obj);\n\t\t\tbreak;\n\t}\n\tswitch (before_after_inside) {\n\t\tcase 1:\n\t\t\tcreatedElement.insertBefore(element_reference);\n\t\t\tbreak;\n\n\t\tcase 2:\n\t\t\tcreatedElement.insertAfter(element_reference);\n\t\t\tbreak;\n\n\t\tcase 3: \n\t\t\telement_reference.append(createdElement);\n\t\t\tbreak;\n\t}\n\n}\n\nexport function genericCreateCommand (command_type) {\n\n\tswitch (command_type) {\n\n\t\tcase Models.COMMAND_TYPES.break:\n\t\t\treturn new Models.Break();\n\n\t\tcase Models.COMMAND_TYPES.comment:\n\t\t\treturn new Models.Comment(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_value, LocalizedStrings.getUI('text_comment'), null, null, false));\n\n\t\tcase Models.COMMAND_TYPES.reader:\n\t\t\treturn new Models.Reader(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_variable, null, null, null, false));\n\n\t\tcase Models.COMMAND_TYPES.writer:\n\t\t\treturn new Models.Writer([new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\n\n\t\tcase Models.COMMAND_TYPES.attribution:\n\t\t\treturn new Models.Attribution(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_variable, null, null, null, false), \n\t\t\t\t[]);\n \n\t\tcase Models.COMMAND_TYPES.functioncall:\n\t\t\treturn new Models.FunctionCall(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_function, null, null, null, false), null);\n\n\t\tcase Models.COMMAND_TYPES.iftrue:\n\t\t\treturn new Models.IfTrue([new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\n//(var_attribution, var_incrementation, expression1, expression2, expression3, commands_block)\n\t\tcase Models.COMMAND_TYPES.repeatNtimes:\n\t\t\treturn new Models.RepeatNTimes(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_variable, null, null, null, false), \n\t\t\t\t\t\t\t\t\t\t\tnew Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_variable, null, null, null, false),\n\t\t\t\t\t\t\t\t\t\t     null, new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true), null, null);\n\n\t\tcase Models.COMMAND_TYPES.whiletrue:\n\t\t\treturn new Models.WhileTrue([new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)], null);\n\n\t\tcase Models.COMMAND_TYPES.dowhiletrue:\n\t\t\treturn new Models.DoWhileTrue([new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)], null);\n\n\t\tcase Models.COMMAND_TYPES.switch:\n\n\t\t\tvar sc = [new Models.SwitchCase(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true))];\n\n\t\t\treturn new Models.Switch(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.variable_and_function, null, null, null, true), sc);\n\n\t\tcase Models.COMMAND_TYPES.return:\n\t\t\treturn new Models.Return([new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\n\t}\n}\n\nfunction dragTrash (event) {\n\n\t$('.ghost_div').remove();\n\n\tvar trash = $('<i class=\"ui icon trash alternate outline\"></i>');\n\t$('body').append(trash);\n\ttrash.css('position', 'absolute');\n\ttrash.css('top', event.clientY);\n\ttrash.css('left', event.clientX - 20);\n\ttrash.css('font-size', '3em');\n\ttrash.css('display', 'none');\n\n\tfunction_container_active.find('.commands_list_div').off('mousemove');\n\tfunction_container_active.find('.commands_list_div').find(\"*\").off('mousemove');\n\n\ttrash.fadeIn( 200, function() {\n\t\ttrash.fadeOut( 200, function() {\n\t\t\ttrash.remove();\n\t\t} );\n    });\n}\n\nfunction findSingleElement (searching, query) {\n\n\tif (!searching || !query) {\n\t\treturn '';\n\t}\n\n\tif (searching.type == Models.COMMAND_TYPES.repeatNtimes || \n\t\tsearching.type == Models.COMMAND_TYPES.whiletrue ||\n\t\tsearching.type == Models.COMMAND_TYPES.dowhiletrue) {\n\n\t\tif (searching.commands_block) {\n\t\t\treturn '' + searching.commands_block.indexOf(query);\n\t\t} else {\n\t\t\treturn '0';\n\t\t}\n\n\t} else if (searching.type == Models.COMMAND_TYPES.iftrue) {\n\n\t\tif (searching.commands_block == null) {\n\t\t\tsearching.commands_block = [];\n\t\t}\n\t\tif (searching.commands_else == null) {\n\t\t\tsearching.commands_else = [];\n\t\t}\n\n\t\tif (searching.commands_block.indexOf(query) >= 0) {\n\t\t\treturn 'if[' + searching.commands_block.indexOf(query) + ']';\n\t\t} else {\n\t\t\treturn 'else[' + searching.commands_else.indexOf(query) + ']';\n\t\t}\n\n\t} else if (searching.type == Models.COMMAND_TYPES.switch) {\n\n\t\tfor (var i = 0; i < searching.cases.length; i++) {\n\t\t\tif (searching.cases[i].commands_block.indexOf(query) >= 0) {\n\t\t\t\treturn 'case[' + searching.cases[i].commands_block.indexOf(query) + ']';\n\t\t\t}\n\t\t}\n\n\t}\n\n}\n\nfunction findPathRecursive (starter_index, hierarquia_bottom_up, function_obj, index_command = -1, actual = null) {\n\tvar full_path = '';\n\t\n\tfor (var i = 0; i <= hierarquia_bottom_up.length; i ++) {\n\t\tfull_path += findSingleElement(hierarquia_bottom_up[i], hierarquia_bottom_up[i + 1]) + '-';\n\t}\n\n\treturn full_path;\n}\n\nfunction manageCommand (function_obj, function_container, event, command_type) {\n\n\t$( \".created_element\" ).each(function( index ) { \n\t\t$(this).remove();\n\t});\n\n\tvar el = $(document.elementFromPoint(event.clientX, event.clientY));\n\n\tif (el.hasClass('ghost_div')) {\n\t\tif (el.closest('.command_container').length < 1) {\n\t\t\t\n\t\t\tel.closest('.commands_list_div').css('height', el.closest('.commands_list_div').css('height') + 30);\n\t\t\t\n\t\t\t//$('.ghost_div').remove();\n\n\t\t\tel = el.closest('.commands_list_div');\n\t\t}\n\t}\n\n\t// Primeiro verificar se ele soltou no espaço da função correta:\n\tvar hier = el.parentsUntil(\".all_functions\");\n\tvar esta_correto = false;\n\tvar esta_na_div_correta = false;\n\tif (el.hasClass(\"commands_list_div\")) {\n\t\testa_na_div_correta = true;\n\t} \n\tfor (var i = 0; i < hier.length; i++) {\n\t\tvar temp = $(hier[i]);\n\t\tif (temp.hasClass(\"commands_list_div\")) {\n\t\t\testa_na_div_correta = true;\n\t\t} \n\t\tif (temp.data('fun') == function_obj) {\n\t\t\testa_correto = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (!esta_correto) {\n\t\t// has_element_created_draged = false;\n\t\t// which_element_is_draged = null;\n\t\tdragTrash(event);\n\t\treturn;\n\t} else {\n\t\tif (!esta_na_div_correta) {\n\t\t\t// has_element_created_draged = false;\n\t\t\t// which_element_is_draged = null;\n\t\t\tdragTrash(event);\n\t\t\treturn;\n\t\t}\n\t}\n\tvar hierarquia_bottom_up = null;\n\t// Agora é descobrir qual o escopo para adicionar o comando:\n\t// Se o elemento clicado possuir o atributo \"fun\", então, é direto na div dos comandos:\n\tif (typeof el.data('fun') !== 'undefined') {\n\n\t\t// Se a lista de comandos estiver vazia, então é o primeiro.\n\t\t// Portanto, ele deve soltar o elemento obrigatoriamente no objeto vazio\n\t\tif ((el.data('fun').commands == null)  || (el.data('fun').commands.length == 0)) {\n\t\t\t\t// pode adicionar \n\t\t\t\tel.data('fun').commands = [];\n\n\t\t\t\tvar new_cmd = genericCreateCommand(command_type);\n\t\t\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/', 0);\n\n\t\t\t\tel.data('fun').commands.push(new_cmd);\n\n\t\t\t\trenderCommand(new_cmd, $(function_container).find('.commands_list_div'), 3, function_obj);\n\t\t\t\n\t\t} else { // Entra nesse else, caso já existam outros comandos no bloco:\n\n\t\t\tfindNearbyCommandToAddInFunctionScope(el, event, $(function_container).find('.commands_list_div'), function_obj, command_type);\n\t\t}\n\n\t} else {\n\t\t// descobrir em qual comando ele soltou: \n\t\tvar hier_find = el.parentsUntil(\".commands_list_div\");\n\t\thierarquia_bottom_up = [];\n\t\tif (typeof el.data('command') !== 'undefined') {\n\t\t\thierarquia_bottom_up.push(el.data('command'));\n\t\t}\n\t\tfor (var i = 0; i < hier_find.length; i++) {\n\t\t\tif (typeof $(hier_find[i]).data('command') !== 'undefined') {\n\t\t\t\thierarquia_bottom_up.push($(hier_find[i]).data('command'));\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Se for do tipo break, verificar se está no contexto correto: \n\t\t// Caso não esteja no contexto, apenas retorna sem dar continuidade:\n\t\tvar is_correct_context = false;\n\t\tif (command_type == Models.COMMAND_TYPES.break) {\n\t\t\tfor (var i = 0; i < hierarquia_bottom_up.length; i++) {\n\t\t\t\tif ((hierarquia_bottom_up[i].type == Models.COMMAND_TYPES.repeatNtimes)\n\t\t\t\t\t|| (hierarquia_bottom_up[i].type == Models.COMMAND_TYPES.whiletrue)\n\t\t\t\t\t|| (hierarquia_bottom_up[i].type == Models.COMMAND_TYPES.dowhiletrue)\n\t\t\t\t\t|| (hierarquia_bottom_up[i].type == Models.COMMAND_TYPES.switch)) {\n\n\t\t\t\t\tis_correct_context = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!is_correct_context) {\n\t\t\t\tconsole.error(\"Context not allowed to insert BREAK COMMAND!\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// se a hierarquia possuir apenas um elemento, então está na raiz dos comandos: \n\t\tif (hierarquia_bottom_up.length == 1) {\n\t\t\tvar sub_elemento = false;\n\t\t\tfor (var i = 0; i < hier_find.length; i++) {\n\t\t\t\tif (typeof $(hier_find[i]).data('command') !== 'undefined') {\n\t\t\t\t\tfindBeforeOrAfterCommandToAdd(hier_find[i], event, function_obj, command_type);\n\t\t\t\t\tsub_elemento = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!sub_elemento) {\n\t\t\t\tfindBeforeOrAfterCommandToAdd(el[0], event, function_obj, command_type);\n\t\t\t}\n\t\t} else {\n\t\t\t// caso exista mais de um elemento na hierarquia:\n\t\t\tif (typeof $(el).data('command') !== 'undefined') {\n\t\t\t\tinsertCommandInBlockHierar(el[0], event, function_obj, command_type, hier_find, hierarquia_bottom_up);\n\t\t\t} else {\n\t\t\t\tvar sub_elemento = false;\n\t\t\t\tfor (var i = 0; i < hier_find.length; i++) {\n\t\t\t\t\tif (typeof $(hier_find[i]).data('command') !== 'undefined') {\n\t\t\t\t\t\tinsertCommandInBlockHierar(hier_find[i], event, function_obj, command_type, hier_find, hierarquia_bottom_up);\n\t\t\t\t\t\tsub_elemento = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\t// has_element_created_draged = false;\n\t// which_element_is_draged = null;\n\n\tif (hierarquia_bottom_up) {\n\t\tvar i = hierarquia_bottom_up.length - 1;\n\t\tvar starter_index = window.program_obj.functions[window.program_obj.functions.indexOf(function_obj)].commands.indexOf(hierarquia_bottom_up[i]);\n\t\tvar all_str_path = starter_index + '-' + findPathRecursive(starter_index, hierarquia_bottom_up, function_obj);\n\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/' , all_str_path);\n\t}\n\n\trenderAlgorithm();\n}\n\nfunction insertCommandInBlockHierar (el, event, function_obj, command_type, hier_dom, hier_obj) {\n\tvar el_jq = $(el);\n\tvar command_parent = el_jq.data('command');\n\t\n\tif ((el_jq.data('command').type == Models.COMMAND_TYPES.repeatNtimes) ||\n\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.whiletrue)  ||\n\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.dowhiletrue) ||\n\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.switch) ) {\n\n\t\tif ((el_jq.data('command').type == Models.COMMAND_TYPES.repeatNtimes) ||\n\t\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.whiletrue)  ||\n\t\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.dowhiletrue) ) {\n\n\t\t\t// Se não tiver outro comando ainda no bloco, só adiciona: \n\t\t\tif (command_parent.commands_block == null || command_parent.commands_block.length == 0) {\n\t\t\t\tcommand_parent.commands_block = [];\n\n\t\t\t\tvar recentComand = genericCreateCommand(command_type);\n\t\t\t\tcommand_parent.commands_block.push(recentComand);\n\t\t\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/' + el_jq.data('command').type, 0);\n\n\t\t\t\trenderCommand(recentComand, el_jq.find('.block_commands'), 3, function_obj);\n\t\t\t} else { // Se já tem algum comando no bloco:\n\t\t\t\tfindNearbyCommandToAddInBlockScope(el, event, el, function_obj, command_type, command_parent);\n\t\t\t}\n\n\t\t} else {\n\t\t\t// QUANDO FOR BLOCO DO TIPO IF OU SWITCH/CASE:\n\t\t\taddCommandToSwitchCase(event, function_obj, command_type);\n\t\t}\n\n\t} else {\n\t\t// entra neste bloco, se soltou o comando sobre outro comando dentro de um subbloco:\n\t\tfindBeforeOrAfterCommandToAddInsertBlock(el, event, function_obj, command_type);\n\t}\n}\n\nfunction findNearbyCommandToAddInBlockScope (el, event, node_list_commands, function_obj, command_type, command_parent) {\n\n\tvar all_sub = $(node_list_commands).find('div.command_container');\n\n\tvar menor_distancia = 999999999;\n\tvar elemento_menor_distancia = null;\n\tvar antes = true;\n\n\tvar t_bot;\n\tvar t_top;\n\n\t// Descobrindo o elemento mais próximo:\n\tfor (var i = 0; i < all_sub.length; i++) {\n\t\n\t\tt_top = all_sub[i].getBoundingClientRect().top;\n\t\tt_bot = all_sub[i].getBoundingClientRect().top + all_sub[i].getBoundingClientRect().height;\n\n\t\tif ((t_top - event.clientY) < menor_distancia) {\n\t\t\tmenor_distancia = event.clientY - t_top;\n\t\t\telemento_menor_distancia = all_sub[i];\n\t\t}\n\t}\n\n\tvar borda_inferior = elemento_menor_distancia.parentNode.getBoundingClientRect().top + elemento_menor_distancia.parentNode.getBoundingClientRect().height;\n\t\n\t// Está mais próximo da borda de baixo, ou seja.. inserir por último:\n\tif ((borda_inferior - event.clientY) < menor_distancia) {\n\t\t\n\t\tvar recentComand = genericCreateCommand(command_type);\n\t\tcommand_parent.commands_block.push(recentComand);\n\t\t//\n\t\trenderCommand(recentComand, node_list_commands, 3, function_obj);\n\n\t} else {\n\n\t\tvar recentComand = genericCreateCommand(command_type);\n\n\t\tvar index = command_parent.commands_block.indexOf($(elemento_menor_distancia).data('command'));\n\n\t\tif (index > -1) {\n\t\t    command_parent.commands_block.splice(index, 0, recentComand);\n\t\t}\n\n\t\trenderCommand(recentComand, elemento_menor_distancia, 1, function_obj);\n\t}\n}\n\nfunction findBeforeOrAfterCommandToAddInsertBlock (el, event, function_obj, command_type) {\n\n\tvar el_jq = $(el);\n\tvar command_parent = $(el.parentNode.parentNode).data('command');\n\tvar command_target = el_jq.data('command');\n\tvar temp_parent = $(el.parentNode.parentNode);\n\n\tvar is_in_else = false;\n\n\tif (!command_parent) {\n\t\tcommand_parent = el_jq.data('command');\n\t\ttemp_parent = el_jq;\n\t\tvar hier = el_jq.parentsUntil(\".command_container\");\n\n\t\tfor (var i = 0; i < hier.length; i++) {\n\t\t\tvar temp = $(hier[i]);\n\t\t\tif (typeof temp.data('else') != 'undefined') {\n\t\t\t\tis_in_else = true;\n\t\t\t}\n\t\t\tif (typeof temp.data('command') != 'undefined') {\n\t\t\t\tcommand_parent = temp.data('command');\n\t\t\t\ttemp_parent = temp;\n\t\t\t}\n\t\t}\n\t}\n\n\n\tvar hier = el_jq.parentsUntil(\".command_container\");\n\tfor (var i = 0; i < hier.length; i++) {\n\t\tvar temp = $(hier[i]);\n\t\tif (typeof temp.data('else') != 'undefined') {\n\t\t\tis_in_else = true;\n\t\t}\n\t}\n\n\tif (command_parent == command_target) {\n\t\tvar hier = el_jq.parentsUntil(\".command_container\");\n\n\t\tfor (var i = 0; i < hier.length; i++) {\n\t\t\tvar temp = $(hier[i]);\n\t\t\tif (typeof temp.data('else') !== 'undefined') {\n\t\t\t\tis_in_else = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ((command_parent.type != Models.COMMAND_TYPES.iftrue) && (command_parent.type != Models.COMMAND_TYPES.switch)) {\n\t\tvar hier = temp_parent.parentsUntil(\".all_cases_div\");\n\t\tfor (var i = 0; i < hier.length; i++) {\n\t\t\tvar temp = $(hier[i]);\n\t\t\tif (typeof temp.data('switchcase') !== 'undefined') {\n\t\t\t\tcommand_parent = temp.data('switchcase');\n\t\t\t\tis_in_else = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar menor_distancia = 999999999;\n\tvar antes = true;\n\n\tvar t_bot;\n\tvar t_top;\n\n\tt_top = el.getBoundingClientRect().top;\n\tt_bot = el.getBoundingClientRect().top + el.getBoundingClientRect().height;\n\n\tvar d_top = event.clientY - t_top; // distancia topo\n\tvar d_bot = t_bot - event.clientY; // distancia baixo\n\n\t// Está mais próximo da borda de baixo, ou seja.. inserir por último:\n\n\tif (d_top < d_bot) {\n\t\t\n\t\tvar recentComand = genericCreateCommand(command_type);\n\n\t\tif (is_in_else) {\n\n\t\t\tif (command_parent == command_target) {\n\t\t\t\tif (command_parent.commands_else == null || command_parent.commands_else.length == 0) {\n\t\t\t\t\tcommand_parent.commands_else = [];\n\n\t\t\t\t\tvar recentComand = genericCreateCommand(command_type);\n\t\t\t\t\tcommand_parent.commands_else.push(recentComand);\n\n\t\t\t\t\trenderCommand(recentComand, el_jq, 3, function_obj);\n\t\t\t\t} else { // Se já tem algum comando no bloco:\n\t\t\t\t\tfindInBlockCorrectPlace(el_jq, event, function_obj, command_type, true);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar index = command_parent.commands_else.indexOf(command_target);\n\n\t\t\tif (index > -1) {\n\t\t\t    command_parent.commands_else.splice(index, 0, recentComand);\n\t\t\t}\n\n\t\t\trenderCommand(recentComand, el, 1, function_obj);\n\t\t} else {\n\t\t\tif (command_parent == command_target) {\n\t\t\t\tif (command_parent.commands_block == null || command_parent.commands_block.length == 0) {\n\t\t\t\t\tcommand_parent.commands_block = [];\n\t\t\t\t\tvar recentComand = genericCreateCommand(command_type);\n\t\t\t\t\tcommand_parent.commands_block.push(recentComand);\n\n\t\t\t\t\trenderCommand(recentComand, el_jq, 3, function_obj);\n\t\t\t\t} else {\n\t\t\t\t\tfindInBlockCorrectPlace(el_jq, event, function_obj, command_type);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar index = command_parent.commands_block.indexOf(command_target);\n\n\t\t\tif (index > -1) {\n\t\t\t    command_parent.commands_block.splice(index, 0, recentComand);\n\t\t\t}\n\n\t\t\trenderCommand(recentComand, el, 1, function_obj);\n\t\t}\n\n\t\t\n\n\t} else {\n\t\tvar recentComand = genericCreateCommand(command_type);\n\n\t\tif (is_in_else) {\n\n\t\t\tif (command_parent == command_target) {\n\t\t\t\tif (command_parent.commands_else == null || command_parent.commands_else.length == 0) {\n\t\t\t\t\tcommand_parent.commands_else = [];\n\t\t\t\t\tvar recentComand = genericCreateCommand(command_type);\n\t\t\t\t\tcommand_parent.commands_else.push(recentComand);\n\n\t\t\t\t\trenderCommand(recentComand, el_jq, 3, function_obj);\n\t\t\t\t} else { // Se já tem algum comando no bloco:\n\t\t\t\t\tfindInBlockCorrectPlace(el_jq, event, function_obj, command_type, true);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar index = command_parent.commands_else.indexOf(command_target);\n\n\t\t\tif (index > -1) {\n\t\t\t    command_parent.commands_else.splice((index + 1), 0, recentComand);\n\t\t\t}\n\n\t\t\trenderCommand(recentComand, el, 2, function_obj);\n\n\t\t} else {\n\n\t\t\tif (command_parent == command_target) {\n\t\t\t\tif (command_parent.commands_block == null || command_parent.commands_block.length == 0) {\n\t\t\t\t\tcommand_parent.commands_block = [];\n\n\t\t\t\t\tvar recentComand = genericCreateCommand(command_type);\n\t\t\t\t\tcommand_parent.commands_block.push(recentComand);\n\t\t\t\t\trenderCommand(recentComand, el_jq, 3, function_obj);\n\t\t\t\t} else {\n\t\t\t\t\tfindInBlockCorrectPlace(el_jq, event, function_obj, command_type);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar index = command_parent.commands_block.indexOf(command_target);\n\n\t\t\tif (index > -1) {\n\t\t\t    command_parent.commands_block.splice((index + 1), 0, recentComand);\n\t\t\t}\n\n\t\t\trenderCommand(recentComand, el, 2, function_obj);\n\t\t}\n\n\t\t\n\t}\n}\n\nfunction insertCommandInBlock (el, event, function_obj, command_type) {\n\tvar el_jq = $(el);\n\tvar command_parent = el_jq.data('command');\n\n\tif ((el_jq.data('command').type == Models.COMMAND_TYPES.repeatNtimes) ||\n\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.whiletrue)  ||\n\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.dowhiletrue) ) {\n\n\t\t// Se não tiver outro comando ainda no bloco, só adiciona: \n\t\tif (command_parent.commands_block == null || command_parent.commands_block.length == 0) {\n\t\t\tcommand_parent.commands_block = [];\n\n\t\t\tvar recentComand = genericCreateCommand(command_type);\n\t\t\tcommand_parent.commands_block.push(recentComand);\n\n\t\t\trenderCommand(recentComand, el_jq.find('.block_commands'), 3, function_obj);\n\t\t} else { // Se já tem algum comando no bloco:\n\t\t\tfindInBlockCorrectPlace(el, event, function_obj, command_type);\n\t\t}\n\n\t} else if (el_jq.data('command').type == Models.COMMAND_TYPES.iftrue) {\n\n\t\t// no if ou no else?\n\t\tvar correct_div = $(document.elementFromPoint(event.pageX, event.pageY));\n\t\tvar is_in_if = true;\n\t\tif (correct_div.data('if')) {\n\t\t\tis_in_if = true;\n\t\t} else if (correct_div.data('else')) {\n\t\t\tis_in_if = false;\n\t\t} else {\n\t\t\tvar hier = correct_div.parentsUntil(\".command_container\");\n\t\t\tfor (var i = 0; i < hier.length; i++) {\n\t\t\t\tvar temp = $(hier[i]);\n\t\t\t\tif (typeof temp.data('if') !== 'undefined') {\n\t\t\t\t\tis_in_if = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (typeof temp.data('else') !== 'undefined') {\n\t\t\t\t\tis_in_if = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (is_in_if) {\n\t\t\tif (command_parent.commands_block == null || command_parent.commands_block.length == 0) {\n\t\t\t\tcommand_parent.commands_block = [];\n\n\t\t\t\tvar recentComand = genericCreateCommand(command_type);\n\t\t\t\tcommand_parent.commands_block.push(recentComand);\n\n\t\t\t\trenderCommand(recentComand, el_jq.find('.commands_if'), 3, function_obj);\n\t\t\t} else { // Se já tem algum comando no bloco:\n\t\t\t\tfindInBlockCorrectPlace(el_jq.find('.commands_if'), event, function_obj, command_type);\n\t\t\t}\n\n\t\t} else {\n\t\t\tif (command_parent.commands_else == null || command_parent.commands_else.length == 0) {\n\t\t\t\tcommand_parent.commands_else = [];\n\n\t\t\t\tvar recentComand = genericCreateCommand(command_type);\n\t\t\t\tcommand_parent.commands_else.push(recentComand);\n\n\t\t\t\trenderCommand(recentComand, el_jq.find('.commands_else'), 3, function_obj);\n\t\t\t} else { // Se já tem algum comando no bloco:\n\t\t\t\tfindInBlockCorrectPlace(el_jq.find('.commands_else'), event, function_obj, command_type, true);\n\t\t\t}\n\n\t\t}\n\n\t} else { // é do tipo switch\n\t\taddCommandToSwitchCase(event, function_obj, command_type);\n\t}\n}\n\nfunction addCommandToSwitchCase (event, function_obj, command_type) {\n\n\tvar el = $(document.elementFromPoint(event.clientX, event.clientY));\n\n\tvar which_case = el.data('switchcase');\n\tvar case_div = el;\n\t\n\tif (!which_case) {\n\t\tvar hier_find = el.parentsUntil(\".all_cases_div\");\n\t\tfor (var i = 0; i < hier_find.length; i++) {\n\t\t\tif (typeof $(hier_find[i]).data('switchcase') !== 'undefined') {\n\t\t\t\twhich_case = $(hier_find[i]).data('switchcase');\n\t\t\t\tcase_div = $(hier_find[i]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (which_case.commands_block == null || which_case.commands_block.length < 1) {\n\t\twhich_case.commands_block = [];\n\n\t\tvar recentComand = genericCreateCommand(command_type);\n\t\twhich_case.commands_block.push(recentComand);\n\t\trenderCommand(recentComand, case_div.find('.case_commands_block'), 3, function_obj);\n\t} else {\n\t\tfindInBlockCorrectPlaceInSwitchCase(which_case, case_div, event, function_obj, command_type);\n\t}\n\n}\n\n\n\n\nfunction findInBlockCorrectPlaceInSwitchCase (which_case, case_div, event, function_obj, command_type) {\n\n\tvar all_sub = case_div.find('div.command_container');\n\n\tvar menor_distancia = 999999999;\n\tvar elemento_menor_distancia = null;\n\tvar antes = true;\n\n\tvar t_bot;\n\tvar t_top;\n\n\t// Descobrindo o elemento mais próximo:\n\tfor (var i = 0; i < all_sub.length; i++) {\n\t\n\t\tt_top = all_sub[i].getBoundingClientRect().top;\n\t\tt_bot = all_sub[i].getBoundingClientRect().top + all_sub[i].getBoundingClientRect().height;\n\n\t\tif ((t_top - event.clientY) < menor_distancia) {\n\t\t\tmenor_distancia = event.clientY - t_top;\n\t\t\telemento_menor_distancia = all_sub[i];\n\t\t}\n\t}\n\n\tvar borda_inferior = elemento_menor_distancia.parentNode.getBoundingClientRect().top + elemento_menor_distancia.parentNode.getBoundingClientRect().height;\n\t\n\t// Está mais próximo da borda de baixo, ou seja.. inserir por último:\n\tif ((borda_inferior - event.clientY) < menor_distancia) {\n\t\tvar recentComand = genericCreateCommand(command_type);\n\n\t\twhich_case.commands_block.push(recentComand);\n\n\t\trenderCommand(recentComand, $(case_div.find('.case_commands_block')[0]), 3, function_obj);\n\n\t} else {\n\n\t\tvar recentComand = genericCreateCommand(command_type);\n\n\t\tvar index = which_case.commands_block.indexOf($(elemento_menor_distancia).data('command'));\n\n\t\tif (index > -1) {\n\t\t    which_case.commands_block.splice(index, 0, recentComand);\n\t\t    renderCommand(recentComand, elemento_menor_distancia, 1, function_obj);\n\t\t}\n\t}\n}\n\nfunction findInBlockCorrectPlace (el, event, function_obj, command_type, is_in_else = false) {\n\tvar el_jq = $(el);\n\tvar all_sub = el_jq.find('div.command_container');\n\n\tvar menor_distancia = 999999999;\n\tvar elemento_menor_distancia = null;\n\tvar antes = true;\n\n\tvar t_bot;\n\tvar t_top;\n\n\t// Descobrindo o elemento mais próximo:\n\tfor (var i = 0; i < all_sub.length; i++) {\n\t\n\t\tt_top = all_sub[i].getBoundingClientRect().top;\n\t\tt_bot = all_sub[i].getBoundingClientRect().top + all_sub[i].getBoundingClientRect().height;\n\n\t\tif ((t_top - event.clientY) < menor_distancia) {\n\t\t\tmenor_distancia = event.clientY - t_top;\n\t\t\telemento_menor_distancia = all_sub[i];\n\t\t}\n\t}\n\n\tvar borda_inferior = elemento_menor_distancia.parentNode.getBoundingClientRect().top + elemento_menor_distancia.parentNode.getBoundingClientRect().height;\n\t\n\t// Está mais próximo da borda de baixo, ou seja.. inserir por último:\n\tif ((borda_inferior - event.clientY) < menor_distancia) {\n\n\t\tvar recentComand = genericCreateCommand(command_type);\n\n\t\tvar command_parent = el_jq.data('command');\n\n\t\tif (is_in_else) {\n\t\t\tcommand_parent.commands_else.push(recentComand);\n\n\t\t\trenderCommand(recentComand, el_jq, 3, function_obj);\n\n\t\t} else {\n\t\t\tcommand_parent.commands_block.push(recentComand);\n\n\t\t\trenderCommand(recentComand, $(el_jq.find('.block_commands')[0]), 3, function_obj);\n\t\t}\n\n\t} else {\n\n\t\tvar recentComand = genericCreateCommand(command_type);\n\n\t\tvar command_parent = el_jq.data('command');\n\n\t\tif (is_in_else) {\n\n\t\t\tvar index = command_parent.commands_else.indexOf($(elemento_menor_distancia).data('command'));\n\n\t\t\tif (index > -1) {\n\t\t\t    command_parent.commands_else.splice(index, 0, recentComand);\n\t\t\t    renderCommand(recentComand, elemento_menor_distancia, 1, function_obj);\n\t\t\t}\n\n\t\t} else {\n\t\t\tvar index = command_parent.commands_block.indexOf($(elemento_menor_distancia).data('command'));\n\n\t\t\tif (index > -1) {\n\t\t\t    command_parent.commands_block.splice(index, 0, recentComand);\n\t\t\t    renderCommand(recentComand, elemento_menor_distancia, 1, function_obj);\n\t\t\t}\n\n\t\t}\n\t\t\n\t}\n}\n\nfunction findBeforeOrAfterCommandToAdd (el, event, function_obj, command_type) {\n\tswitch ($(el).data('command').type) {\n\t\tcase Models.COMMAND_TYPES.iftrue:\n\t\tcase Models.COMMAND_TYPES.switch:\n\t\tcase Models.COMMAND_TYPES.repeatNtimes:\n\t\tcase Models.COMMAND_TYPES.whiletrue:\n\t\tcase Models.COMMAND_TYPES.dowhiletrue:\n\t\t\tinsertCommandInBlock(el, event, function_obj, command_type);\n\t\t\treturn;\n\t}\n\n\tvar menor_distancia = 999999999;\n\tvar antes = true;\n\n\tvar t_bot;\n\tvar t_top;\n\n\tt_top = el.getBoundingClientRect().top;\n\tt_bot = el.getBoundingClientRect().top + el.getBoundingClientRect().height;\n\n\tvar d_top = event.clientY - t_top; // distancia topo\n\tvar d_bot = t_bot - event.clientY; // distancia baixo\n\n\t// Está mais próximo da borda de baixo, ou seja.. inserir por último:\n\tif (d_top < d_bot) {\n\t\t\n\t\tvar recentComand = genericCreateCommand(command_type);\n\n\t\tvar index = function_obj.commands.indexOf($(el).data('command'));\n\n\t\tif (index > -1) {\n\t\t    function_obj.commands.splice(index, 0, recentComand);\n\t\t}\n\n\t\trenderCommand(recentComand, el, 1, function_obj);\n\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/', index);\n\n\t} else {\n\t\tvar recentComand = genericCreateCommand(command_type);\n\n\t\tvar index = function_obj.commands.indexOf($(el).data('command'));\n\n\t\tif (index > -1) {\n\t\t    function_obj.commands.splice((index + 1), 0, recentComand);\n\t\t}\n\n\t\trenderCommand(recentComand, el, 2, function_obj);\n\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/', index);\n\t}\n}\n\nfunction findNearbyCommandToAddInFunctionScope (el, event, node_list_commands, function_obj, command_type) {\n\n\tvar all_sub = $(node_list_commands).find('div.command_container');\n\n\tvar menor_distancia = 999999999;\n\tvar elemento_menor_distancia = null;\n\tvar antes = true;\n\n\tvar t_bot;\n\tvar t_top;\n\n\t// Descobrindo o elemento mais próximo:\n\tfor (var i = 0; i < all_sub.length; i++) {\n\t\n\t\tt_top = all_sub[i].getBoundingClientRect().top;\n\t\tt_bot = all_sub[i].getBoundingClientRect().top + all_sub[i].getBoundingClientRect().height;\n\n\t\tif ((t_top - event.clientY) < menor_distancia) {\n\t\t\tmenor_distancia = event.clientY - t_top;\n\t\t\telemento_menor_distancia = all_sub[i];\n\t\t}\n\t}\n\n\tvar borda_inferior = elemento_menor_distancia.parentNode.getBoundingClientRect().top + elemento_menor_distancia.parentNode.getBoundingClientRect().height;\n\t\n\t// Está mais próximo da borda de baixo, ou seja.. inserir por último:\n\tif ((borda_inferior - event.clientY) < menor_distancia) {\n\t\t\n\t\tvar recentComand = genericCreateCommand(command_type);\n\t\tfunction_obj.commands.push(recentComand);\n\t\t//\n\t\trenderCommand(recentComand, node_list_commands, 3, function_obj);\n\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/', function_obj.commands.length - 1);\n\n\t} else {\n\n\t\tvar recentComand = genericCreateCommand(command_type);\n\n\t\tvar index = function_obj.commands.indexOf($(elemento_menor_distancia).data('command'));\n\n\t\tif (index > -1) {\n\t\t    function_obj.commands.splice(index, 0, recentComand);\n\t\t}\n\n\t\trenderCommand(recentComand, elemento_menor_distancia, 1, function_obj);\n\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/', index);\n\t}\n}\n","// iVProg - www.usp.br/line/ivprog\n// LInE - Free Education, Private Data\n\nimport * as Models from '../ivprog_elements';\nimport { LocalizedStrings } from '../../services/localizedStringsService';\nimport * as VariableValueMenu from './variable_value_menu';\nimport * as VariableValueMenuManagement from './variable_value_menu';\nimport * as CommandsManagement from '../commands';\nimport * as ExpressionManagement from './generic_expression';\nimport * as CodeGenerator from '../code_generator';\nimport { renderAlgorithm } from '../algorithm';\n\nexport function createFloatingCommand () {\n  return $('<div class=\"ui attribution created_element\"> <i class=\"ui icon small arrow left\"></i> <span> x <&#8212; 1 + 1 </span></div>');\n  }\n\nexport function renderCommand (command, function_obj) {\n  var el = $('<div class=\"ui attribution command_container\"><i class=\"ui icon small arrow left command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <div class=\"var_attributed\"></div> <span class=\"text_attr_receives span_command_spec\">'+LocalizedStrings.getUI('text_receives')+'</span> '\n     + '<div class=\"expression_elements\"></div>  <span class=\"textual_expression\"></span> <i class=\"ui icon i cursor button_write_expression\"></i> <i class=\"ui icon unlock button_alternate_expression\"></i> </div>');\n  el.data('command', command);\n\n  VariableValueMenu.renderMenu(command, command.variable, el.find('.var_attributed'), function_obj);\n\n  if (!command.expression || command.expression.length < 1) {\n    var exp = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true);\n    command.expression.push(exp);\n    }\n\n  addHandlers(command, function_obj, el);\n\n  ExpressionManagement.renderExpression(command, function_obj, el.find('.expression_elements'), command.expression);\n\n  if (command.lockexpression) {\n    if (command.expression) {\n      try {\n        var text = CodeGenerator.elementExpressionCode(command.expression);\n        if (text) {\n          $(el.find('.expression_elements')[0]).toggle();\n          $(el.find('.textual_expression')[0]).text(text);\n          $(el.find('.textual_expression')[0]).toggle();\n          $(el.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\n          }\n      } catch (e) {\n        command.lockexpression = false;\n        }\n      }\n    }\n\n  el.find('.unlock').popup({\n    content : LocalizedStrings.getUI(\"text_lock_expression\"),\n    delay: { show: 750, hide: 0 }\n    });\n  el.find('.lock').popup({\n    content : LocalizedStrings.getUI(\"text_unlock_expression\"),\n    delay: { show: 750, hide: 0 }\n    });\n  el.find('.button_write_expression').popup({\n    content : LocalizedStrings.getUI(\"text_edit_expression\"),\n    delay: { show: 750, hide: 0  }\n    });\n\n  return el;\n  }\n\nexport function manageExpressionElements (command, ref_object, dom_object, menu_var_or_value, function_obj, selectedItem, expression_element) {\n  var index_to_move = expression_element.itens.indexOf(ref_object);\n\n  switch (selectedItem.data('exp')) {\n    case Models.EXPRESSION_ELEMENTS.exp_op_exp:\n      var exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp, [expression_element.itens[index_to_move],\n           Models.ARITHMETIC_TYPES.plus, \n        new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\n      expression_element.itens[index_to_move] = exp;\n      break;\n    case Models.EXPRESSION_ELEMENTS.op_exp:\n      var exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.op_exp, [Models.ARITHMETIC_TYPES.plus, \n        expression_element.itens[index_to_move] ]);\n      expression_element.itens[index_to_move] = exp;\n      break;\n    case Models.EXPRESSION_ELEMENTS.par_exp_par:\n      var exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.par_exp_par, [expression_element.itens[index_to_move]]);\n      expression_element.itens[index_to_move] = exp;\n      break;\n    }\n  renderExpressionElements(command, function_obj, dom_object);\n  }\n\nfunction renderExpressionElements (command, function_obj, el) {\n  var expression_div = el.find('.expression_elements');\n  var command_container;\n\n  if (el.hasClass(\"command_container\") == false) {\n    var hier = el.parentsUntil(\".command_container\");\n    for (var i = 0; i < hier.length; i++) {\n      if ($(hier[i]).hasClass(\"command_container\")) {\n        command_container = $(hier[i]);\n        break;\n        }\n      if ($(hier[i]).hasClass(\"expression_elements\")) {\n        expression_div = $(hier[i]);\n        break;\n        }\n      }\n    }\n\n  if (command_container) {\n    expression_div = command_container.find('.expression_elements');\n    }\n\n  expression_div.text('');\n\n  for (var i = 0; i < command.expression.length; i++) {\n    var temp = $('<div class=\"expression_element\"></div>');\n    temp.data('ref_element', command.expression[i]);\n    temp.data('ref_index', i);\n\n    expression_div.append(temp);\n\n    renderElement(command, function_obj, temp, command.expression[i]);\n    }\n  }\n\nfunction renderOperator (command, function_obj, temp_op, expression_element, index_op) {\n  var context_menu = '<div class=\"ui dropdown\"><div class=\"text\">';\n  switch (expression_element.itens[index_op]) {\n    case Models.ARITHMETIC_TYPES.plus:\n      context_menu += '+';\n      break;\n    case Models.ARITHMETIC_TYPES.minus:\n      context_menu += '-';\n      break;\n    case Models.ARITHMETIC_TYPES.multiplication:\n      context_menu += '*';\n      break;\n    case Models.ARITHMETIC_TYPES.division:\n      context_menu += '/';\n      break;\n    case Models.ARITHMETIC_TYPES.module:\n      context_menu += '%';\n      break;\n    case Models.ARITHMETIC_TYPES.none:\n      context_menu += '...';\n      break;\n    }\n  \n  context_menu += '</div><div class=\"menu\">';\n  context_menu += '<div class=\"item\" data-value=\"'+Models.ARITHMETIC_TYPES.plus+'\">+</div>';\n  context_menu += '<div class=\"item\" data-value=\"'+Models.ARITHMETIC_TYPES.minus+'\">-</div>';\n  context_menu += '<div class=\"item\" data-value=\"'+Models.ARITHMETIC_TYPES.multiplication+'\">*</div>';\n  context_menu += '<div class=\"item\" data-value=\"'+Models.ARITHMETIC_TYPES.division+'\">/</div>';\n  context_menu += '<div class=\"item\" data-value=\"'+Models.ARITHMETIC_TYPES.module+'\">%</div>';\n  context_menu += '<div class=\"item\" data-value=\"'+Models.ARITHMETIC_TYPES.none+'\" data-text=\"...\">Nenhum</div>';\n  context_menu += '</div></div>';\n  context_menu = $(context_menu);\n\n  temp_op.append(context_menu);\n\n  context_menu.dropdown({\n    onChange: function(value, text, $selectedItem) {\n      expression_element.itens[index_op] = value;\n      }\n    });\n  }\n\nfunction renderMenuAddExpression (command, function_obj, el, dom_append_menu, expression_append_new_expression) {\n  if (el.hasClass(\"command_container\") == false) {\n    var hier = el.parentsUntil(\".commands_list_div\");\n\n    for (var i = 0; i < hier.length; i++) {\n      if ($(hier[i]).hasClass(\"command_container\")) {\n        el = $(hier[i]);\n        break;\n        }\n      }\n    }\n\n  if (dom_append_menu.hasClass(\"expression_elements\") == false) {\n    var hier = el.parentsUntil(\".commands_list_div\");\n    for (var i = 0; i < hier.length; i++) {\n      if ($(hier[i]).hasClass(\"expression_elements\")) {\n        dom_append_menu = $(hier[i]);\n        break;\n        }\n      }\n    }\n\n  var context_menu = '<div class=\"ui dropdown\"><div class=\"text\"></div><i class=\"ui icon arrow alternate circle right outline\"></i><div class=\"menu\">';\n  context_menu += '<div class=\"item\" data-value=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\n  context_menu += '<div class=\"item\" data-value=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\n  context_menu += '<div class=\"item\" data-value=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\n  context_menu += '</div></div>';\n  context_menu = $(context_menu);\n\n  dom_append_menu.append(context_menu);\n\n  context_menu.dropdown({\n    onChange: function(value, text, $selectedItem) {\n      switch (value) {\n        case Models.EXPRESSION_ELEMENTS.exp_op_exp:\n          var exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp,\n            [new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true),\n          Models.ARITHMETIC_TYPES.plus, \n          new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\n          expression_append_new_expression.push(exp);\n         break;\n        case Models.EXPRESSION_ELEMENTS.op_exp:\n          var exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.op_exp, [Models.ARITHMETIC_TYPES.plus, \n          new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\n          expression_append_new_expression.push(exp);\n          break;\n        case Models.EXPRESSION_ELEMENTS.par_exp_par:\n          var exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.par_exp_par,\n            [new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\n          expression_append_new_expression.push(exp);\n          break;\n        }\n    renderExpressionElements(command, function_obj, el);\n      }\n    });\n  }\n\nfunction renderElement (command, function_obj, el, expression_element) {\n  switch (expression_element.type_exp) {\n    case Models.EXPRESSION_ELEMENTS.exp_op_exp:\n      var temp_op = $('<div class=\"component_element\"></div>');\n      var temp_exp_1 = $('<div class=\"component_element\"></div>');\n      var temp_exp_2 = $('<div class=\"component_element\"></div>');\n      el.append(temp_exp_1);\n      el.append(temp_op);\n      el.append(temp_exp_2);      \n      if (expression_element.itens[0].type) {\n        VariableValueMenu.renderMenu(command, expression_element.itens[0], temp_exp_1, function_obj, 2, expression_element);\n      } else {\n        renderElement(command, function_obj, temp_exp_1, expression_element.itens[0]);\n        }\n      renderOperator(command, function_obj, temp_op, expression_element, 1);\n      if (expression_element.itens[2].type) {\n        VariableValueMenu.renderMenu(command, expression_element.itens[2], temp_exp_2, function_obj, 2, expression_element);\n      } else {\n        renderElement(command, function_obj, temp_exp_2, expression_element.itens[2]);\n        }\n      break;\n    case Models.EXPRESSION_ELEMENTS.op_exp:\n      var temp_op = $('<div class=\"component_element\"></div>');\n      var temp_exp = $('<div class=\"component_element\"></div>');\n      el.append(temp_op);\n      el.append(temp_exp);\n      renderOperator(command, function_obj, temp_op, expression_element, 0);\n      if (expression_element.itens[1].type) {\n        VariableValueMenu.renderMenu(command, expression_element.itens[1], temp_exp, function_obj, 2, expression_element);\n      } else {\n        renderElement(command, function_obj, temp_exp, expression_element.itens[1]);\n      }\n      break;\n    case Models.EXPRESSION_ELEMENTS.par_exp_par:\n      var temp_par_1 = $('<div class=\"component_element\"> ( </div>');\n      var temp_exp = $('<div class=\"component_element\"></div>');\n      var temp_par_2 = $('<div class=\"component_element\"> ) </div>');\n      el.append(temp_par_1);\n      el.append(temp_exp);\n      for (var j = 0; j < expression_element.itens.length; j++) {\n        if (expression_element.itens[j].type) {\n          VariableValueMenu.renderMenu(command, expression_element.itens[j], temp_exp, function_obj, 2, expression_element);\n        } else {\n          renderElement(command, function_obj, temp_exp, expression_element.itens[j]);\n         }\n        } \n      //renderMenuAddExpression(command, function_obj, el, el, expression_element.itens);\n      el.append(temp_par_2);\n      break;\n    }\n  } // function renderElement(command, function_obj, el, expression_element)\n\n\nfunction renderExpression (command, function_obj, el) {\n  //D console.log(\"src/ivprog/js/visualUI/commands/attribution.js: renderExpression(.): command=\"+JSON.stringify(command)+\"\\nfunction_obj=|\"+JSON.stringify(function_obj)+\"|\\n\");\n  var expression_div = el.find('.expression_elements');\n  expression_div.text('');\n\n  var menu_add_item = $('<div class=\"menu_add_item\"></div>');\n  menu_add_item.data('index_add', 0);\n\n  expression_div.append(menu_add_item);\n\n  for (var i = 0; i < command.expression.length; i++) {\n    //D console.log(i + \" : \" + JSON.stringify(command.expression));\n    if (command.expression[i].type) {\n      var temp = $('<div class=\"expression_element\"></div>');\n      temp.data('ref_element', command.expression[i]);\n      temp.data('ref_index', i);\n      expression_div.append(temp);\n      VariableValueMenu.renderMenu(command, command.expression[i], temp, function_obj);\n    } else if (command.expression[i] == \"(\" || command.expression[i] == \")\") {\n      var temp = $('<div class=\"expression_element\">'+command.expression[i]+'</div>');\n      temp.data('ref_element', command.expression[i]);\n      temp.data('ref_index', i);\n      expression_div.append(temp);\n    } else {\n      var temp = '<div class=\"expression_element\">';\n      switch(command.expression[i]) {\n        case Models.ARITHMETIC_TYPES.plus:\n          temp += '+';\n          break;\n        case Models.ARITHMETIC_TYPES.minus:\n          temp += '-';\n          break;\n        case Models.ARITHMETIC_TYPES.multiplication:\n          temp += '*';\n          break;\n        case Models.ARITHMETIC_TYPES.division:\n          temp += '/';\n          break;\n        case Models.ARITHMETIC_TYPES.module:\n          temp += '%';\n          break;\n        }\n      temp += '</div>';\n      temp = $(temp);\n      temp.data('ref_element', command.expression[i]);\n      temp.data('ref_index', i);\n      expression_div.append(temp);\n      }\n    var menu_add_item_seq = $('<div class=\"menu_add_item\"></div>');\n    var index_temp = (i + 1);\n    menu_add_item_seq.data('index_add', index_temp);\n    expression_div.append(menu_add_item_seq);\n    }\n  addMenuItens(command, function_obj, el);\n  } // function renderExpression(command, function_obj, el)\n\n\nfunction addMenuItens (command, function_obj, expression_div) {\n  var divs_expression = expression_div.find('.menu_add_item');\n\n  for (var i = 0; i < divs_expression.length; i++) {\n    var temp = $(divs_expression[i]).data('index_add');\n    var context_menu = '<div class=\"ui dropdown context_menu_clear\"><i class=\"ui icon plus square outline\"></i><div class=\"menu\">';\n    context_menu += '<div class=\"item\" data-option=\"value\" data-index=\"'+temp+'\">'+LocalizedStrings.getUI('text_value')+'</div>';\n    context_menu += '<div class=\"item\" data-option=\"operator\" data-index=\"'+temp+'\">'+LocalizedStrings.getUI('text_operator')+'</div>';\n    context_menu += '<div class=\"item\" data-option=\"parentheses\" data-index=\"'+temp+'\">'+LocalizedStrings.getUI('text_parentheses')+'</div>';\n    context_menu += '</div></div>';\n    context_menu = $(context_menu);\n\n    $(divs_expression[i]).append(context_menu);\n\n    context_menu.dropdown({\n        on: 'hover',\n        onChange: function(value, text, $selectedItem) {\n        switch ($selectedItem.data('option')) {\n          case \"value\":\n            command.expression.splice($selectedItem.data('index'), 0, new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true));\n            renderExpression(command, function_obj, expression_div);\n            break;\n          case \"operator\":\n            command.expression.splice($selectedItem.data('index'), 0, Models.ARITHMETIC_TYPES.plus);\n            renderExpression(command, function_obj, expression_div);\n            break;\n          case \"parentheses\":\n            command.expression.splice($selectedItem.data('index'), 0, \"(\");\n            command.expression.splice($selectedItem.data('index') + 1, 0, new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true));\n            command.expression.splice($selectedItem.data('index') + 2, 0, \")\");\n            renderExpression(command, function_obj, expression_div);\n            break;\n            }\n          }\n        });\n    }\n  }\n\n\nfunction addHandlers (command, function_obj, attribution_dom) {\n  attribution_dom.find('.button_write_expression').on('click', function() {\n    window.expressionEdition = true;\n    window.inputExpression = null;\n    \n    var afterWhichElement;\n    var lockButton = $(attribution_dom.find('.button_alternate_expression')[0]);\n    var editButton = $(this);\n\n    afterWhichElement = attribution_dom.find('.expression_elements');\n\n    if (command.lockexpression) {\n      afterWhichElement = attribution_dom.find('.textual_expression');\n      }\n\n    var text = \"\";\n    if (command.expression) {\n      if (command.expression.length == 1 && command.expression[0].content == null && !command.expression[0].function_called) {\n        text = \"\";\n      } else {\n        try {\n          text = CodeGenerator.elementExpressionCode(command.expression);\n        } catch(ex) {\n          text = \"\";\n          }\n        }\n      }\n\n    var ok_button = $('<i class=\"ui icon check circle expression-edit-confirm\"></i>');\n    var cancel_button = $('<i class=\"ui icon undo expression-edit-cancel\"></i>');\n    var input = $('<input type=\"text\" spellcheck=\"false\" autocomplete=\"off\" class=\"input-expression-field\" >');\n    input.val(text);\n\n    input.focusout(function(evt) {\n      console.log('focosout event!');\n      ok_button.click();\n      evt.preventDefault();\n      return true;\n      });\n    \n    input.keyup(function(evt) {\n      if (evt.keyCode == 27) { // esc\n        cancel_button.click();\n        }\n      if (evt.keyCode == 13) { // enter\n        ok_button.click();\n        }\n      });\n\n    ok_button.click(function() {\n      var parsed = null;\n      parsed = ExpressionManagement.expressionParserToVisual(input.val(), function_obj, input);\n      if (parsed) {\n        window.expressionEdition = false;\n        command.expression = parsed;\n        renderAlgorithm();\n        }\n      });\n\n    cancel_button.mousedown(function(evt) {\n      var parsed = ExpressionManagement.expressionParserToVisual(text, function_obj, input);\n      if (parsed) {\n        window.expressionEdition = false;\n        command.expression = parsed;\n        renderAlgorithm();\n        }\n      });\n\n    input.insertAfter(afterWhichElement);\n    input.focus();\n    cancel_button.insertAfter(input);\n    ok_button.insertAfter(input);\n    var len = text.length; \n    input[0].setSelectionRange(len, len); \n\n    afterWhichElement.css('display', 'none');\n    lockButton.css('display', 'none');\n    editButton.css('display', 'none');\n\n    ok_button.popup({\n      content : LocalizedStrings.getUI(\"text_edit_expression_confirm\"),\n      delay: { show: 750, hide: 0 }\n      });\n    cancel_button.popup({\n      content : LocalizedStrings.getUI(\"text_edit_expression_cancel\"),\n      delay: { show: 750, hide: 0 }\n      });\n    });\n\n  $(attribution_dom.find('.textual_expression')[0]).toggle();\n  \n  attribution_dom.find('.button_alternate_expression').on('click', function() {\n    if (command.expression) {\n      var text = CodeGenerator.elementExpressionCode(command.expression);\n      if (text) {\n        $(attribution_dom.find('.expression_elements')[0]).toggle();\n        $(attribution_dom.find('.textual_expression')[0]).text(text);\n        $(attribution_dom.find('.textual_expression')[0]).toggle();\n        $(this).toggleClass('unlock').toggleClass('lock');\n        command.lockexpression = !command.lockexpression;\n        }\n      if (command.lockexpression) {\n        attribution_dom.find('.lock').popup({\n          content : LocalizedStrings.getUI(\"text_unlock_expression\"),\n          delay: { show: 750, hide: 0 }\n        });\n      } else {\n        attribution_dom.find('.unlock').popup({\n          content : LocalizedStrings.getUI(\"text_lock_expression\"),\n          delay: { show: 750, hide: 0 }\n          });\n        }\n      }\n    });\n\n  attribution_dom.find('.button_remove_command').on('click', function() {\n    if (CommandsManagement.removeCommand(command, function_obj, attribution_dom)) {\n      attribution_dom.fadeOut(400, function() {\n        attribution_dom.remove();\n        });\n      }\n    });\n\n  attribution_dom.find('.button_refresh_attribution').on('click', function() {\n    renderExpressionElements(command, function_obj, attribution_dom);\n    });\n  }\n\nexport function renderMenuOperations (command, ref_object, dom_object, menu_var_or_value, function_obj, variable_selected) {\n\n  /*console.log(\"recebido o seguinte DOM: \");\n  console.log(dom_object);\n  if (dom_object.hasClass('var_attributed')) { return; } else {\n    var hier = dom_object.parentsUntil(\".command_container\");\n    for (var i = 0; i < hier.length; i++) { if ($(hier[i]).hasClass('var_attributed') || $(hier[i]).hasClass('parameters_function_called')) { return; } }\n    }\n  dom_object.find('.context_menu_clear').remove();\n  var menu_operations = '<div class=\"ui dropdown menu_operations\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n  for (var tm in Models.ARITHMETIC_TYPES) { menu_operations += '<div class=\"item\" data-option=\"'+tm+'\">'+LocalizedStrings.getUI('btn_arithmetic_' + tm)+'</div>'; }\n    menu_operations += '<div class=\"item\" data-option=\"clear\">'+LocalizedStrings.getUI('btn_clear')+'</div>';\n    menu_operations += '</div></div>';\n    menu_operations = $(menu_operations);\n    dom_object.append(menu_operations);\n    menu_operations.dropdown({\n      onChange: function(value, text, $selectedItem) {\n        switch ($($selectedItem).data('option')) {\n          case \"clear\": $(dom_object).text(''); VariableValueMenu.renderMenu(command, ref_object, dom_object, function_obj); break;\n          default: createExpressionAround(command, ref_object, dom_object, function_obj); menu_operations.find('.text').text('');\n          }\n        }\n    });*/\n  }\n\nfunction createExpressionAround (command, ref_object, dom_object, function_obj) {\n  $('<span> ( </span>').insertBefore(dom_object);\n  $('<span> ) </span>').insertAfter(dom_object);\n  VariableValueMenu.renderMenu(command, new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true), dom_object, function_obj);\n  }","import { LocalizedStrings } from '../../services/localizedStringsService';\nimport * as CommandsManagement from '../commands';\n\nexport function createFloatingCommand () {\n\treturn $('<div class=\"ui comment created_element\"> <i class=\"ui icon small pause\"></i> <span> '+LocalizedStrings.getUI('text_break')+' </span></div>');\n}\n\nexport function renderCommand (command, function_obj) {\n\tvar el = $('<div class=\"ui comment command_container\"> <i class=\"ui icon small pause\"></i> <i class=\"ui icon times red button_remove_command\"></i> <span>'+LocalizedStrings.getUI('text_break')+'</span> </div>');\n\tel.data('command', command);\n\n\taddHandlers(command, function_obj, el);\n\n\treturn el;\n}\n\nfunction addHandlers (command, function_obj, break_dom) {\n\n\tbreak_dom.find('.button_remove_command').on('click', function() {\n\t\tif (CommandsManagement.removeCommand(command, function_obj, break_dom)) {\n\t\t\tbreak_dom.fadeOut(400, function() {\n\t\t\t\tbreak_dom.remove();\n\t\t\t});\n\t\t}\n\t});\n}\n","import { LocalizedStrings } from '../../services/localizedStringsService';\nimport * as VariableValueMenu from './variable_value_menu';\nimport * as CommandsManagement from '../commands';\n\nexport function createFloatingCommand () {\n\treturn $('<div class=\"ui comment created_element\"> <i class=\"ui icon small quote left\"></i> <span class=\"span_comment_text\" \"> '+LocalizedStrings.getUI('text_comment')+' </span></div>');\n}\n\nexport function renderCommand (command, function_obj) {\n\tvar el = $('<div class=\"ui comment command_container\"> <i class=\"ui icon small quote left command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <div class=\"var_value_menu_div\"></div> <div class=\"div_comment_text\">'+'</div> </div>');\n\tel.data('command', command);\n\n\taddHandlers(command, function_obj, el);\n\n\trenderTextComment(command, function_obj, el);\n\n\treturn el;\n}\n\nfunction renderTextComment (command, function_obj, el) {\n\tVariableValueMenu.renderMenu(command, command.comment_text, el.find('.var_value_menu_div'), function_obj, 20);\n}\n\nfunction addHandlers (command, function_obj, comment_dom) {\n\n\tcomment_dom.find('.button_remove_command').on('click', function() {\n\t\tif (CommandsManagement.removeCommand(command, function_obj, comment_dom)) {\n\t\t\tcomment_dom.fadeOut(400, function() {\n\t\t\t\tcomment_dom.remove();\n\t\t\t});\n\t\t}\n\t});\n}\n","// iVProg - www.usp.br/line/ivprog\n// LInE - Free Education, Private Data\n\nimport * as Models from '../ivprog_elements';\nimport { LocalizedStrings } from '../../services/localizedStringsService';\nimport * as VariableValueMenuManagement from './variable_value_menu';\n\nexport function renderExpression (command, expression, function_obj, initial_el_to_render) {\n  //D console.log(\"src/ivprog/js/visualUI/commands/conditional_expression.js: renderExpression(.): command=\" +\n  //D   JSON.stringify(command) + \"\\nexpression=\" + JSON.stringify(expression) + \"\\nfunction_obj=||\" + JSON.stringify(function_obj) + \"||\\n\");\n  expression.dom_object = initial_el_to_render;\n\n  if (expression.expression == null || expression.expression.length < 1) {\n    renderStartMenu(command, expression, function_obj, initial_el_to_render);\n  } else {\n    var main_div = $('<div class=\"expression_elements\"></div>');\n\n    switch (expression.expression.type) {\n      case Models.EXPRESSION_TYPES.exp_logic:\n        renderLogicExpression(command, expression, expression.expression, function_obj, main_div, initial_el_to_render);\n        break;\n      case Models.EXPRESSION_TYPES.exp_arithmetic:\n        renderArithmeticExpression(command, expression, expression.expression, function_obj, main_div);\n        break;\n      }\n\n    initial_el_to_render.append(main_div);  \n    var restartMenu = $('<div class=\"ui restart_expression\"><i class=\"ui icon undo\"></i></div>');\n    initial_el_to_render.append(restartMenu);  \n    restartMenu.on('click', function(e){\n      expression.expression = null;\n      initial_el_to_render.empty();\n      renderExpression(command, expression, function_obj, initial_el_to_render);\n      });\n    }\n  }\n\nfunction renderArithmeticOperator (command, all_expression, expression_arithmetic, arithmetic_operator, function_obj, element_to_append) {\n  var menu_operator = $('<div class=\"ui dropdown\"><div class=\"text\"></div><i class=\"dropdown icon\"></i></div>');\n  menu_operator.dropdown({\n    values: [\n      { name     : '>',\n        value    : Models.ARITHMETIC_COMPARISON.greater_than,\n        selected : (arithmetic_operator == Models.ARITHMETIC_COMPARISON.greater_than)\n        },\n      { name     : '<',\n        value    : Models.ARITHMETIC_COMPARISON.less_than,\n        selected : (arithmetic_operator == Models.ARITHMETIC_COMPARISON.less_than)\n        },\n      { name     : '==',\n        value    : Models.ARITHMETIC_COMPARISON.equals_to,\n        selected : (arithmetic_operator == Models.ARITHMETIC_COMPARISON.equals_to)\n        },\n      { name     : '!=',\n        value    : Models.ARITHMETIC_COMPARISON.not_equals_to,\n        selected : (arithmetic_operator == Models.ARITHMETIC_COMPARISON.not_equals_to)\n        },\n      { name     : '>=',\n        value    : Models.ARITHMETIC_COMPARISON.greater_than_or_equals_to,\n        selected : (arithmetic_operator == Models.ARITHMETIC_COMPARISON.greater_than_or_equals_to)\n        },\n      { name     : '<=',\n        value    : Models.ARITHMETIC_COMPARISON.less_than_or_equals_to,\n        selected : (arithmetic_operator == Models.ARITHMETIC_COMPARISON.less_than_or_equals_to)\n        }\n      ],\n    onChange: function(value, text, $selectedItem) {\n      expression_arithmetic.operator = value;\n      }\n    });\n\n  element_to_append.append(menu_operator);\n  }\n\nfunction renderLogicOperator (command, all_expression, expression_logic, logic_operator, function_obj, element_to_append, initial_el_to_render) {\n\n  var menu_operator = $('<div class=\"ui dropdown\"><div class=\"text\"></div><i class=\"dropdown icon\"></i></div>');\n  menu_operator.dropdown({\n    values: [\n      { name     : '==',\n        value    : Models.LOGIC_COMPARISON.equals_to,\n        selected : (logic_operator == Models.LOGIC_COMPARISON.equals_to)\n        },\n      { name     : '!=',\n        value    : Models.LOGIC_COMPARISON.not_equals_to,\n        selected : (logic_operator == Models.LOGIC_COMPARISON.not_equals_to)\n        },\n      { name     : '&&',\n        value    : Models.LOGIC_COMPARISON.and,\n        selected : (logic_operator == Models.LOGIC_COMPARISON.and)\n        },\n      { name     : '||',\n        value    : Models.LOGIC_COMPARISON.or,\n        selected : (logic_operator == Models.LOGIC_COMPARISON.or)\n        }\n      ],\n    onChange: function(value, text, $selectedItem) {\n      if ($selectedItem) {\n        expression_logic.operator = value;\n        if (expression_logic.second_operand == null) {\n          expression_logic.second_operand = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true);\n          initial_el_to_render.empty();\n          renderExpression(command, all_expression, function_obj, initial_el_to_render);\n          }\n        }\n      }\n    });\n\n  element_to_append.append(menu_operator);\n  }\n\n\nfunction renderLogicExpression (command, all_expression, expression_logic, function_obj, element_to_append, initial_el_to_render) {\n  var exp_el_par_1 = $(' <span class=\"span_command_spec\"> </span> ');\n  var exp_el_expr_el_1 = $('<div class=\"expression_element\"></div>');\n  var exp_el_expr_operand = $('<div class=\"expression_element\"></div>');\n  var exp_el_expr_el_2 = $('<div class=\"expression_element\"></div>');\n  var exp_el_par_2 = $(' <span class=\"span_command_spec\"> </span> ');\n\n  if (expression_logic.first_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\n    renderLogicExpression(command, all_expression, expression_logic.first_operand, function_obj, exp_el_expr_el_1);\n  } else if (expression_logic.first_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic) {\n    renderArithmeticExpression(command, all_expression, expression_logic.first_operand, function_obj, exp_el_expr_el_1);\n  } else {\n    VariableValueMenuManagement.renderMenu(command, expression_logic.first_operand, exp_el_expr_el_1, function_obj);\n    }\n\n  element_to_append.append(exp_el_par_1);\n  element_to_append.append(exp_el_expr_el_1);\n\n  renderLogicOperator(command, all_expression, expression_logic, expression_logic.operator, function_obj, exp_el_expr_operand, initial_el_to_render);\n\n  element_to_append.append(exp_el_expr_operand);\n\n  if (expression_logic.second_operand) {\n    if (expression_logic.second_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\n      renderLogicExpression(command, all_expression, expression_logic.second_operand, function_obj, exp_el_expr_el_2);\n    } else if (expression_logic.second_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic) {\n      renderArithmeticExpression(command, all_expression, expression_logic.second_operand, function_obj, exp_el_expr_el_2);\n    } else {\n      VariableValueMenuManagement.renderMenu(command, expression_logic.second_operand, exp_el_expr_el_2, function_obj);\n      }\n    element_to_append.append(exp_el_expr_el_2);\n    }\n  element_to_append.append(exp_el_par_2);\n  }\n\nfunction renderArithmeticExpression (command, all_expression, expression_arithmetic, function_obj, element_to_append) {\n  var exp_el_par_1 = $(' <span class=\"span_command_spec\"> </span> ');\n  var exp_el_expr_el_1 = $('<div class=\"expression_element\"></div>');\n  var exp_el_expr_operand = $('<div class=\"expression_element\"></div>');\n  var exp_el_expr_el_2 = $('<div class=\"expression_element\"></div>');\n  var exp_el_par_2 = $(' <span class=\"span_command_spec\"> </span> ');\n\n  if (expression_arithmetic.first_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\n    renderLogicExpression(command, all_expression, expression_arithmetic.first_operand, function_obj, exp_el_expr_el_1);\n  } else if (expression_arithmetic.first_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic) {\n    renderArithmeticExpression(command, all_expression, expression_arithmetic.first_operand, function_obj, exp_el_expr_el_1);\n  } else {\n    VariableValueMenuManagement.renderMenu(command, expression_arithmetic.first_operand, exp_el_expr_el_1, function_obj);\n    }\n\n  if (expression_arithmetic.second_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\n    renderLogicExpression(command, all_expression, expression_arithmetic.second_operand, function_obj, exp_el_expr_el_2);\n  } else if (expression_arithmetic.second_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic) {\n    renderArithmeticExpression(command, all_expression, expression_arithmetic.second_operand, function_obj, exp_el_expr_el_2);\n  } else {\n    VariableValueMenuManagement.renderMenu(command, expression_arithmetic.second_operand, exp_el_expr_el_2, function_obj);\n    }\n\n  renderArithmeticOperator(command, all_expression, expression_arithmetic, expression_arithmetic.operator, function_obj, exp_el_expr_operand);\n\n  element_to_append.append(exp_el_par_1);\n  element_to_append.append(exp_el_expr_el_1);\n  element_to_append.append(exp_el_expr_operand);\n  element_to_append.append(exp_el_expr_el_2);\n  element_to_append.append(exp_el_par_2);\n  }\n\nfunction renderStartMenu (command, expression, function_obj, initial_el_to_render) {\n  var start_menu = '';\n  start_menu += '<div class=\"ui dropdown menu_start_rendered\"><div class=\"text\"><i>' +\n    LocalizedStrings.getUI('expression_menu_select') + '</i></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n  start_menu += '<div class=\"item\" data-exp=\"' + Models.EXPRESSION_TYPES.exp_logic + '\">' +\n    LocalizedStrings.getUI('text_logic_expression') + ' (EL == EL and EL)</div>';\n  start_menu += '<div class=\"item\" data-exp=\"' + Models.EXPRESSION_TYPES.exp_arithmetic + '\">' +\n    LocalizedStrings.getUI('text_arithmetic_expression') + ' (EA < EA)</div>';\n  start_menu += '</div></div>';\n  start_menu = $(start_menu);\n\n  start_menu.dropdown({\n    onChange: function(value, text, $selectedItem) {\n      switch ($selectedItem.data('exp')) {\n        case Models.EXPRESSION_TYPES.exp_logic:\n          expression.expression = \n            new Models.LogicExpression(false, \n              new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true));\n          break;\n        case Models.EXPRESSION_TYPES.exp_arithmetic:\n          expression.expression = \n            new Models.ArithmeticExpression(\n              new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true), \n              new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true), \n              Models.ARITHMETIC_COMPARISON.less_than);\n          break;\n        }\n      initial_el_to_render.html('');\n      renderExpression(command, expression, function_obj, initial_el_to_render);\n      },\n      selectOnKeydown: false\n    });\n\n  initial_el_to_render.append(' <span class=\"span_command_spec\"> </span> ');\n  initial_el_to_render.append(start_menu);\n  initial_el_to_render.append(' <span class=\"span_command_spec\"> </span> ');\n  }","import * as Models from '../ivprog_elements';\nimport { LocalizedStrings } from '../../services/localizedStringsService';\nimport * as CommandsManagement from '../commands';\nimport * as VariableValueMenuManagement from './variable_value_menu';\nimport * as SwitchManagement from './switch';\n\nexport function renderMenu (command, dom_where_render, function_obj, dom_command) {\n\n\tvar menu_div = '<div class=\"ui dropdown menu_commands pause\" ><button><i class=\"icon code\"></i></button> <div class=\"menu\"> ';\n\n\tif ((command.type == Models.COMMAND_TYPES.repeatNtimes) \n\t\t|| (command.type == Models.COMMAND_TYPES.whiletrue) \n\t\t|| (command.type == Models.COMMAND_TYPES.dowhiletrue)) {\n\n\t\tmenu_div += '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.break+'\"><i class=\"pause icon\"></i> '+LocalizedStrings.getUI('btn_break')+' </a>';\n\n\t} else {\n\n\t\tmenu_div += '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.break+'\"><i class=\"pause icon\"></i> '+LocalizedStrings.getUI('btn_break')+' </a>';\n\t\tmenu_div += '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.switchcase+'\"><i class=\"plus icon\"></i> '+LocalizedStrings.getUI('btn_case')+' </a>';\n\n\t}\n\n\tmenu_div += '</div></div>';\n\n\tmenu_div = $(menu_div);\n  \t\n\tdom_where_render.append(menu_div);\n\n\taddHandlers(command, dom_where_render, function_obj, dom_command);\n\n\tif (command.collapsed) {\n\t\tdom_command.children('.ui.block_commands').toggle();\n\t}\n}\n\nfunction addHandlers (command, dom_where_render, function_obj, dom_command) {\n\n\tdom_where_render.find('.menu_commands').dropdown({\n      on: 'hover'\n    });\n\t\n\tdom_where_render.find('.menu_commands a').on('click', function(evt){\n\n\t\tif ((command.type == Models.COMMAND_TYPES.repeatNtimes) \n\t\t\t|| (command.type == Models.COMMAND_TYPES.whiletrue) \n\t\t\t|| (command.type == Models.COMMAND_TYPES.dowhiletrue)) {\n\n\t\t\t\tif (command.commands_block == null || command.commands_block.length == 0) {\n\n\t\t\t      command.commands_block = [];\n\n\t\t\t      var new_cmd = CommandsManagement.genericCreateCommand($(this).data('command'));\n\t\t\t      command.commands_block.push(new_cmd);\n\n\t\t\t      CommandsManagement.renderCommand(new_cmd, dom_command.find('.block_commands'), 3, function_obj);\n\n\t\t\t    } else {\n\t\t\t      CommandsManagement.createFloatingCommand(function_obj, dom_command.find('.block_commands'), $(this).data('command'), evt);\n\t\t\t    }\n\n\t\t} else {\n\n\t\t\tswitch ($(this).data('command')) {\n\t\t\t\tcase Models.COMMAND_TYPES.break:\n\t\t\t\t\tCommandsManagement.createFloatingCommand(function_obj, dom_command.find('.block_commands'), $(this).data('command'), evt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase Models.COMMAND_TYPES.switchcase:\n\t\t\t\t\taddCaseToSwitch(command, dom_where_render, function_obj, dom_command);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\n\t});\n}\n\nfunction addCaseToSwitch (command, dom_where_render, function_obj, dom_command) {\n\t\n\tif ((command.cases == null)) {\n\t\tcommand.cases = [];\n\t}\n\t\n\tvar sc = new Models.SwitchCase(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true));\n\n\tcommand.cases.push(sc);\n\n\tSwitchManagement.renderCase(sc, command, function_obj, dom_command.find('.all_cases_div'));\n\n}\n\n\n\n","import { LocalizedStrings } from '../../services/localizedStringsService';\nimport * as CommandsManagement from '../commands';\nimport * as ConditionalExpressionManagement from './conditional_expression';\nimport * as ContextualizedMenu from './contextualized_menu';\nimport * as GenericExpressionManagement from './generic_expression';\nimport * as CodeGenerator from '../code_generator';\n\nexport function createFloatingCommand () {\n\treturn $('<div class=\"ui dowhiletrue created_element\"> <i class=\"ui icon small sync\"></i> <span> '+ LocalizedStrings.getUI('text_command_do') +' <br> ' + LocalizedStrings.getUI('text_command_do_until') +'(x < 10) </span></div>');\n}\n\nexport function renderCommand (command, function_obj) {\n\tvar ret = '';\n\tret += '<div class=\"ui dowhiletrue command_container\"> <i class=\"ui icon small sync command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <button class=\"ui icon button minimize_block_button tiny\"><i class=\"icon window minimize\"></i></button> <span class=\"span_command_spec\"> ' + LocalizedStrings.getUI('text_command_do') + ' </span>';\n\tret += '<div class=\"ui block_commands\" data-subblock=\"\" data-idcommand=\"\">';\n\tret += '</div>';\n\tret += ' <span class=\"span_command_spec\"> ' + LocalizedStrings.getUI('text_command_do_until') + ' </span> <span class=\"span_command_spec\"> ( </span> <div class=\"conditional_expression\"></div> <span class=\"textual_expression\"></span> <span class=\"span_command_spec\"> ) </span>';\n\tret += '  <i class=\"ui icon i cursor button_write_expression\" style=\"display: inline !important;\"></i> <i class=\"ui icon unlock button_alternate_expression\" style=\"margin-left: 1rem !important;\"></i> <div class=\"ui context_menu\"></div> ';\n\tret += '</div>';\n\n\tvar el = $(ret);\n\tel.data('command', command);\n\tel.find('.block_commands').data('command', command);\n\n\taddHandlers(command, function_obj, el);\n\n\tContextualizedMenu.renderMenu(command, el.find('.context_menu'), function_obj, el);\n\n\t//ConditionalExpressionManagement.renderExpression(command, command.expression, function_obj, el.find('.conditional_expression'));\n\n\tif (command.expression) {\n\t\tGenericExpressionManagement.renderExpression(command, function_obj, el.find('.conditional_expression'), command.expression);\n\t}\n\n\tif (command.commands_block) {\n\t\tfor (var j = 0; j < command.commands_block.length; j++) {\n\t\t    CommandsManagement.renderCommand(command.commands_block[j], $(el.find('.block_commands')[0]), 3, function_obj);\n\t\t}\n\t}\n\n\tif (command.lockexpression) {\n\t\tif (command.expression) {\n\t\t\ttry {\n\t\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\n\t\t\t\tif (text) {\n\t\t\t\t\t$(el.find('.conditional_expression')[el.find('.conditional_expression').length - 1]).toggle();\n\t\t\t\t\t$(el.find('.textual_expression')[el.find('.textual_expression').length - 1]).text(text);\n\t\t\t\t\t$(el.find('.textual_expression')[el.find('.textual_expression').length - 1]).toggle();\n\t\t\t\t\t$(el.find('.button_alternate_expression')[el.find('.button_alternate_expression').length - 1]).toggleClass('unlock').toggleClass('lock');\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tcommand.lockexpression = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tel.find('.unlock').popup({\n\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\n\t\tdelay: {\n\t\t\tshow: 750,\n\t\t\thide: 0\n\t\t}\n\t});\n\tel.find('.lock').popup({\n\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\n\t\tdelay: {\n\t\t\tshow: 750,\n\t\t\thide: 0\n\t\t}\n\t});\n\tel.find('.button_write_expression').popup({\n\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression\"),\n\t\tdelay: {\n\t\t\tshow: 750,\n\t\t\thide: 0\n\t\t}\n\t});\n\n\treturn el;\n}\n\n\nfunction addHandlers (command, function_obj, dowhiletrue_dom) {\n\n\tdowhiletrue_dom.find('.button_write_expression').on('click', function() {\n\n\t\twindow.expressionEdition = true;\n\t\twindow.inputExpression = null;\n\t\t\n\t\tvar afterWhichElement;\n\t\tvar lockButton = $(dowhiletrue_dom.find('.button_write_expression')[dowhiletrue_dom.find('.button_write_expression').length - 1]);\n\t\tvar editButton = $(this);\n\n\t\tafterWhichElement = $(dowhiletrue_dom.find('.conditional_expression')[dowhiletrue_dom.find('.conditional_expression').length - 1]);\n\n\t\tif (command.lockexpression) {\n\t\t\tafterWhichElement = $(dowhiletrue_dom.find('.textual_expression')[dowhiletrue_dom.find('.textual_expression').length - 1]);\n\t\t}\n\n\t\tvar text = \"\";\n\t\tif (command.expression) {\n\t\t\tif (command.expression.length == 1 && command.expression[0].content == null && !command.expression[0].function_called) {\n\t\t\t\ttext = \"\";\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\ttext = CodeGenerator.elementExpressionCode(command.expression);\n\t\t\t\t} catch(ex) {\n\t\t\t\t\ttext = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar ok_button = $('<i class=\"ui icon check circle expression-edit-confirm\"></i>');\n\t\tvar cancel_button = $('<i class=\"ui icon undo expression-edit-cancel\"></i>');\n\t\tvar input = $('<input type=\"text\" spellcheck=\"false\" autocomplete=\"off\" class=\"input-expression-field\" >');\n\t\tinput.val(text);\n\n\t\tinput.focusout(function(evt) {\n\t\t\tok_button.click();\n\t\t\tevt.preventDefault();\n\t\t\treturn true;\n\t\t});\n\t\t\n\t\tinput.keyup(function(evt) {\n\t\t\tif (evt.keyCode == 27) { // esc\n\t\t\t\tcancel_button.click();\n\t\t\t} \n\t\t\tif (evt.keyCode == 13) { // enter\n\t\t\t\tok_button.click();\n\t\t\t}\n\t\t});\n\n\t\tok_button.click(function() {\n\t\t\tvar parsed = null;\n\t\t\tparsed = GenericExpressionManagement.expressionParserToVisual(input.val(), function_obj, input);\n\t\t\tif (parsed) {\n\t\t\t\twindow.expressionEdition = false;\n\t\t\t\tcommand.expression = parsed;\n\t\t\t\trenderAlgorithm();\n\t\t\t}\n\t\t});\n\n\t\tcancel_button.mousedown(function(evt) {\n\t\t\tvar parsed = GenericExpressionManagement.expressionParserToVisual(text, function_obj, input);\n\t\t\tif (parsed) {\n\t\t\t\twindow.expressionEdition = false;\n\t\t\t\tcommand.expression = parsed;\n\t\t\t\trenderAlgorithm();\n\t\t\t}\n\t\t});\n\n\t\tinput.insertAfter(afterWhichElement);\n\t\tinput.focus();\n\t\tcancel_button.insertAfter(input);\n\t\tok_button.insertAfter(input);\n\t\tvar len = text.length; \n\t\tinput[0].setSelectionRange(len, len); \n\n\t\tafterWhichElement.css('display', 'none');\n\t\tlockButton.css('display', 'none');\n\t\teditButton.css('display', 'none');\n\n\t\tok_button.popup({\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_confirm\"),\n\t\t\tdelay: {\n\t\t\t\tshow: 750,\n\t\t\t\thide: 0\n\t\t\t}\n\t\t});\n\t\tcancel_button.popup({\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_cancel\"),\n\t\t\tdelay: {\n\t\t\t\tshow: 750,\n\t\t\t\thide: 0\n\t\t\t}\n\t\t});\n\t});\n\n\tdowhiletrue_dom.find('.minimize_block_button').on('click', function(evt){\n\t\tdowhiletrue_dom.children('.ui.block_commands').toggle();\n\t\tcommand.collapsed = !command.collapsed;\n\t});\n\n\t$(dowhiletrue_dom.find('.textual_expression')[0]).toggle();\n\t\n\tdowhiletrue_dom.find('.button_alternate_expression').on('click', function() {\n\t\tif (command.expression) {\n\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\n\t\t\tif (text) {\n\t\t\t\t$(dowhiletrue_dom.find('.conditional_expression')[dowhiletrue_dom.find('.conditional_expression').length - 1]).toggle();\n\t\t\t\t$(dowhiletrue_dom.find('.textual_expression')[dowhiletrue_dom.find('.textual_expression').length - 1]).text(text);\n\t\t\t\t$(dowhiletrue_dom.find('.textual_expression')[dowhiletrue_dom.find('.textual_expression').length - 1]).toggle();\n\n\t\t\t\t$(this).toggleClass('unlock').toggleClass('lock');\n\t\t\t\tcommand.lockexpression = !command.lockexpression;\n\t\t\t}\n\t\t}\n\n\t\tif (command.lockexpression) {\n\t\t\tdowhiletrue_dom.find('.lock').popup({\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\n\t\t\t\tdelay: {\n\t\t\t\t\tshow: 750,\n\t\t\t\t\thide: 0\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tdowhiletrue_dom.find('.unlock').popup({\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\n\t\t\t\tdelay: {\n\t\t\t\t\tshow: 750,\n\t\t\t\t\thide: 0\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tdowhiletrue_dom.find('.button_remove_command').on('click', function() {\n\t\tif (CommandsManagement.removeCommand(command, function_obj, dowhiletrue_dom)) {\n\t\t\tdowhiletrue_dom.fadeOut(400, function() {\n\t\t\t\tdowhiletrue_dom.remove();\n\t\t\t});\n\t\t}\n\t});\n}","import * as VariableValueMenu from './variable_value_menu';\nimport * as CommandsManagement from '../commands';\n\nexport function createFloatingCommand () {\n\treturn $('<div class=\"ui functioncall created_element\"> <i class=\"hand point right icon\"></i> <span> funcao() </span></div>');\n}\n\nexport function renderCommand (command, function_obj) {\n\tvar el = $('<div class=\"ui functioncall command_container\"> <i class=\"hand point right icon command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <div class=\"var_value_menu_div\"></div> </div>');\n\tel.data('command', command);\n\n\tVariableValueMenu.renderMenu(command, command.function_called, el.find('.var_value_menu_div'), function_obj);\n\n\taddHandlers(command, function_obj, el);\n\n\treturn el;\n}\n\nfunction addHandlers (command, function_obj, functioncall_dom) {\n\n\tfunctioncall_dom.find('.button_remove_command').on('click', function() {\n\t\tif (CommandsManagement.removeCommand(command, function_obj, functioncall_dom)) {\n\t\t\tfunctioncall_dom.fadeOut(400, function() {\n\t\t\t\tfunctioncall_dom.remove();\n\t\t\t});\n\t\t}\n\t});\n}","// iVProg - www.usp.br/line/ivprog\n// LInE - Free Education, Private Data\n\nimport { Types } from \"../types\";\nimport * as Models from \"../ivprog_elements\";\nimport { LocalizedStrings } from \"../../services/localizedStringsService\";\nimport * as VariableValueMenuManagement from \"./variable_value_menu\";\nimport { registerUserEvent, ActionTypes } from \"../../services/userLog\";\nimport WatchJS from \"melanke-watchjs\";\nimport * as Utils from '../utils';\n\nwindow.timer = false;\n\n// @calledby ./ivprog/js/util/codeParser.js: function parseWriter(command, function_obj)\nexport function renderExpression (command, function_obj, div_to_render, expression_array) {\n  // command=[object Object]\n  //D console.log(\"./ivprog/js/visualUI/commands/generic_expression.js: renderExpression(.): expression_array=\" + JSON.stringify(expression_array)); //leo\n  var aux_cmd = \"command=\" + JSON.stringify(command) + \", #expression_array=\" + (expression_array ? expression_array.length:0);\n  //D aux_cmd += \", div_to_render=\" + (div_to_render.prevObject && div_to_render.prevObject.filter(\"command\") ? JSON.stringify(div_to_render.prevObject.filter(\"command\")):\"<vazio>\"); //.filter(\"type\")\n  console.log(\"ivprog/js/visualUI/commands/generic_expression.js: renderExpression(.):\" + aux_cmd); //leo\n  if (!expression_array || !expression_array[0] || expression_array[0]===undefined) {\n    console.log(\"generic_expression.js!renderExpression(.): ERROR! expression_array or expression_array[0] empty\");\n    return; //leo\n    }\n  //D command=\" + JSON.stringify(command) + \"\\nexpression_array=\" + JSON.stringify(expression_array) + \"\\n\"); //leo\n  //D function_obj=||\" + JSON.stringify(function_obj) + \"||\\n\n  div_to_render.empty();\n\n  WatchJS.unwatch(command, \"expression\");\n  WatchJS.watch(command, \"expression\",\n    function () {\n      if (window.timer) return;\n      const m = div_to_render.find(\".single_element_expression\").not(\".mouse_distance\").not(\".add_parentheses\");\n      let s = \"\";\n      m.each(function (e) {\n        if ($(this).hasClass(\"parentheses_in_expression\")) {\n          s += $(this).text() + \" \";\n        } else {\n          s += $(this).find(\".text\").text();\n          s += $(this).find(\".var_name\").text();\n          s += $(this).find(\".parameters_function_called\").text();\n          s += $(this).find(\".value_rendered\").text();\n          s += \" \";\n          }\n        });\n      if (s!=\"\") {\n        window.timer = true;\n      } else {\n        return;\n        }\n      console.log(\"generic_expression.js!renderExpression(.): WatchJS.watch 2: \" + s); //leo\n      registerUserEvent(function_obj.name, ActionTypes.CHANGE_COMMAND_EXP, command.type, \"/\", s);\n      setTimeout(function () { window.timer = false; }, 200);\n      },\n    20,\n    true\n    );\n\n  if (command.type === Models.COMMAND_TYPES.attribution) {\n    WatchJS.unwatch(command.variable);\n    WatchJS.watch(command.variable, function () { renderExpression(command, function_obj, div_to_render, expression_array);}, 0);\n\n    if (command.variable.content) {\n      const types_included = [];\n      if (command.variable.content.type == Types.INTEGER || command.variable.content.type == Types.REAL) {\n        types_included.push(Models.EXPRESSION_TYPES.exp_arithmetic);\n      } else if (command.variable.content.type == Types.BOOLEAN) {\n        types_included.push(Models.EXPRESSION_TYPES.exp_conditional);\n        types_included.push(Models.EXPRESSION_TYPES.exp_logic);\n        types_included.push(Models.EXPRESSION_TYPES.exp_arithmetic);\n      } else if (command.variable.content.type == Types.TEXT) {\n        types_included.push(Models.EXPRESSION_TYPES.exp_conditional);\n        types_included.push(Models.EXPRESSION_TYPES.exp_logic);\n        types_included.push(Models.EXPRESSION_TYPES.exp_arithmetic);\n      } else {\n        console.log(\"generic_expression.js!renderExpression(.): Models.COMMAND_TYPES.attribution: NOT RECOGNIZED! SEE command.variable.content.type=\" + command.variable.content.type);\n        }\n      try {\n        console.log(\"generic_expression.js: renderExpression(.): command.variable.content: command.variable.content=\" + JSON.stringify(command.variable.content)); //leo\n      } catch (ex) {\n        console.log(\"generic_expression.js: renderExpression(.): command.variable.content: error printing command.variable.content: \" + ex); //leo\n        }\n      renderElements(command, function_obj, div_to_render, expression_array, types_included);\n    } else {\n      div_to_render.text(LocalizedStrings.getUI(\"var_menu_select_var\").toLowerCase());\n      }\n  } else {\n    const types_included = [];\n    types_included.push(Models.EXPRESSION_TYPES.exp_conditional);\n    types_included.push(Models.EXPRESSION_TYPES.exp_logic);\n    if (command.type === Models.COMMAND_TYPES.writer)\n      types_included.push(Models.EXPRESSION_TYPES.write_sep);\n    types_included.push(Models.EXPRESSION_TYPES.exp_arithmetic);\n    //D console.log(\"generic_expression.js: renderExpression(.): else de Models.COMMAND_TYPES.attribution: command.type=\" + command.type); //leo\n    //D console.log(\"generic_expression.js: renderExpression(.): else de Models.COMMAND_TYPES.attribution: expression_array=\" + JSON.stringify(expression_array)); //leo\n\n    renderElements(command, function_obj, div_to_render, expression_array, types_included);\n    }\n\n  div_to_render.children(\".mouse_distance\").addClass(\"mouse_distance_hidden\");\n  div_to_render.children(\".higher_element\").on(\"mousemove\", function (evt) {\n    if (!window.open_or_close) {\n      $(this).css(\"position\", \"relative\", \"!important\");\n      $(this).children(\".mouse_distance\").css(\"opacity\", \"1\");\n      }\n    });\n  div_to_render.children(\".higher_element\").on(\"mouseout\", function (evt) {\n    if (!window.open_or_close) {\n      $(this).css(\"position\", \"absolute\", \"!important\");\n      $(this).children(\".mouse_distance\").css(\"opacity\", \"0\");\n      }\n    });\n  const lixeira = $('<div class=\"lixeira\" draggable=\"true\"></div>');\n\n  div_to_render.find(\".single_element_expression\").on(\"mousedown\", function (evt) { window.posX = evt.clientX; window.posY = evt.clientY; });\n\n  Sortable.create(div_to_render[0], {\n    animation: 100,\n    ghostClass: \"ghost\",\n    group: {\n      name: \"shared\",\n      put: false, // Do not allow items to be put into this list\n      },\n    draggable: \".single_element_expression\",\n    sort: false,\n    filter: \".not_allowed\",\n    onStart: function () {\n      $(\"body\").append(lixeira);\n      lixeira.css(\"display\", \"block\");\n      lixeira.css(\"top\", window.posY + 70, \"!important\");\n      lixeira.css(\"left\", window.posX - 20, \"!important\");\n      },\n    onMove: function () { lixeira.addClass(\"color_test\"); },\n    onEnd: function () {\n      lixeira.remove();\n      div_to_render.find(\".ghost\").removeClass(\"ghost\");\n      },\n    });\n  new Sortable(lixeira[0], {\n    group: \"shared\",\n    animation: 150,\n    onAdd: function (evt) {\n      lixeira.css(\"display\", \"none\");\n      lixeira.find(\".single_element_expression\").remove();\n      lixeira.css(\"background-color\", \"\");\n      lixeira.remove();\n      removeElement(evt, expression_array);\n      renderExpression(command, function_obj, div_to_render, expression_array);\n      },\n    });\n  console.log(\"./ivprog/js/visualUI/commands/generic_expression.js: renderExpression(.): end!\"); //leo\n  } // export function renderExpression(command, function_obj, div_to_render, expression_array)\n\n\nfunction removeElement (event, expression_array) {\n  const indice = $(event.item).data(\"index\");\n  const first = expression_array[0];\n  if (expression_array[indice].type) {\n    // if is alone in expression:\n    if (expression_array.length == 1) {\n      //function_obj.commands.splice(function_obj.commands.indexOf(command), 1);\n      expression_array.splice(0, 1);\n    } else if (expression_array.length > 1) {\n      if (indice > 0 && expression_array[indice - 1].type_op) {\n        if (indice < expression_array.length && expression_array[indice - 2] == \"(\" && expression_array[indice + 1].type_op) { // \")\" Jed\n          expression_array.splice(indice + 1, 1);\n          }\n        expression_array.splice(indice, 1);\n        expression_array.splice(indice - 1, 1);\n        if (indice - 2 < expression_array.length && expression_array[indice - 2] == \"(\" && expression_array[indice - 1] == \")\") {\n          expression_array.splice(indice - 1, 1);\n          expression_array.splice(indice - 2, 1);\n          if (indice - 3 >= 0 && indice - 3 < expression_array.length && expression_array[indice - 3].type_op) {\n            expression_array.splice(indice - 3, 1);\n            }\n          }\n        }\n      else if (indice < expression_array.length - 1 && expression_array[indice + 1].type_op) {\n        expression_array.splice(indice + 1, 1);\n        expression_array.splice(indice, 1);\n        }\n      else if (indice < expression_array.length - 1 && indice > 0 && expression_array[indice - 1] == \"(\" && expression_array[indice + 1] == \")\") {\n        if (indice > 1 && expression_array[indice - 2].type_op) {\n          expression_array.splice(indice + 1, 1);\n          expression_array.splice(indice, 1);\n          expression_array.splice(indice - 1, 1);\n          expression_array.splice(indice - 2, 1);\n        } else if (indice < expression_array.length - 2 && expression_array[indice + 2].type_op) {\n          expression_array.splice(indice + 1, 1);\n          expression_array.splice(indice, 1);\n          expression_array.splice(indice - 1, 1);\n        } else {\n          expression_array.splice(indice + 1, 1);\n          expression_array.splice(indice, 1);\n          expression_array.splice(indice - 1, 1);\n          }\n        }\n      }\n  } else if (expression_array[indice].type_op) {\n    // iVProg doesn't support operator remove\n  } else { // else if (expression_array[indice].type_op)\n    let opening = -1;\n    let closing = -1;\n\n    if (expression_array[indice] == \"(\") { // \")\" Jed\n      opening = indice;\n      for (var i = indice + 1; i < expression_array.length; i++) {\n        if (expression_array[i] == \")\") { // \")\" Jed\n          closing = i;\n          break;\n        }\n      }\n    } else { // if (expression_array[indice] == \"(\") // \")\" Jed\n      closing = indice;\n      for (var i = indice - 1; i >= 0; i--) {\n        if (expression_array[i] == \"(\") { // \")\" to Jed\n          opening = i;\n          break;\n          }\n        }\n      }\n\n    if (expression_array[opening + 1].type_op) {\n      expression_array.splice(closing, 1);\n      expression_array.splice(opening + 1, 1);\n      expression_array.splice(opening, 1);\n    } else {\n      expression_array.splice(closing, 1);\n      expression_array.splice(opening, 1);\n      }\n    }\n  // if expression is empty, add a new var value:\n  if (expression_array.length == 0) {\n    expression_array.push(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true));\n    }\n  if (first != expression_array[0] && expression_array[0].type_op) {\n    expression_array.splice(0, 1);\n    }\n  } // function removeElement(event, expression_array)\n\n\nfunction renderElements (command, function_obj, div_to_render, expression_array, types_included) {\n  //if (expression_array.length > 0) {if (!expression_array[0].type_op) {renderStartAddOperator(div_to_render, types_included, expression_array, command, function_obj, 0);}}\n  let i = 0;\n  //D console.log(\" xxx 3 : expression_array.length=\" + expression_array.length + \" : \" + JSON.stringify(expression_array));\n  for (i = 0; i < expression_array.length; i++) {\n    if (expression_array[i].type == \"var_value\") {\n      const div_temp = $('<div class=\"single_element_expression\" data-index=\"' + i + '\"></div>');\n      if (i == 0) {\n        if (expression_array.length > 0 && !expression_array[0].type_op) {\n          //renderStartAddOperator(div_to_render, types_included, expression_array, command, function_obj, 0);\n          }\n        }\n      VariableValueMenuManagement.renderMenu(command, expression_array[i], div_temp, function_obj);\n      div_to_render.append(div_temp);\n    } else if (expression_array[i] == \"(\" || expression_array[i] == \")\") {\n      if (expression_array[i] == \")\") {\n        renderFinalAddElements( div_to_render, types_included, expression_array, command, function_obj, i);\n        renderParenthesis(div_to_render, expression_array[i], command, function_obj, i, expression_array);\n      } else if (expression_array[i] == \"(\" && !expression_array[i + 1].type_op) {\n        renderParenthesis(div_to_render, expression_array[i], command, function_obj, i, expression_array);\n        renderStartAddOperator(div_to_render, types_included, expression_array, command, function_obj, i + 1);\n      } else {\n        renderParenthesis(div_to_render, expression_array[i], command, function_obj, i, expression_array);\n        }\n    } else {\n      //leo if (i == 0) { }\n      //leo else if (expression_array[i - 1] == \"(\") { } // \")\" close to Jed editor\n      renderOperatorMenu(command, function_obj, div_to_render, expression_array[i], types_included, i, expression_array);\n      }\n    } // for (i = 0; i < expression_array.length; i++)\n\n  renderFinalAddElements(div_to_render, types_included, expression_array, command, function_obj, i, true);\n  renderAddParenthesis(command, function_obj, div_to_render, expression_array, types_included);\n\n  } // function renderElements(command, function_obj, div_to_render, expression_array, types_included)\n\n\nwindow.parentheses_activate = false;\nwindow.open_or_close = null;\n\nfunction renderAddParenthesis (command, function_obj, div_to_render, expression_array, types_included) { \n  // Insert img of \"(\" \")\"\n  const addParentheses = $(\n    '<div class=\"single_element_expression add_parentheses not_allowed\"><img ' +\n    'style=\"width: 15px; position: relative; top: 3px; left: 1px; height: 15px;\" ' +\n    'src=\"data:image/png;base64,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\"></div>'\n  );\n  div_to_render.append(addParentheses);\n  addParentheses.popup({\n    content: \"Adicionar parênteses\",\n    delay: { show: 750, hide: 0, },\n    });\n\n  addParentheses.on(\"click\", function (mouse_event) {\n    // verificar se já está ativado\n    if (window.parentheses_activate) {\n      return;\n      }\n\n    div_to_render.find(\".usepointer\").off(\"click\");\n\n    window.parentheses_activate = true;\n\n    window.open_or_close = \"open\";\n\n    div_to_render.find(\".dropdown\").addClass(\"disabled\");\n\n    div_to_render.find(\".ghost_element\").addClass(\"temp_class\");\n    div_to_render.find(\".ghost_element\").removeClass(\"ghost_element\");\n\n    const floatingObject = $('<div class=\"floating_parenthesis\"> ( </div>');\n    floatingObject.draggable().appendTo(\"body\");\n    floatingObject.css(\"position\", \"absolute\");\n    mouse_event.type = \"mousedown.draggable\";\n    mouse_event.target = floatingObject[0];\n    floatingObject.css(\"left\", mouse_event.pageX + 10);\n    floatingObject.css(\"top\", mouse_event.pageY + 10);\n    floatingObject.trigger(mouse_event);\n\n    div_to_render.on(\"mousemove\", function (evt) {\n      let actual_target = null;\n      if ($(evt.target).hasClass(\"single_element_expression\")) {\n        actual_target = $(evt.target);\n      } else {\n        actual_target = $(evt.target).closest(\".single_element_expression\");\n      }\n\n      if (\n        $(evt.target).hasClass(\"temp_class\") ||\n        actual_target.length < 1 ||\n        actual_target.hasClass(\"add_parentheses\") ||\n        actual_target.hasClass(\"rendered_parentheses\") ||\n        $(evt.target).hasClass(\"expression_elements\")\n      ) {\n        return;\n      }\n      renderGhostParentheses(\n        actual_target,\n        command,\n        function_obj,\n        div_to_render,\n        expression_array\n      );\n    });\n\n    div_to_render.on(\"mouseleave\", function () {\n      // window.open_parentheses.remove(); window.close_parentheses.remove();\n    });\n\n    let floating;\n\n    $(\"body\").on(\"mouseup\", function (evt) {\n      if (window.open_or_close == \"open\") {\n        window.open_or_close = \"close\";\n\n        floatingObject.remove();\n\n        var comando_que_esta = $(evt.target).closest(\".command_container\");\n        var comando_certo = div_to_render.closest(\".command_container\");\n        if (!comando_que_esta.is(comando_certo)) {\n          window.parentheses_activate = false;\n          div_to_render.find(\".temp_class\").addClass(\"ghost_element\");\n          div_to_render.find(\".temp_class\").removeClass(\"temp_class\");\n          div_to_render.off(\"mousemove\");\n          div_to_render.off(\"mouseleave\");\n          $(\"body\").off(\"mouseup\");\n          window.open_parentheses.remove();\n          window.close_parentheses.remove();\n          window.inserir_open = -1;\n          window.inserir_close = -1;\n          window.open_or_close = null;\n          renderExpression(command, function_obj, div_to_render, expression_array);\n          return;\n        }\n\n        window.open_parentheses.addClass(\"parentheses_fixed\");\n\n        floating = $('<div class=\"floating_parenthesis\"> ) </div>');\n        floating.draggable().appendTo(\"body\");\n        floating.css(\"position\", \"absolute\");\n        floating.css(\"left\", evt.pageX + 10);\n        floating.css(\"top\", evt.pageY + 10);\n\n        $(\"body\").on(\"mousemove\", function (evts) {\n          floating.css(\"left\", evts.pageX + 10);\n          floating.css(\"top\", evts.pageY + 10);\n        });\n      } else {\n        floating.remove();\n\n        window.open_parentheses.removeClass(\"parentheses_fixed\");\n\n        div_to_render.off(\"mousemove\");\n        div_to_render.off(\"mouseleave\");\n        $(\"body\").off(\"mouseup\");\n\n        setTimeout(function () {\n          window.parentheses_activate = false;\n        }, 50);\n\n        var comando_que_esta = $(evt.target).closest(\".command_container\");\n        var comando_certo = div_to_render.closest(\".command_container\");\n        let is_correct = false;\n        if (comando_que_esta.is(comando_certo)) {\n          is_correct = true;\n        }\n\n        if (is_correct) {\n          expression_array.splice(window.inserir_open, 0, \"(\");\n          expression_array.splice(window.inserir_close, 0, \")\");\n        }\n\n        window.inserir_open = -1;\n        window.inserir_close = -1;\n        window.open_or_close = null;\n\n        renderExpression(command, function_obj, div_to_render, expression_array);\n      }\n    });\n  });\n}\n\nwindow.open_parentheses = $('<div class=\"parentheses_ghost\">(</div>');\nwindow.close_parentheses = $('<div class=\"parentheses_ghost\">)</div>');\nwindow.inserir_open = -1;\nwindow.inserir_close = -1;\n\nfunction renderGhostParentheses (actual_target, command, function_obj, div_to_render, expression_array) {\n  // window.open_parentheses.remove(); window.close_parentheses.remove();\n\n  const index_in_array = actual_target.data(\"index\");\n\n  if (\n    expression_array[index_in_array] == \"(\" ||\n    expression_array[index_in_array] == \")\"\n  ) {\n    return;\n  }\n\n  if (window.open_or_close == \"close\") {\n    if (index_in_array < window.inserir_open) {\n      return;\n    }\n  }\n\n  // Tratando a situacao quando e' na primeira posicao:\n\n  if (index_in_array == 0) {\n    if (expression_array[index_in_array].type == \"var_value\") {\n      if (window.open_or_close == \"open\") {\n        window.open_parentheses.insertBefore(actual_target);\n        window.inserir_open = index_in_array;\n      }\n\n      //if (expression_array.length == 1) { if (window.open_or_close == \"close\") { window.close_parentheses.insertAfter(actual_target); window.inserir_close = index_in_array + 2; }\n\n      //} else {\n      var count_opened = 0;\n      var count_closed = 0;\n      for (var i = 0; i < expression_array.length; i++) {\n        if (expression_array[i] == \"(\") {\n          count_opened++;\n        }\n        if (expression_array[i] == \")\") {\n          count_closed++;\n        }\n        if (count_opened != count_closed) {\n        } else {\n          if (count_opened > 0) {\n            if (window.open_or_close == \"close\") {\n              window.close_parentheses.insertAfter(\n                div_to_render.find(\n                  '.single_element_expression[data-index=\"' + i + '\"]'\n                )\n              );\n              window.inserir_close = i + 2;\n            }\n            break;\n          } else {\n            if (expression_array[i].type == \"var_value\") {\n              if (window.open_or_close == \"close\") {\n                window.close_parentheses.insertAfter(\n                  div_to_render.find(\n                    '.single_element_expression[data-index=\"' + i + '\"]'\n                  )\n                );\n                window.inserir_close = i + 2;\n              }\n              break;\n            }\n          }\n        }\n      }\n      //}\n    } else if (expression_array[index_in_array].type_op) {\n      if (window.open_or_close == \"open\") {\n        window.open_parentheses.insertBefore(actual_target);\n        window.inserir_open = index_in_array;\n      }\n\n      var count_opened = 0;\n      var count_closed = 0;\n      for (var i = 1; i < expression_array.length; i++) {\n        // $('.slide-link[data-slide=\"0\"]')\n        if (expression_array[i] == \"(\") {\n          count_opened++;\n        }\n        if (expression_array[i] == \")\") {\n          count_closed++;\n        }\n        if (count_opened != count_closed) {\n        } else {\n          if (count_opened > 0) {\n            if (expression_array[i].type == \"var_value\") {\n              window.close_parentheses.insertAfter(\n                div_to_render.find(\n                  '.single_element_expression[data-index=\"' + i + '\"]'\n                )\n              );\n              window.inserir_close = i + 2;\n            }\n\n            break;\n          } else {\n            if (expression_array[i].type == \"var_value\") {\n              if (expression_array[i].type == \"var_value\") {\n                window.close_parentheses.insertAfter(\n                  div_to_render.find(\n                    '.single_element_expression[data-index=\"' + i + '\"]'\n                  )\n                );\n                window.inserir_close = i + 2;\n              }\n              break;\n            }\n          }\n        }\n      }\n    }\n    return;\n  }\n\n  // Tratando quando não é no índice 0:\n  if (expression_array[index_in_array].type == \"var_value\") {\n    if (window.open_or_close == \"open\") {\n      window.open_parentheses.insertBefore(actual_target);\n      window.inserir_open = index_in_array;\n    }\n    if (window.open_or_close == \"close\") {\n      window.close_parentheses.insertAfter(actual_target);\n      window.inserir_close = index_in_array + 2;\n    }\n    return;\n  }\n\n  if (expression_array[index_in_array].type_op) {\n    // buscar para a esquerda primeiro:\n    if (expression_array[index_in_array - 1] == \"(\") {\n      if (window.open_or_close == \"open\") {\n        window.open_parentheses.insertBefore(actual_target);\n        window.inserir_open = index_in_array;\n      }\n    } else if (expression_array[index_in_array - 1] == \")\") {\n      // buscar a abertura\n      var count_opened = 0;\n      var count_closed = 0;\n      for (var j = index_in_array - 1; j >= 0; j--) {\n        if (expression_array[j] == \"(\") { // \"}){\" Jed\n          count_opened++;\n        }\n        if (expression_array[j] == \")\") {\n          count_closed++;\n        }\n\n        if (count_opened != count_closed) {\n        } else {\n          if (count_closed > 0) {\n            if (window.open_or_close == \"open\") {\n              window.open_parentheses.insertBefore(\n                div_to_render.find(\n                  '.single_element_expression[data-index=\"' + j + '\"]'\n                )\n              );\n              window.inserir_open = j;\n            }\n            break;\n          }\n        }\n      }\n    } else if (expression_array[index_in_array - 1].type == \"var_value\") {\n      if (window.open_or_close == \"open\") {\n        window.open_parentheses.insertBefore(\n          div_to_render.find(\n            '.single_element_expression[data-index=\"' +\n              (index_in_array - 1) +\n              '\"]'\n          )\n        );\n        window.inserir_open = index_in_array - 1;\n      }\n    }\n\n    // buscar para a direita agora:\n    if (expression_array[index_in_array + 1] == \"(\") { // \"}){\" Jed\n      // buscar o fechamento:\n\n      var count_opened = 0;\n      var count_closed = 0;\n      for (var j = index_in_array + 1; j < expression_array.length; j++) {\n        if (expression_array[j] == \"(\") { // \"}){\" Jed\n          count_opened++;\n          }\n        if (expression_array[j] == \")\") {\n          count_closed++;\n        }\n\n        if (count_opened != count_closed) {\n        } else {\n          if (count_opened > 0) {\n            if (window.open_or_close == \"close\") {\n              window.close_parentheses.insertAfter(\n                div_to_render.find(\n                  '.single_element_expression[data-index=\"' + j + '\"]'\n                )\n              );\n              window.inserir_close = j + 2;\n            }\n            break;\n          }\n        }\n      }\n    } else if (expression_array[index_in_array + 1].type == \"var_value\") {\n      if (window.open_or_close == \"close\") {\n        window.close_parentheses.insertAfter(div_to_render.find('.single_element_expression[data-index=\"' + (index_in_array + 1) + '\"]'));\n        window.inserir_close = index_in_array + 3;\n        }\n      }\n    }\n  }\n\n\nfunction renderParenthesis (div_to_render, expression_content, command, function_obj, position, expression_array) {\n  const ghost_parenthesis = $(\n    '<div class=\"single_element_expression parentheses_in_expression\" data-index=\"' +\n    position + '\">' + expression_content + \"</div>\\n\");\n  div_to_render.append(ghost_parenthesis);\n  }\n\n\nfunction renderStartAddOperator (div_to_render, types_included, expression_array, command, function_obj, position) {\n  let menu_final =\n    '<div class=\"ui dropdown disabled usepointer\"><div class=\"text\"> + </div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_arithmetic) >= 0) {\n    if (types_included.length > 1) {\n      menu_final +=\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\n        LocalizedStrings.getUI(\"text_arithmetic_expression\") +\n        '<div class=\"menu\">';\n      menu_final += getArithmeticOperators();\n      menu_final += \"</div></div>\";\n    } else {\n      menu_final += getArithmeticOperators();\n    }\n  }\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_logic) >= 0) {\n    if (types_included.length > 1) {\n      menu_final +=\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\n        LocalizedStrings.getUI(\"text_logic_expression\") +\n        '<div class=\"menu\">';\n      menu_final += getLogicOperators();\n      menu_final += \"</div></div>\";\n    } else {\n      menu_final += getLogicOperators();\n    }\n  }\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_conditional) >= 0) {\n    if (types_included.length > 1) {\n      menu_final +=\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\n        LocalizedStrings.getUI(\"text_relational_expression\") +\n        '<div class=\"menu\">';\n      menu_final += getRelationalOperators();\n      menu_final += \"</div></div>\";\n    } else {\n      menu_final += getRelationalOperators();\n    }\n  }\n  menu_final += \"</div></div>\";\n\n  menu_final = $(menu_final);\n  const div_temp = $(\n    '<div class=\"single_element_expression ghost_element mouse_distance\"></div>'\n  );\n  div_temp.append(menu_final);\n  const div_higher = $('<div class=\"higher_element\"></div>');\n  div_higher.append(div_temp);\n  div_to_render.append(div_higher);\n  menu_final.dropdown(\"set selected\", Models.ARITHMETIC_TYPES.minus);\n\n  div_temp.on(\"click\", function () {\n    if (!window.open_or_close) {\n      const sera = position;\n\n      if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_arithmetic) >= 0) {\n        expression_array.splice(\n          sera,\n          0,\n          new Models.ExpressionOperator(\n            Models.EXPRESSION_TYPES.exp_arithmetic,\n            Models.ARITHMETIC_TYPES.minus\n          )\n        );\n      } else if (\n        types_included.indexOf(Models.EXPRESSION_TYPES.exp_logic) >= 0\n      ) {\n        expression_array.splice(\n          sera,\n          0,\n          new Models.ExpressionOperator(\n            Models.EXPRESSION_TYPES.exp_logic,\n            Models.LOGIC_COMPARISON.equals_to\n          )\n        );\n      } else if (\n        types_included.indexOf(Models.EXPRESSION_TYPES.exp_conditional) >= 0\n      ) {\n        expression_array.splice(\n          sera,\n          0,\n          new Models.ExpressionOperator(\n            Models.EXPRESSION_TYPES.exp_conditional,\n            Models.ARITHMETIC_COMPARISON.greater_than\n          )\n        );\n      }\n\n      renderExpression(command, function_obj, div_to_render, expression_array);\n    }\n  });\n}\n\n\nfunction renderFinalAddElements (div_to_render, types_included, expression_array, command, function_obj, position, is_last = false) {\n  let menu_final =\n    '<div class=\"ui dropdown disabled usepointer\"><div class=\"text\"> + </div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_arithmetic) >= 0) {\n    if (types_included.length > 1) {\n      menu_final +=\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\n        LocalizedStrings.getUI(\"text_arithmetic_expression\") +\n        '<div class=\"menu\">';\n      menu_final += getArithmeticOperators();\n      menu_final += \"</div></div>\";\n    } else {\n      menu_final += getArithmeticOperators();\n    }\n  }\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_logic) >= 0) {\n    if (types_included.length > 1) {\n      menu_final +=\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\n        LocalizedStrings.getUI(\"text_logic_expression\") +\n        '<div class=\"menu\">';\n      menu_final += getLogicOperators();\n      menu_final += \"</div></div>\";\n    } else {\n      menu_final += getLogicOperators();\n    }\n  }\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_conditional) >= 0) {\n    if (types_included.length > 1) {\n      menu_final +=\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\n        LocalizedStrings.getUI(\"text_relational_expression\") +\n        '<div class=\"menu\">';\n      menu_final += getRelationalOperators();\n      menu_final += \"</div></div>\";\n    } else {\n      menu_final += getRelationalOperators();\n    }\n  }\n  menu_final += \"</div></div>\";\n\n  menu_final = $(menu_final);\n  const div_temp = $('<div class=\"simple_add mouse_distance\"></div>');\n  const div_higher = $('<div class=\"higher_element\"></div>');\n\n  const button = $('<button class=\"ui button green add_expression\"><i class=\"plus circle inverted icon\"></i></button>');\n  div_temp.append(button);\n\n  if (!is_last) {\n    div_higher.append(div_temp);\n    div_to_render.append(div_higher);\n    //div_temp.append(menu_final);\n    div_temp.css(\"opacity\", \"0\", \"!important\");\n  } else {\n    div_temp.removeClass(\"mouse_distance\");\n    div_temp.css(\"opacity\", \"1\", \"!important\");\n    //div_temp.append(menu_final);\n    div_to_render.append(div_temp);\n  }\n\n  menu_final.dropdown(\"set selected\", Models.ARITHMETIC_TYPES.plus);\n\n  div_temp.on(\"click\", function () {\n    const sera = position;\n\n    if (expression_array[sera] == \")\" && expression_array[sera - 1] == \"(\") {\n      expression_array.splice(\n        sera,\n        0,\n        new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)\n        );\n      renderExpression(command, function_obj, div_to_render, expression_array);\n      return;\n      }\n\n    if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_arithmetic) >= 0) {\n      expression_array.splice(\n        sera,\n        0,\n        new Models.ExpressionOperator(\n          Models.EXPRESSION_TYPES.exp_arithmetic,\n          Models.ARITHMETIC_TYPES.plus\n        )\n      );\n      expression_array.splice(\n        sera + 1,\n        0,\n        new Models.VariableValueMenu(\n          VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\n          null,\n          null,\n          null,\n          true\n        )\n      );\n    } else if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_logic) >= 0) {\n      expression_array.splice(\n        sera,\n        0,\n        new Models.ExpressionOperator(\n          Models.EXPRESSION_TYPES.exp_logic,\n          Models.LOGIC_COMPARISON.equals_to\n        )\n      );\n      expression_array.splice(\n        sera + 1,\n        0,\n        new Models.VariableValueMenu(\n          VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\n          null,\n          null,\n          null,\n          true\n        )\n      );\n    } else if (\n      types_included.indexOf(Models.EXPRESSION_TYPES.exp_conditional) >= 0\n    ) {\n      expression_array.splice(sera, 0,\n        new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_conditional, Models.ARITHMETIC_COMPARISON.greater_than)\n        );\n      expression_array.splice(sera + 1, 0,\n        new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)\n        );\n      }\n\n    renderExpression(command, function_obj, div_to_render, expression_array);\n    });\n  }\n\n\n// Construct HTML menu item with: Space \\n Arithmetics \\n Logics \\n Relational\nfunction renderOperatorMenu (command, function_obj, div_to_render, expression_element, types_included, position, expression_array) {\n  let menu_final = '<div class=\"ui dropdown\"><div class=\"text\"> + </div><i class=\"dropdown icon\"></i><div class=\"menu\">' + \"\\n\";\n  //D console.log(\"./ivprog/js/visualUI/commands/generic_expression.js: generic_expression.js: renderOperatorMenu(.): \");\n  //D command=\" + JSON.stringify(command)\n  //D console.log(\"types_included=\" + JSON.stringify(types_included)\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.write_sep) >= 0) {\n    menu_final += getSeparator();\n    }\n\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_arithmetic) >= 0) {\n    if (types_included.length > 1) {\n      menu_final += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI(\"text_arithmetic_expression\") + '<div class=\"menu\">';\n      menu_final += getArithmeticOperators();\n      menu_final += \"</div></div>\\n\";\n    } else {\n      menu_final += getArithmeticOperators();\n      }\n    }\n\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_logic) >= 0) {\n    if (types_included.length > 1) {\n      menu_final += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI(\"text_logic_expression\") + '<div class=\"menu\">';\n      menu_final += getLogicOperators();\n      menu_final += \"</div></div>\\n\";\n    } else {\n      menu_final += getLogicOperators();\n      }\n    }\n\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_conditional) >= 0) {\n    if (types_included.length > 1) {\n      menu_final += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI(\"text_relational_expression\") + '<div class=\"menu\">';\n      menu_final += getRelationalOperators();\n      menu_final += \"</div></div>\\n\";\n    } else {\n      menu_final += getRelationalOperators();\n      }\n    }\n  menu_final += \"</div></div>\\n\";\n\n  menu_final = $(menu_final);\n  menu_final.find(\".ivprog-write-sep\").popup({\n    content: LocalizedStrings.getUI(\"write_seprator_menu_tooltip\"),\n    delay: { show: 500, hide: 0, },\n    });\n\n  const div_temp = $('<div class=\"single_element_expression not_allowed\" data-index=\"' + position + '\"></div>');\n  div_temp.append(menu_final);\n  div_to_render.append(div_temp);\n  menu_final.dropdown({\n    onChange: function (_value, _text, $selectedItem) {\n      expression_element.item = $selectedItem.data(\"value\");\n      expression_element.type_op = $selectedItem.data(\"type\");\n      },\n    });\n\n  menu_final.dropdown(\"set selected\", expression_element.item);\n  } // function renderOperatorMenu(command, function_obj, div_to_render, expression_element, types_included, position, expression_array)\n\n\nfunction getArithmeticOperators () {\n  let arithmetic_operators;\n  arithmetic_operators =\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_arithmetic +\n    '\" data-value=\"' +\n    Models.ARITHMETIC_TYPES.plus + '\">+</div>';\n  arithmetic_operators +=\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_arithmetic +\n    '\" data-value=\"' +\n    Models.ARITHMETIC_TYPES.minus + '\">-</div>';\n  arithmetic_operators +=\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_arithmetic +\n    '\" data-value=\"' +\n    Models.ARITHMETIC_TYPES.multiplication + '\">*</div>';\n  arithmetic_operators +=\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_arithmetic +\n    '\" data-value=\"' +\n    Models.ARITHMETIC_TYPES.division + '\">/</div>';\n  arithmetic_operators +=\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_arithmetic +\n    '\" data-value=\"' +\n    Models.ARITHMETIC_TYPES.module + '\">%</div>';\n  return arithmetic_operators;\n}\n\nfunction getLogicOperators () {\n  let logic_operators;\n/*   logic_operators =\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_logic +\n    '\" data-value=\"' +\n    Models.LOGIC_COMPARISON.equals_to + '\">==</div>';\n  logic_operators +=\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_logic +\n    '\" data-value=\"' +\n    Models.LOGIC_COMPARISON.not_equals_to + '\">!=</div>'; */\n  logic_operators =\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_logic +\n    '\" data-value=\"' +\n    Models.LOGIC_COMPARISON.and + '\">' +\n    LocalizedStrings.getUI(\"logic_operator_and\") + \"</div>\\n\";\n  logic_operators +=\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_logic +\n    '\" data-value=\"' +\n    Models.LOGIC_COMPARISON.or + '\">' +\n    LocalizedStrings.getUI(\"logic_operator_or\") + \"</div>\\n\";\n  logic_operators +=\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_logic +\n    '\" data-value=\"' +\n    Models.LOGIC_COMPARISON.not + '\">' +\n    LocalizedStrings.getUI(\"logic_operator_not\") + \"</div>\\n\";\n  return logic_operators;\n}\n\nfunction getRelationalOperators () {\n  let relational_operators;\n  relational_operators =\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_conditional +\n    '\" data-value=\"' +\n    Models.ARITHMETIC_COMPARISON.greater_than + '\">></div>';\n  relational_operators +=\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_conditional +\n    '\" data-value=\"' +\n    Models.ARITHMETIC_COMPARISON.less_than + '\"><</div>';\n  relational_operators +=\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_conditional +\n    '\" data-value=\"' +\n    Models.ARITHMETIC_COMPARISON.equals_to + '\">==</div>';\n  relational_operators +=\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_conditional +\n    '\" data-value=\"' +\n    Models.ARITHMETIC_COMPARISON.not_equals_to + '\">!=</div>';\n  relational_operators +=\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_conditional +\n    '\" data-value=\"' +\n    Models.ARITHMETIC_COMPARISON.greater_than_or_equals_to + '\">>=</div>';\n  relational_operators +=\n    '<div class=\"item\" data-type=\"' +\n    Models.EXPRESSION_TYPES.exp_conditional +\n    '\" data-value=\"' +\n    Models.ARITHMETIC_COMPARISON.less_than_or_equals_to + '\"><=</div>';\n  return relational_operators;\n  } // function getRelationalOperators()\n\n\nfunction getSeparator () {\n  //leo  return '<div class=\"item ivprog-write-sep\" data-type=\"${Models.EXPRESSION_TYPES.write_sep}\" ' +\n  //leo    ' data-value=\"${Models.EXPRESSION_TYPES.write_sep}\">${LocalizedStrings.getUI(\"write_seprator_menu_text\")}</div>' + \"\\n\";\n  return '<div class=\"item ivprog-write-sep\" data-type=\"' + Models.EXPRESSION_TYPES.write_sep + '\" ' +\n    ' data-value=\"' + Models.EXPRESSION_TYPES.write_sep + '\">' + LocalizedStrings.getUI(\"write_seprator_menu_text\") + '</div>' + \"\\n\";\n  }\n\n\n// Used to export IVPH file with expressions\n// @calledby export function expressionParserCodeVisual(parsed, function_obj)\nfunction getVariable (function_obj, search) {\n  //D console.log(\"./ivprog/js/visualUI/commands/generic_expression.js: getVariable(.): search=\" + JSON.stringify(search)); //leo\n  if (search == \")\" || search == \"(\") { return search; }\n  if (search.instance == \"operator\") {\n    var obj;\n    switch (search.value) {\n      case '+':\n        obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_arithmetic, Models.ARITHMETIC_TYPES.plus); \n        break;\n      case '-':\n        obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_arithmetic, Models.ARITHMETIC_TYPES.minus); \n        break;\n      case '*':\n        obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_arithmetic, Models.ARITHMETIC_TYPES.multiplication); \n        break;\n      case '/':\n        obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_arithmetic, Models.ARITHMETIC_TYPES.division); \n        break;\n      case '%':\n        obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_arithmetic, Models.ARITHMETIC_TYPES.module); \n        break;\n      case '>':\n          obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_conditional, Models.ARITHMETIC_COMPARISON.greater_than); \n          break;\n      case '<':\n        obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_conditional, Models.ARITHMETIC_COMPARISON.less_than); \n        break;\n      case '>=':\n          obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_conditional, Models.ARITHMETIC_COMPARISON.greater_than_or_equals_to); \n          break;\n      case '<=':\n          obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_conditional, Models.ARITHMETIC_COMPARISON.less_than_or_equals_to); \n          break;\n      case '==':\n          obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_conditional, Models.ARITHMETIC_COMPARISON.equals_to); \n          break;\n      case '!=':\n          obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_conditional, Models.ARITHMETIC_COMPARISON.not_equals_to); \n          break;\n      case 'and':\n          obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_logic, Models.LOGIC_COMPARISON.and); \n          break;\n      case 'or':\n          obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_logic, Models.LOGIC_COMPARISON.or); \n          break;\n      case 'not':\n          obj = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_logic, Models.LOGIC_COMPARISON.not); \n          break;\n      } // switch (search.value)\n    return obj;\n    } // if (search.instance == \"operator\")\n\n  if (search.instance == \"expression\" && search.type == \"const\") {\n    if (search.value === true) {\n      var obj = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, LocalizedStrings.getUI('logic_value_true'), null, null, true);\n      return obj;\n      }\n    if (search.value === false) {\n      var obj = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, LocalizedStrings.getUI('logic_value_false'), null, null, true);\n      return obj;\n      }\n\n    //TODO If constant has value 0, then it is not updating element (let \"Select\")\n    // ./ivprog/js/visualUI/ivprog_elements.js : export class VariableValueMenu \n    // ./ivprog/js/visualUI/commands/variable_value_menu.js: function isVarInProgram (var_obj, function_obj)\n    var obj = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, search.value, null, null, true);\n\n    return obj;\n    }\n\n  var variavel = null;\n  if (search.instance == \"expression\" && search.type == \"var\") {\n    // 1. Procurar a variável na função:\n    for (var j = 0; j < function_obj.variables_list.length; j++) {\n      if (function_obj.variables_list[j].name == search.value) {\n        variavel = function_obj.variables_list[j];\n        break;\n      }\n    }\n\n    // 2. Procurar a variável nas gloais: \n    if (!variavel)\n      for (var j = 0; j < program_obj.globals.length; j++) {\n        if (program_obj.globals[j].name == search.value) {\n          variavel = program_obj.globals[j];\n          break;\n        }\n      }\n    \n    // 3. Procurar na lista de parâmetros: \n    if (!variavel)\n      for (var j = 0; j < function_obj.parameters_list.length; j++) {\n        if (function_obj.parameters_list[j].name == search.value) {\n          variavel = function_obj.parameters_list[j];\n          break;\n        }\n      }\n  }\n\n  if (search.instance == \"expression\" && search.type == \"var\" && !search.line) {\n    var obj = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, variavel, null, null, true);\n    return obj;\n    }\n\n  if (search.instance == \"expression\" && search.type == \"var\" && search.class == \"vector\") {\n    var obj = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, variavel, null, getVariable(function_obj, search.line[0]), true);\n    return obj;\n    }\n\n  if (search.instance == \"expression\" && search.type == \"var\" && search.class == \"matrix\") {\n    var varL0 = getVariable(function_obj, search.line[0]);\n    var varC0 = getVariable(function_obj, search.column[0]);\n    var obj = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, variavel, varL0, varC0, true);\n    return obj;\n  }\n\n  if (search.instance == \"expression\" && search.type == \"function\") {\n    var obj = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, variavel, null, null, true);\n    // Search fuction to reference - Procurar a funcao para referencia:\n    for (var i = 0; i < program_obj.functions.length; i++) {\n      if (program_obj.functions[i].name == search.value) {\n        obj.function_called = program_obj.functions[i];\n      }\n    }\n\n    // Se ainda não foi encontrada, procurar na biblioteca do iVProg:\n    if (!obj.function_called) {\n      for (var i = 0; i < window.system_functions.length; i++) {\n        if (search.value.split(\".\")[1] && search.value.split(\".\")[1] == window.system_functions[i].identifier) {\n          obj.function_called = window.system_functions[i];\n        } else if (search.value == window.system_functions[i].identifier) {\n          obj.function_called = window.system_functions[i];\n        }\n      }\n    }\n\n    obj.parameters_list = [];\n\n    for (var i = 0; i < search.params.length; i++) {\n      obj.parameters_list.push(getVariable(function_obj,search.params[i][0]));\n    }\n    return obj;\n  }\n} // function getVariable(function_obj, search)\n\n\n// @calledby codeParser.js: parseWriter(.)\nexport function expressionParserToVisual (text, function_obj, input_field) {\n  console.log(\"./ivprog/js/visualUI/commands/generic_expression.js: expressionParserToVisual(.)\"); //leo\n  if (text.trim().length == 0) {\n    return [new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)];\n  }\n\n  var var_not_found = [];\n  var fun_not_found = [];\n  var parsed;\n  try {\n    parsed = ivprogCore.parseExpression(text);\n  } catch (ex) {\n    Utils.renderErrorMessage(input_field, LocalizedStrings.getUI('expression_invalid'));\n  }\n  if (!parsed) return null;\n\n  var item_parsed; // to receive each parsed[i] and eventually remove '[' and ']'\n  var sizeOfParsed = parsed.length;\n  for (var i = 0; i < sizeOfParsed; i++) {\n    var variavel = null;\n    item_parsed = parsed[i];\n    //D console.log(\" - \" + i + \" : type=\" + item_parsed.type + \" |\" + parsed[i] + \"| -> \" + item_parsed + \"|\");\n\n    if (item_parsed.instance == \"expression\" && item_parsed.type == \"var\") {\n      // 1. Procurar a variável na função:\n      for (var j = 0; j < function_obj.variables_list.length; j++) {\n        if (function_obj.variables_list[j].name == item_parsed.value) {\n          variavel = function_obj.variables_list[j];\n          break;\n        }\n      }\n\n      // 2. Procurar a variável nas globais: \n      if (!variavel)\n        for (var j = 0; j < program_obj.globals.length; j++) {\n          if (program_obj.globals[j].name == item_parsed.value) {\n            variavel = program_obj.globals[j];\n            break;\n          }\n        }\n\n      // 3. Procurar a variável nos parâmetros:\n      if (!variavel)\n        for (var j = 0; j < function_obj.parameters_list.length; j++) {\n          if (function_obj.parameters_list[j].name == item_parsed.value) {\n            variavel = function_obj.parameters_list[j];\n            break;\n          }\n        }\n      \n      if (!variavel)\n        var_not_found.push(item_parsed.value);\n    }\n\n    var funcao;\n    if (item_parsed.instance == \"expression\" && item_parsed.type == \"function\") {\n      // Procurar a funcao para referencia:\n      for (var j = 0; j < program_obj.functions.length; j++) {\n        if (program_obj.functions[j].name == item_parsed.value) {\n          funcao = program_obj.functions[j];\n        }\n      }\n\n      // Se ainda nao encontrou, procurar na biblioteca do iVProg:\n      if (!funcao) {\n        for (var j = 0; j < window.system_functions.length; j++) {\n          if (item_parsed.value.split(\".\")[1] && item_parsed.value.split(\".\")[1] == window.system_functions[j].identifier) {\n            funcao = window.system_functions[j];\n          } else if (item_parsed.value == window.system_functions[j].identifier) {\n            funcao = window.system_functions[j];\n          }\n        }\n      }\n\n    if (!funcao) {\n      fun_not_found.push(item_parsed.value);\n    }\n  }\n} // for (var i = 0; i < sizeOfParsed; i++)\n\n  if (fun_not_found.length > 0) {\n    let uniqueWords = [...new Set(fun_not_found)];\n    Utils.renderErrorMessage(input_field,  LocalizedStrings.getUI('expression_undeclared_function') + \" \" + uniqueWords.join(\", \"));\n    return null;\n  }\n\n  if (var_not_found.length > 0) {\n    let uniqueWords = [...new Set(var_not_found)];\n    Utils.renderErrorMessage(input_field,  LocalizedStrings.getUI('expression_undelcared_variable') + \" \" + uniqueWords.join(\", \"));\n    return null;\n  }\n\n  var exp_obj = [];\n  for (var i = 0; i < sizeOfParsed; i++) {\n    item_parsed = parsed[i];\n    exp_obj.push(getVariable(function_obj, item_parsed));\n  }\n\n  return exp_obj;\n} // export function expressionParserToVisual(text, function_obj, input_field)\n\n\nexport function searchFunction (function_name) {\n\n  for (var j = 0; j < program_obj.functions.length; j++) {\n    if (program_obj.functions[j].name == function_name) {\n      return program_obj.functions[j];\n    }\n  }\n\n  // Se ainda não encontrou, procurar na biblioteca do iVProg:\n  for (var j = 0; j < window.system_functions.length; j++) {\n    if (function_name.split(\".\")[1] && function_name.split(\".\")[1] \n        == window.system_functions[j].identifier) {\n      return window.system_functions[j];\n    } else if (function_name == window.system_functions[j].identifier) {\n      return window.system_functions[j];\n    }\n  }\n} // export function searchFunction(function_name)\n\n\n// Verify if it is list with \"write_separator\" inside \"write(.)\"\n// @calledby expressionParserCodeVisual((parsed, function_obj): item = checkIfWriteSeparator(function_obj, item_parsed2, sizeParsed);\nexport function checkIfWriteSeparator (function_obj, item_parsed, sizeParsed) { // verify if it is list with \"write_separator\" inside \"write(.)\n  var item;\n  var check_write_esp = 0, i;\n  if (item_parsed.length==1) item_parsed = item_parsed[0]; // is array with object (get the object)\n    if (item_parsed.type==\"const\" && item_parsed.class==\"simple\" && item_parsed.value==\" \") { // avoid regular const with value 0\n      try {\n      console.log(\" [GE.cws] const, simple, branco! #parsed=\" + sizeParsed + \", item_parsed.value.length=\" +\n        item_parsed.value.length + \", item_parsed.value='\" + item_parsed.value + \"'*******\"); //leo\n      } catch (ex) { console.log(\"generic_expression.js!checkIfWriteSeparator(.): erro 1 ao tentar imprimir item_parsed\"); }\n      if (sizeParsed>1 && item_parsed.value.length==1 && item_parsed.value.toUpperCase() == item_parsed.value.toLowerCase()) { // String\n        // isNaN(item_parsed.value)\n        if (item_parsed.value.charCodeAt(0)==32) // be sure it is space (not value 0)\n          check_write_esp = 1; // ASCII 32 = ' '\n        }\n      }\n  if (check_write_esp == 1) { // is 'write_separator'?\n    //TODO Implementar o construtor para espaco em branco - por enquanto troco o espaco pelo operador \"+\"\n    //TODO Must be used: Models.EXPRESSION_TYPES.write_sep\n    //D console.log(\" [GE.cws] const, simple, branco! check_write_esp=\" + check_write_esp + \" : \" + JSON.stringify(item_parsed) + \"*******\"); //erro: \"TypeError: cyclic object value\" when recursive function\n    item_parsed.type = Models.EXPRESSION_TYPES.exp_arithmetic; // \"write_separator\";\n    item_parsed.value = Models.ARITHMETIC_TYPES.plus; // \"plus\"\n    console.log(\" [GE.cws] const, simple, branco! check_write_esp=\" + check_write_esp + \" : item_parsed.type=\" + item_parsed.type);\n    item = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_arithmetic, Models.ARITHMETIC_TYPES.plus);\n    // item = new Models.ExpressionOperator(Models.EXPRESSION_TYPES.exp_arithmetic, Models.ARITHMETIC_TYPES.write_sep);\n    }\n  else\n    item = getVariable(function_obj, item_parsed); // if only 1 then the elements are inside it [[{...},{...}...]]\n  return item;\n  }\n\n\n// Process expression\n// @calledby ./ivprog/js/util/codeParser.js: parseWriter(.): send parameters of \"write(<list_parameters>)\" command\nexport function expressionParserCodeVisual (parsed, function_obj) {\n  if (!parsed) return null;\n\n  var var_not_found = [];\n  var fun_not_found = [];\n\n  var vet_obj = []; //leo\n  //D var str1 = \"\"; for (var ii=0; ii<parsed.length; ii++) str1 += ii + \" : \" + JSON.stringify(parsed[ii]) + \"\\n\";\n  console.log(\"./ivprog/js/visualUI/commands/generic_expression.js [GE]: expressionParserCodeVisual(.): #parsed=\" + parsed.length); //D parsed=\\n\" + str1); //leo\n\n  var item_parsed; // to receive each parsed[i] and eventually remove '[' and ']'\n  for (var i = 0; i < parsed.length; i++) {\n    item_parsed = parsed[i];\n\n    //if (item_parsed.length>0) item_parsed = item_parsed[0]; // if vector get the first\n    try {\n      console.log(\" [GE] \" + i + \" : type=\" + (item_parsed[0] ? item_parsed[0].type : \"<>\") + \" : parsed[\" + i + \"]=\" + JSON.stringify(parsed[i]));\n    } catch (ex) { console.log(\"generic_expression.js!expressionParserCodeVisual(.): erro 2 ao tentar imprimir JSON.stringify(parsed[i], para i=\" + i); }\n    var variavel = null;\n    if (item_parsed.instance == \"expression\" && item_parsed.type == \"var\") {\n      // 1. Search variable in function:\n      for (var j = 0; j < function_obj.variables_list.length; j++) {\n        if (function_obj.variables_list[j].name == item_parsed.value) {\n          variavel = function_obj.variables_list[j];\n          break;\n          }\n        }\n\n      // 2. Search variable in global variables:\n      if (!variavel)\n        for (var j = 0; j < program_obj.globals.length; j++) {\n          if (program_obj.globals[j].name == item_parsed.value) {\n            variavel = program_obj.globals[j];\n            break;\n            }\n          }\n\n      // 3. Search variable in parameters:\n      if (!variavel)\n        for (var j = 0; j < function_obj.parameters_list.length; j++) {\n          if (function_obj.parameters_list[j].name == item_parsed.value) {\n            variavel = function_obj.parameters_list[j];\n            break;\n            }\n          }\n      if (!variavel)\n        var_not_found.push(item_parsed.value);\n      } // if (item_parsed.instance == \"expression\" && item_parsed.type == \"var\")\n\n    var funcao;\n    if (item_parsed.instance == \"expression\" && item_parsed.type == \"function\") {\n      // Search the function to reference = Procurar a funcao para referencia:\n      for (var j = 0; j < program_obj.functions.length; j++) {\n        if (program_obj.functions[j].name == item_parsed.value) {\n          funcao = program_obj.functions[j];\n          }\n        }\n\n      // If not yet found, search in iVProg library = Se ainda nao encontrou, procurar na biblioteca do iVProg\n      if (!funcao) {\n        for (var j = 0; j < window.system_functions.length; j++) {\n          if (item_parsed.value.split(\".\")[1] && item_parsed.value.split(\".\")[1] == window.system_functions[j].identifier) {\n            funcao = window.system_functions[j];\n          } else if (item_parsed.value == window.system_functions[j].identifier) {\n            funcao = window.system_functions[j];\n            }\n          }\n        }\n      if (!funcao) {\n        fun_not_found.push(item_parsed.value);\n        }\n      }\n    } // for (var i = 0; i < parsed.length; i++)\n\n  //ATTENTION: sensible cases (\"write(a,\" \",b)\"; \"write(a+b)\"; \"repeat_for i from 0 to 10\")\n  var sizeParsed = parsed.length;\n  if (sizeParsed==1) { // array with a single item\n    //D console.log(\" [GE] Final: entrou - sizeParsed=\" + sizeParsed + \", parsed.length=\" + parsed.length); //leo\n    if (parsed[0].length>1) { // ignore constant (as 5 in \"repeat_to i from 1 to 5\"\n      parsed = parsed[0]; // change to get elements of \"parsed\" as an array - allaw to work \"i+1\" (as \"write(i+1)\")\n      sizeParsed = parsed.length;\n      }\n    }\n  try {\n    console.log(\" [GE] Final: sizeParsed=\" + sizeParsed + \", parsed.length=\" + parsed.length + \"\\n [GE] parsed=\" + JSON.stringify(parsed)); //leo\n  } catch (ex) { console.log(\"generic_expression.js!expressionParserCodeVisual(.): erro 3 ao tentar imprimir JSON.stringify(parsed)\"); }\n  var exp_obj = [];\n  var item;\n  for (var i=0; i < sizeParsed; i++) { // ./ivprog/js/util/codeParser.js : parseWriter(.): 'CodeParser.expressionParserCodeVisual(command.content, function_obj)'\n    var item_parsed2 = parsed[i];\n    if (parsed.length === undefined) // in i=0, if \"parsed\" is not any more an array\n      item_parsed2 = parsed;\n    try {\n      console.log(\" [GE] i=\" + i + \": #item_parsed2=\" + item_parsed2.length + \", item_parsed2=\" + JSON.stringify(item_parsed2)); //leo\n    } catch (ex) { console.log(\"generic_expression.js!expressionParserCodeVisual(.): erro 4 ao tentar imprimir JSON.stringify(item_parsed2)\"); }\n    item = checkIfWriteSeparator(function_obj, item_parsed2, sizeParsed); // eventually change to work with \"write(var1,\" \",var2)\"\n    //TODO Trick to identify: write(VAR,\" \",VAR) => parse = [VAR, \" \", VAR]\n    exp_obj.push(item);\n    try {\n      console.log(\" [GE] Type \" + (item_parsed2[0] ? item_parsed2[0].type : \"<>\") + \"; Insert in 'exp_obj[\" + i + \"]=|\" + JSON.stringify(item) + \"|\"); //leo\n    } catch (ex) { console.log(\"generic_expression.js!expressionParserCodeVisual(.): erro 5 ao tentar imprimir JSON.stringify(item)\"); }\n    } // for (var i = 0; i < sizeParsed; i++)\n\n  return exp_obj;\n  } // export function expressionParserCodeVisual(parsed, function_obj)","import { LocalizedStrings } from '../../services/localizedStringsService';\nimport * as CommandsManagement from '../commands';\nimport * as GenericExpressionManagement from './generic_expression';\nimport * as CodeGenerator from '../code_generator';\n\nexport function createFloatingCommand () {\n\treturn $('<div class=\"ui iftrue created_element\"> <i class=\"ui icon small random\"></i> <span> if (x < 1) { } </span></div>');\n}\n\nexport function renderCommand (command, function_obj) {\n\tvar ret = '';\n\tret += '<div class=\"ui iftrue command_container\"><div class=\"ui data_block_if\" data-if=\"true\">  <i class=\"ui icon small random command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <button class=\"ui icon button minimize_block_button tiny\"><i class=\"icon window minimize\"></i></button>';\n\tret += '<span class=\"span_command_spec\"> ' + LocalizedStrings.getUI('text_if') + '</span>';\n\tret += ' <span class=\"span_command_spec\"> ( </span> <div class=\"conditional_expression\"></div> <span class=\"textual_expression\"></span> <span class=\"span_command_spec\"> ) </span> ';\n\tret += '  <i class=\"ui icon i cursor button_write_expression\" style=\"margin-right: 1rem !important;\"></i>  ';\n\tret += '<i class=\"ui icon unlock button_alternate_expression\"></i>';\n\tret += '<span> </span> ';\n\tret += '<div class=\"ui block_commands commands_if conditional_comands_block\" data-if=\"true\">';\n \tret += '</div></div>';\n\tret += '<div class=\"ui data_block_else\" data-else=\"true\"> <span class=\"span_command_spec\"> ' + LocalizedStrings.getUI('text_else') + ' </span>';\n\tret += '<div class=\"ui block_commands commands_else conditional_comands_block\" data-else=\"true\">';\n\tret += '</div>';\n\tret += '<span></span></div>';\n\tret += '</div>';\n\n\tvar el = $(ret);\n\tel.data('command', command);\n\tel.find('.block_commands').data('command', command);\n\tel.find('.data_block_if').data('command', command);\n\tel.find('.data_block_else').data('command', command);\n\tel.find('.commands_if').data('command', command);\n\n\taddHandlers(command, function_obj, el);\n\n\t//ConditionalExpressionManagement.renderExpression(command, command.expression, function_obj, el.find('.conditional_expression'));\n\tGenericExpressionManagement.renderExpression(command, function_obj, el.find('.conditional_expression'), command.expression);\n\n\tif (command.commands_block) {\n\t\tfor (var j = 0; j < command.commands_block.length; j++) {\n\t\t    CommandsManagement.renderCommand(command.commands_block[j], $(el.find('.commands_if')[0]), 3, function_obj);\n\t\t}\n\t}\n\tif (command.commands_else) {\n\t\tfor (var j = 0; j < command.commands_else.length; j++) {\n\t\t    CommandsManagement.renderCommand(command.commands_else[j], $(el.find('.commands_else')[0]), 3, function_obj);\n\t\t}\n\t}\n\n\tif (command.collapsed) {\n\t\tel.children('.data_block_else').toggle();\n\t\t$(el.find('.block_commands')[0]).toggle();\n\t}\n\n\tif (command.lockexpression) {\n\t\tif (command.expression) {\n\t\t\ttry {\n\t\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\n\t\t\t\tif (text) {\n\t\t\t\t\t$(el.find('.conditional_expression')[0]).toggle();\n\t\t\t\t\t$(el.find('.textual_expression')[0]).text(text);\n\t\t\t\t\t$(el.find('.textual_expression')[0]).toggle();\n\t\t\t\t\t$(el.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tcommand.lockexpression = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tel.find('.unlock').popup({\n\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\n\t\tdelay: {\n\t\t\tshow: 750,\n\t\t\thide: 0\n\t\t}\n\t});\n\tel.find('.lock').popup({\n\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\n\t\tdelay: {\n\t\t\tshow: 750,\n\t\t\thide: 0\n\t\t}\n\t});\n\tel.find('.button_write_expression').popup({\n\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression\"),\n\t\tdelay: {\n\t\t\tshow: 750,\n\t\t\thide: 0\n\t\t}\n\t});\n\n\treturn el;\n}\n\n\nfunction addHandlers (command, function_obj, iftrue_dom) {\n\n\tiftrue_dom.find('.button_write_expression').on('click', function() {\n\n\t\twindow.expressionEdition = true;\n\t\twindow.inputExpression = null;\n\t\t\n\t\tvar afterWhichElement;\n\t\tvar lockButton = $(iftrue_dom.find('.button_alternate_expression')[0]);\n\t\tvar editButton = $(this);\n\n\t\tafterWhichElement = $(iftrue_dom.find('.conditional_expression')[0]);\n\n\t\tif (command.lockexpression) {\n\t\t\tafterWhichElement = $(iftrue_dom.find('.textual_expression')[0]);\n\t\t}\n\n\t\tvar text = \"\";\n\t\tif (command.expression) {\n\t\t\tif (command.expression.length == 1 && command.expression[0].content == null && !command.expression[0].function_called) {\n\t\t\t\ttext = \"\";\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\ttext = CodeGenerator.elementExpressionCode(command.expression);\n\t\t\t\t} catch(ex) {\n\t\t\t\t\ttext = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar ok_button = $('<i class=\"ui icon check circle expression-edit-confirm\"></i>');\n\t\tvar cancel_button = $('<i class=\"ui icon undo expression-edit-cancel\"></i>');\n\t\tvar input = $('<input type=\"text\" spellcheck=\"false\" autocomplete=\"off\" class=\"input-expression-field\" >');\n\t\tinput.val(text);\n\n\t\tinput.focusout(function(evt) {\n\t\t\tok_button.click();\n\t\t\tevt.preventDefault();\n\t\t\treturn true;\n\t\t});\n\t\t\n\t\tinput.keyup(function(evt) {\n\t\t\tif (evt.keyCode == 27) { // esc\n\t\t\t\tcancel_button.click();\n\t\t\t} \n\t\t\tif (evt.keyCode == 13) { // enter\n\t\t\t\tok_button.click();\n\t\t\t}\n\t\t});\n\n\t\tok_button.click(function() {\n\t\t\tvar parsed = null;\n\t\t\tparsed = GenericExpressionManagement.expressionParserToVisual(input.val(), function_obj, input);\n\t\t\tif (parsed) {\n\t\t\t\twindow.expressionEdition = false;\n\t\t\t\tcommand.expression = parsed;\n\t\t\t\trenderAlgorithm();\n\t\t\t}\n\t\t});\n\n\t\tcancel_button.mousedown(function(evt) {\n\t\t\tvar parsed = GenericExpressionManagement.expressionParserToVisual(text, function_obj, input);\n\t\t\tif (parsed) {\n\t\t\t\twindow.expressionEdition = false;\n\t\t\t\tcommand.expression = parsed;\n\t\t\t\trenderAlgorithm();\n\t\t\t}\n\t\t});\n\n\t\tinput.insertAfter(afterWhichElement);\n\t\tinput.focus();\n\t\tcancel_button.insertAfter(input);\n\t\tok_button.insertAfter(input);\n\t\tvar len = text.length; \n\t\tinput[0].setSelectionRange(len, len); \n\n\t\tafterWhichElement.css('display', 'none');\n\t\tlockButton.css('display', 'none');\n\t\teditButton.css('display', 'none');\n\n\t\tok_button.popup({\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_confirm\"),\n\t\t\tdelay: {\n\t\t\t\tshow: 750,\n\t\t\t\thide: 0\n\t\t\t}\n\t\t});\n\t\tcancel_button.popup({\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_cancel\"),\n\t\t\tdelay: {\n\t\t\t\tshow: 750,\n\t\t\t\thide: 0\n\t\t\t}\n\t\t});\n\t});\n\n\t$(iftrue_dom.find('.textual_expression')[0]).toggle();\n\t\n\tiftrue_dom.find('.button_alternate_expression').on('click', function() {\n\t\tif (command.expression) {\n\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\n\t\t\tif (text) {\n\t\t\t\t$(iftrue_dom.find('.conditional_expression')[0]).toggle();\n\t\t\t\t$(iftrue_dom.find('.textual_expression')[0]).text(text);\n\t\t\t\t$(iftrue_dom.find('.textual_expression')[0]).toggle();\n\t\t\t\t$(this).toggleClass('unlock').toggleClass('lock');\n\t\t\t\tcommand.lockexpression = !command.lockexpression;\n\t\t\t}\n\t\t}\n\n\t\tif (command.lockexpression) {\n\t\t\tiftrue_dom.find('.lock').popup({\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\n\t\t\t\tdelay: {\n\t\t\t\t\tshow: 750,\n\t\t\t\t\thide: 0\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tiftrue_dom.find('.unlock').popup({\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\n\t\t\t\tdelay: {\n\t\t\t\t\tshow: 750,\n\t\t\t\t\thide: 0\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tiftrue_dom.find('.button_remove_command').on('click', function() {\n\t\tif (CommandsManagement.removeCommand(command, function_obj, iftrue_dom)) {\n\t\t\tiftrue_dom.fadeOut(400, function() {\n\t\t\t\tiftrue_dom.remove();\n\t\t\t});\n\t\t}\n\t});\n\n\tiftrue_dom.find('.minimize_block_button').on('click', function() {\n\t\tiftrue_dom.children('.data_block_else').toggle();\n\t\t$(iftrue_dom.find('.block_commands')[0]).toggle();\n\t\tcommand.collapsed = !command.collapsed;\n\t});\n\n}","import { LocalizedStrings } from '../../services/localizedStringsService';\nimport * as VariableValueMenu from './variable_value_menu';\nimport * as CommandsManagement from '../commands';\n\nexport function createFloatingCommand () {\n\treturn $('<div class=\"ui reader created_element\"> <i class=\"ui icon small download\"></i> <span> '+LocalizedStrings.getUI('text_command_read')+' var </span></div>');\n}\n\nexport function renderCommand (command, function_obj) {\n\tvar el = '<div class=\"ui reader command_container\"> <i class=\"ui icon small download command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <span class=\"span_command_spec\">'+LocalizedStrings.getUI('text_command_read')+' ( </span> <div class=\"var_value_menu_div\"></div> <span class=\"close_parentheses span_command_spec\">)</span> </div>';\n\t\n\tel = $(el);\n\tel.data('command', command);\n\n\tVariableValueMenu.renderMenu(command, command.variable_value_menu, el.find('.var_value_menu_div'), function_obj);\n\n\taddHandlers(command, function_obj, el);\n\n\treturn el;\n}\n\nfunction addHandlers (command, function_obj, reader_dom) {\n\treader_dom.find('.button_remove_command').on('click', function() {\n\t\tif (CommandsManagement.removeCommand(command, function_obj, reader_dom)) {\n\t\t\treader_dom.fadeOut(400, function() {\n\t\t\t\treader_dom.remove();\n\t\t\t});\n\t\t}\n\t});\n}","// iVProg - www.usp.br/line/ivprog\n// LInE - Free Education, Private Data\n\nimport * as Models from '../ivprog_elements';\nimport { LocalizedStrings } from '../../services/localizedStringsService';\nimport * as CommandsManagement from '../commands';\nimport * as ConditionalExpressionManagement from './conditional_expression';\nimport * as VariableValueMenu from './variable_value_menu';\nimport * as ContextualizedMenu from './contextualized_menu';\nimport * as GenericExpressionManagement from './generic_expression';\nimport * as CodeGenerator from '../code_generator';\n\nexport function createFloatingCommand () {\n  return $('<div class=\"ui repeatNtimes created_element\"> <i class=\"ui icon small sync\"></i> <span> repita_para i de 0 ate 10 passo 1 <br> </span></div>');\n  }\n\n// Command \"repeat_for\"\n// \"repeat_for\" \"variable_attribution\" from \"first_operand\" to \"second_operand\"\n\nexport function renderCommand (command, function_obj) {\n  console.log(\"repeatNtimes.js!renderCommand(.): starting\");\n  let ret = `<div class=\"ui repeatNtimes command_container\">\n    <i class=\"ui icon small sync command_drag\"></i>\n    <i class=\"ui icon times red button_remove_command\"></i>\n    <button class=\"ui icon button minimize_block_button tiny\"><i class=\"icon window minimize\"></i></button>\n    <span class=\"span_command_spec\"> ${LocalizedStrings.getUI('text_for')}\n    </span>  <div class=\"ui attribution_expression\">\n    <div class=\"ui variable_attribution\"></div>\n    <span class=\"text_receives span_command_spec\" style=\"margin-left: 10px;margin-right: 20px;\"></span>\n    <div class=\"ui var_value_expression div_expression_st\"></div>\n    </div>\n    <span class=\"span_command_spec separator_character\" style=\"margin-left: 25px; margin-right: 15px;\">\n    ${LocalizedStrings.getUI(\"text_for_to\")} </span>\n    <div class=\"conditional_expression\"></div> <div class=\"pass_button\"></div>\n    <div class=\"ui incrementation_field\"><span class=\"text_inc_receives span_command_spec\"></span>\n    <div class=\"ui first_operand\"></div><div class=\"ui operator\"></div>\n    <div class=\"ui second_operand\"></div></div>  <span class=\"span_command_spec\"> </span>\n    <span class=\"textual_expression\"></span> <i class=\"ui icon unlock button_alternate_expression\"></i>\n    <div class=\"ui context_menu\"></div>`;\n  ret += '<div class=\"ui block_commands\">';\n  ret += '</div>';\n  ret += '<span> </span>';\n  ret += '</div>';\n\n  var el = $(ret);\n  el.data('command', command);\n  el.find('.block_commands').data('command', command);\n\n  addHandlers(command, function_obj, el);\n\n  ContextualizedMenu.renderMenu(command, el.find('.context_menu'), function_obj, el);\n\n  VariableValueMenu.renderMenu(command, command.var_attribution, el.find('.variable_attribution'), function_obj);\n\n  //ConditionalExpressionManagement.renderExpression(command, command.expression2, function_obj, el.find('.conditional_expression'));\n\n  VariableValueMenu.renderMenu(command, command.expression2, el.find('.conditional_expression'), function_obj);\n  //GenericExpressionManagement.renderExpression(command, function_obj, el.find('.conditional_expression'), command.expression2);\n\n  //VariableValueMenu.renderMenu(command, command.var_incrementation, el.find('.incrementation_variable'), function_obj);\n  //angle double right\n  if (!command.expression1) {\n    command.expression1 = new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, \"0\", null, null, true);\n    }\n\n  el.find('.text_receives').text(LocalizedStrings.getUI(\"text_for_from\"));\n  VariableValueMenu.renderMenu(command, command.expression1, el.find('.var_value_expression'), function_obj);\n\n  if (!command.expression3) {\n    el.find('.pass_button').html('<button class=\"ui\">' + LocalizedStrings.getUI(\"text_for_pass\") + '<i class=\"ui icon angle double right\"></i></button>');\n    el.find('.pass_button').find('button').on('click', function() {\n      togglePasso(command);\n      });\n    /*var exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp,\n      [command.var_attribution,\n       Models.ARITHMETIC_TYPES.plus,\n      new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, \"1\", null, null, true)]);\n      command.expression3 = exp;\n      command.var_incrementation = command.var_attribution;*/\n  } else {\n    el.find('.pass_button').html('<button class=\"ui\">' + LocalizedStrings.getUI(\"text_for_pass\") + '<i class=\"ui icon angle double left\"></i></button>');\n    el.find('.pass_button').find('button').on('click', function() {\n      togglePasso(command);\n      });\n\n    renderOperator(command, function_obj, el.find('.operator'), command.expression3, 1);\n    VariableValueMenu.renderMenu(command, command.expression3.itens[2], el.find('.second_operand'), function_obj);\n    }\n\n  if (command.commands_block) {\n    for (var j = 0; j < command.commands_block.length; j++) {\n      CommandsManagement.renderCommand(command.commands_block[j], $(el.find('.block_commands')[0]), 3, function_obj);\n      }\n    }\n\n  if (command.lockexpression) {\n    try {\n      var text = CodeGenerator.repeatNtimesHeader(command);\n      if (text) {\n        $(el.find('.textual_expression')[0]).html(text);\n        $(el.find('.textual_expression')[0]).toggle();\n        $(el.find('.attribution_expression')[0]).toggle();\n        $(el.find('.span_command_spec.separator_character')[0]).toggle();\n        $(el.find('.conditional_expression')[0]).toggle();\n        $(el.find('.pass_button')[0]).toggle();\n        $(el.find('.incrementation_field')[0]).toggle();\n        $(el.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\n        }\n    } catch (e) {\n      command.lockexpression = false;\n      }\n    }\n\n  el.find('.unlock').popup({\n    content : LocalizedStrings.getUI(\"text_lock_expression\"),\n    delay: { show: 750, hide: 0 }\n    });\n  el.find('.lock').popup({\n    content : LocalizedStrings.getUI(\"text_unlock_expression\"),\n    delay: { show: 750, hide: 0 }\n    });\n  console.log(\"repeatNtimes.js!renderCommand(.): ending\");\n  return el;\n  } // export function renderCommand(command, function_obj)\n\nfunction togglePasso (command) {\n  if (!command.expression3) {\n    var exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp,\n      [command.var_attribution,\n       Models.ARITHMETIC_TYPES.plus,\n       new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, \"1\", null, null, true)]);\n    command.expression3 = exp;\n    command.var_incrementation = command.var_attribution;\n  } else {\n    command.expression3 = null;\n    }\n  renderAlgorithm();\n  }\n\n// Here whenever is edited the \"second_operand\" of a new \"repeat_for\"\nexport function manageExpressionElements (command, ref_object, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element) {\n  console.log(\"repeatNtimes.js!manageExpressionElements(.): menu_var_or_value=\" + menu_var_or_value);\n\n  if (dom_object.hasClass('variable_attribution')) {\n    if (!command.expression3) {\n      var exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp,\n        [command.var_attribution,\n         Models.ARITHMETIC_TYPES.plus,\n         new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, \"1\", null, null, true)]);\n\n      command.expression3 = exp;\n      command.var_incrementation = command.var_attribution;\n\n      var cond_exp = new Models.ArithmeticExpression(command.var_attribution,\n        new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true),\n        Models.ARITHMETIC_COMPARISON.less_than);\n      command.expression2.expression = cond_exp;\n      }\n    dom_object.parent().find('.text_receives').text('de');\n    command.expression1 = new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, \"0\", null, null, true);\n    dom_object.parent().find('.var_value_expression').empty();\n    VariableValueMenu.renderMenu(command, command.expression1, dom_object.parent().find('.var_value_expression'), function_obj);\n    renderAlgorithm();\n    }\n\n  if (dom_object.hasClass('incrementation_variable')) {\n    dom_object.parent().find('.text_inc_receives').text('de');\n    var exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp,\n        [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true),\n         Models.ARITHMETIC_TYPES.plus,\n         new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\n    command.expression3 = exp;\n    VariableValueMenu.renderMenu(command, command.expression3.itens[0], dom_object.parent().find('.first_operand'), function_obj);\n    renderOperator(command, function_obj, dom_object.parent().find('.operator'), command.expression3, 1);\n    VariableValueMenu.renderMenu(command, command.expression3.itens[2], dom_object.parent().find('.second_operand'), function_obj);\n    }\n  } // manageExpressionElements(.)\n\nexport function manageClearExpressionElements (command, ref_object, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element) {\n  if (dom_object.hasClass('variable_attribution')) {\n    $(dom_object).parent().find('.text_receives').text('');\n    command.expression1 = null;\n    $(dom_object).parent().find('.var_value_expression').empty();\n    }\n  if (dom_object.hasClass('incrementation_variable')) {\n    $(dom_object).parent().find('.text_inc_receives').text('');\n    command.expression3 = null;\n    $(dom_object).parent().find('.first_operand').empty();\n    $(dom_object).parent().find('.operator').empty();\n    $(dom_object).parent().find('.second_operand').empty();\n    }\n  }\n\nfunction addHandlers (command, function_obj, repeatNtimes_dom) {\n  repeatNtimes_dom.find('.minimize_block_button').on('click', function(evt){\n    repeatNtimes_dom.children('.ui.block_commands').toggle();\n    command.collapsed = !command.collapsed;\n    });\n\n  $(repeatNtimes_dom.find('.textual_expression')[0]).toggle();\n\n  repeatNtimes_dom.find('.button_alternate_expression').on('click', function() {\n    var text = CodeGenerator.repeatNtimesHeader(command);\n    if (text) {\n      $(repeatNtimes_dom.find('.textual_expression')[0]).html(text);\n      $(repeatNtimes_dom.find('.textual_expression')[0]).toggle();\n      $(repeatNtimes_dom.find('.attribution_expression')[0]).toggle();\n      $(repeatNtimes_dom.find('.span_command_spec.separator_character')[0]).toggle();\n      $(repeatNtimes_dom.find('.conditional_expression')[0]).toggle();\n      $(repeatNtimes_dom.find('.pass_button')[0]).toggle();\n      $(repeatNtimes_dom.find('.incrementation_field')[0]).toggle();\n      $(repeatNtimes_dom.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\n      command.lockexpression = !command.lockexpression;\n      }\n\n    if (command.lockexpression) {\n      repeatNtimes_dom.find('.lock').popup({\n        content : LocalizedStrings.getUI(\"text_unlock_expression\"),\n        delay: { show: 750, hide: 0 }\n        });\n    } else {\n      repeatNtimes_dom.find('.unlock').popup({\n        content : LocalizedStrings.getUI(\"text_lock_expression\"),\n        delay: { show: 750, hide: 0 }\n        });\n      }\n    });\n\n  repeatNtimes_dom.find('.button_remove_command').on('click', function() {\n    if (CommandsManagement.removeCommand(command, function_obj, repeatNtimes_dom)) {\n      repeatNtimes_dom.fadeOut(400, function() {\n        repeatNtimes_dom.remove();\n        });\n      }\n    });\n  }\n\nfunction renderOperator (command, function_obj, temp_op, expression_element, index_op) {\n  var menu_operator = $('<div class=\"ui dropdown\"><div class=\"text\"></div></div>');\n  menu_operator.dropdown({\n      values: [\n        {\n          name     : '+',\n          value    : Models.ARITHMETIC_TYPES.plus,\n          selected : (expression_element.itens[index_op] == Models.ARITHMETIC_TYPES.plus)\n        },\n        {\n          name     : '-',\n          value    : Models.ARITHMETIC_TYPES.minus,\n          selected : (expression_element.itens[index_op] == Models.ARITHMETIC_TYPES.minus)\n        }\n      ],\n      onChange: function(value, text, $selectedItem) {\n        expression_element.itens[index_op] = value;\n      }\n    });\n  temp_op.append(menu_operator);\n  }","import { Types } from '../types';\nimport { LocalizedStrings } from '../../services/localizedStringsService';\nimport * as VariableValueMenu from './variable_value_menu';\nimport * as CommandsManagement from '../commands';\nimport * as GenericExpressionManagement from './generic_expression';\nimport * as Models from '../ivprog_elements';\nimport * as CodeGenerator from '../code_generator';\n\nexport function createFloatingCommand () {\n\treturn $('<div class=\"ui return created_element\"> <i class=\"ui icon small reply\"></i> <span> '+LocalizedStrings.getUI('text_return')+' </span></div>');\n}\n\nexport function renderCommand (command, function_obj) {\n\tvar el = $('<div class=\"ui return command_container\"> <i class=\"ui icon small reply command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <span class=\"span_command_spec\"> '+LocalizedStrings.getUI('text_return')+' </span>  <div class=\"expression_elements\"></div><span class=\"textual_expression\" style=\"display: none; margin-left: 1rem;\"></span></div>');\n\tel.data('command', command);\n\n\tif (function_obj.return_type != Types.VOID) {\n\t\tif (!command.variable_value_menu) {\n\t\t\tcommand.variable_value_menu = [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)];\n\t\t}\n\t\tGenericExpressionManagement.renderExpression(command, function_obj, el.find('.expression_elements'), command.variable_value_menu);\n\t\tel.append($('<i class=\"ui icon unlock button_alternate_expression\" style=\"margin-left: 1rem;\"></i>'));\n\n\t\tif (command.lockexpression) {\n\t\t\tif (command.variable_value_menu) {\n\t\t\t\ttry {\n\t\t\t\t\tvar text = CodeGenerator.elementExpressionCode(command.variable_value_menu);\n\t\t\t\t\tif (text) {\n\t\t\t\t\t\t$(el.find('.expression_elements')[0]).toggle();\n\t\t\t\t\t\t$(el.find('.textual_expression')[0]).text(text);\n\t\t\t\t\t\t$(el.find('.textual_expression')[0]).toggle();\n\t\t\t\t\t\t$(el.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcommand.lockexpression = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tel.find('.expression_elements').remove();\n\t\tcommand.variable_value_menu = null;\n\t}\n\t\n\taddHandlers(command, function_obj, el);\n\n\treturn el;\n}\n\nfunction addHandlers (command, function_obj, return_dom) {\n\n\treturn_dom.find('.button_alternate_expression').on('click', function() {\n\t\tif (command.variable_value_menu) {\n      var text = CodeGenerator.elementExpressionCode(command.variable_value_menu);\n\t\t\tif (text) {\n\t\t\t\t$(return_dom.find('.expression_elements')[0]).toggle();\n\t\t\t\t$(return_dom.find('.textual_expression')[0]).text(text);\n\t\t\t\t$(return_dom.find('.textual_expression')[0]).toggle();\n\t\t\t\t$(this).toggleClass('unlock').toggleClass('lock');\n\t\t\t\tcommand.lockexpression = !command.lockexpression;\n\t\t\t}\n\t\t}\n\t});\n\n\treturn_dom.find('.button_remove_command').on('click', function() {\n\t\tif (CommandsManagement.removeCommand(command, function_obj, return_dom)) {\n\t\t\treturn_dom.fadeOut(400, function() {\n\t\t\t\treturn_dom.remove();\n\t\t\t});\n\t\t}\n\t});\n}\n","import { LocalizedStrings } from '../../services/localizedStringsService';\nimport * as CommandsManagement from '../commands';\nimport * as VariableValueMenu from './variable_value_menu';\nimport * as ContextualizedMenu from './contextualized_menu';\n\nexport function createFloatingCommand () {\n\treturn $('<div class=\"ui switch created_element\"> <i class=\"ui icon small random\"></i> <span> '+LocalizedStrings.getUI('text_code_switch')+' ( x ) { <br> '+LocalizedStrings.getUI('text_code_case')+' 1: <br> '+LocalizedStrings.getUI('text_code_case')+' 2: <br> } </span></div>');\n}\n\nexport function renderCommand (command, function_obj) {\n\tvar ret = '';\n\tret += '<div class=\"ui switch command_container\"> <i class=\"ui icon small random command_drag\" ></i> <i class=\"ui icon times red button_remove_command\"></i> <span> '+LocalizedStrings.getUI('text_code_switch')+' ( <div class=\"ui variable_to_switch\"></div> ) <div class=\"ui context_menu\"></div> <div class=\"ui all_cases_div\"></div></span>';\n\tret += '</div>';\n\n\tvar el = $(ret);\n\tel.data('command', command);\n\n\taddHandlers(command, function_obj, el);\n\n\tContextualizedMenu.renderMenu(command, el.find('.context_menu'), function_obj, el);\n\n\tVariableValueMenu.renderMenu(command, command.variable, el.find('.variable_to_switch'), function_obj);\n\n\tif (command.cases) {\n\t\tfor (var i = 0; i < command.cases.length; i++) {\n\t\t\trenderCase(command.cases[i], command, function_obj, el.find('.all_cases_div'));\n\t\t}\n\t}\n\n\treturn el;\n}\n\nexport function renderCase (switchcase, command, function_obj, el) {\n\n\tvar casediv = $('<div class=\"ui case_div\"><i class=\"ui icon times red button_remove_command\"></i><span>'+LocalizedStrings.getUI('text_code_case')+'</span> <div class=\"ui variable_case\"></div>: <div class=\"case_commands_block\"></div></div>');\n\n\tVariableValueMenu.renderMenu(command, switchcase.variable_value_menu, casediv.find('.variable_case'), function_obj);\n\n\tcasediv.data('switchcase', switchcase);\n\tcasediv.find('.case_commands_block').data('switchcase', switchcase);\n\n\tel.append(casediv);\n\n\tif (switchcase.commands_block) {\n\t\tfor (var j = 0; j < switchcase.commands_block.length; j++) {\n\t\t    CommandsManagement.renderCommand(switchcase.commands_block[j], $(casediv.find('.case_commands_block')[0]), 3, function_obj);\n\t\t}\n\t}\n\n\tcasediv.find('.button_remove_command').on('click', function() {\n\t\tfor (var i = 0; i < command.cases.length; i++) {\n\t\t\tif (switchcase == command.cases[i]) {\n\t\t\t\tdelete command.cases[i];\n\t\t\t\tcommand.cases.splice(i, 1);\n\t\t\t\tcasediv.remove();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n\n}\n\nfunction addHandlers (command, function_obj, switch_dom) {\n\n\tswitch_dom.find('.button_remove_command').on('click', function() {\n\t\tif (CommandsManagement.removeCommand(command, function_obj, switch_dom)) {\n\t\t\tswitch_dom.fadeOut(400, function() {\n\t\t\t\tswitch_dom.remove();\n\t\t\t});\n\t\t}\n\t});\n}","// iVProg - www.usp.br/line/ivprog\n// LInE - Free Education, Private Data\n\n// See: \n// + js/util/codeParser.js : to decode all commands\n\nimport * as Models from \"../ivprog_elements\";\nimport { LocalizedStrings } from \"../../services/localizedStringsService\";\nimport * as AttribuitionsManagement from \"./attribution\";\nimport * as RepeatNTimesManagement from \"./repeatNtimes\";\n\nexport const VAR_OR_VALUE_TYPES = Object.freeze({\n  only_variable: 1,\n  only_value: 2,\n  only_function: 3,\n  variable_and_function: 4,\n  variable_and_value_opt: 5,\n  value_and_function: 6,\n  all: 7,\n  });\n\nexport function renderMenu (command, ref_object, dom_object, function_obj, size_field = 2, expression_element) {\n  // Verificar se o objeto atual trata-se de uma chamada de funcao e conferir se possui a quantidade correta de parametros\n  // Caso nao possua, tem que adicionar as variaveis que servirao de parametros:\n  //D console.log(\"variable_value_menu.jsrenderMenu(.): starting\"); //D\n  if (ref_object.function_called) {\n    if (ref_object.function_called.parameters_list) {\n      while (ref_object.function_called.parameters_list.length != ref_object.parameters_list.length) {\n        if (ref_object.parameters_list.length > ref_object.function_called.parameters_list.length) {\n          ref_object.parameters_list.pop();\n        } else {\n          ref_object.parameters_list.push(new Models.VariableValueMenu(VAR_OR_VALUE_TYPES.all, null, null, null, true));\n          }\n        }\n      }\n    }\n\n  // Verificar agora, quando trata-se de chamada de funcao, se a passagem de parametro e'\n  // por referencia ou por copia:\n  var index_references = [];\n  if (ref_object.function_called) {\n    if (ref_object.function_called.parameters_list) {\n      for (var i = 0; i < ref_object.function_called.parameters_list.length; i++) {\n        if (ref_object.function_called.parameters_list[i].reference) {\n          index_references.push(i)\n          ref_object.parameters_list[i].reference = true\n          ref_object.parameters_list[i].variable_and_value = VAR_OR_VALUE_TYPES.only_variable;\n          if (ref_object.parameters_list[i].column)\n            ref_object.parameters_list[i].column.reference_parent = true\n          if (ref_object.parameters_list[i].row)\n            ref_object.parameters_list[i].row.reference_parent = true\n          }\n        else {\n          ref_object.parameters_list[i].reference = false;\n          ref_object.parameters_list[i].variable_and_value = VAR_OR_VALUE_TYPES.all;\n          if (ref_object.parameters_list[i].column)\n            ref_object.parameters_list[i].column.reference_parent = false\n          if (ref_object.parameters_list[i].row)\n            ref_object.parameters_list[i].row.reference_parent = false\n          }\n\n        ref_object.parameters_list[i].reference_dimensions = ref_object.function_called.parameters_list[i].dimensions\n        } \n      }\n    }\n\n  let menu_var_or_value = '<div class=\"ui dropdown menu_var_or_value_dom\" data-varmenu=\"true\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n\n  if (ref_object.variable_and_value == VAR_OR_VALUE_TYPES.only_variable) {\n    console.log(\"variable_value_menu.jsrenderMenu(.): ref_object.variable_and_value=\" + ref_object.variable_and_value +\", VAR_OR_VALUE_TYPES.only_variable=\" + VAR_OR_VALUE_TYPES.only_variable); //D\n    menu_var_or_value = '<div class=\"ui dropdown menu_var_or_value_dom\" data-varmenu=\"true\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu menu_only_vars\">';\n    menu_var_or_value += \"</div>\";\n    }\n\n  if (ref_object.variable_and_value == VAR_OR_VALUE_TYPES.variable_and_function ||\n      ref_object.variable_and_value == VAR_OR_VALUE_TYPES.variable_and_value_opt ||\n      ref_object.variable_and_value == VAR_OR_VALUE_TYPES.all) {\n    menu_var_or_value += '<div class=\"item\" data-option=\"' + VAR_OR_VALUE_TYPES.only_variable + '\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI(\"variable\");\n    menu_var_or_value += '<div class=\"menu menu_only_vars\">';\n    menu_var_or_value += \"</div></div>\";\n    }\n\n  if (ref_object.variable_and_value == VAR_OR_VALUE_TYPES.only_value) { // VAR_OR_VALUE_TYPES.only_value == 2\n    //D console.log(\"variable_value_menu.js!renderMenu(.): (1) ref_object.variable_and_value = VAR_OR_VALUE_TYPES.only_value = 2\"); //D\n    menu_var_or_value = '<input type=\"text\" class=\"width-dynamic\" size=\"' + size_field + '\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" />';\n    }\n\n  if (ref_object.variable_and_value == VAR_OR_VALUE_TYPES.variable_and_value_opt ||\n      ref_object.variable_and_value == VAR_OR_VALUE_TYPES.value_and_function ||\n      ref_object.variable_and_value == VAR_OR_VALUE_TYPES.all) {\n    menu_var_or_value += '<div class=\"item\" data-option=\"' + VAR_OR_VALUE_TYPES.only_value + '\">' + LocalizedStrings.getUI(\"text_value\") + \"</div>\";\n    }\n\n  if (ref_object.variable_and_value == VAR_OR_VALUE_TYPES.only_function) {\n    menu_var_or_value = '<div class=\"ui dropdown menu_var_or_value_dom\" data-varmenu=\"true\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu menu_only_functions\">';\n    menu_var_or_value += \"</div>\";\n    }\n\n  if (ref_object.variable_and_value == VAR_OR_VALUE_TYPES.variable_and_function ||\n      ref_object.variable_and_value == VAR_OR_VALUE_TYPES.value_and_function ||\n      ref_object.variable_and_value == VAR_OR_VALUE_TYPES.all) {\n    menu_var_or_value += '<div class=\"item\" data-option=\"' + VAR_OR_VALUE_TYPES.only_function + '\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI(\"btn_function\");\n    menu_var_or_value += '<div class=\"menu menu_only_functions\">';\n    menu_var_or_value += \"</div></div>\";\n\n    /*if (command.type == Models.COMMAND_TYPES.attribution) {\n      menu_var_or_value += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\n      menu_var_or_value += '<div class=\"menu\">';\n      menu_var_or_value += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\n      menu_var_or_value += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\n      menu_var_or_value += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\n      menu_var_or_value += '</div></div>';\n      }*/\n    }\n\n  menu_var_or_value += \"</div></div>\";\n  menu_var_or_value = $(menu_var_or_value);\n\n  menu_var_or_value.find('.width-dynamic').on('input', function() {\n    var input_field = $(this);\n    var inputWidth = input_field.textWidth()+10;\n    inputWidth = inputWidth<50?50:inputWidth;\n    input_field.css({width: inputWidth})\n    }).trigger('input');\n\n  dom_object.append(menu_var_or_value);\n\n  ref_object.dom_object = menu_var_or_value;\n\n  addHandlers(command, ref_object, dom_object, menu_var_or_value, function_obj, expression_element);\n\n  addVariablesToMenu(function_obj,       menu_var_or_value, ref_object, expression_element);\n\n  addFunctionsToMenu(function_obj,       menu_var_or_value, ref_object, expression_element);\n\n  addIVProgFunctionsToMenu(function_obj, menu_var_or_value, ref_object, expression_element);\n\n  //D console.log(\"./ivprog/js/visualUI/commands/variable_value_menu.js: renderMenu(.): ref_object.content=\" + ref_object.content);\n  //leo ATTENTION: if constant with value 0 does not pass in \"if ((ref_object.content)\"\n  if (ref_object.content || ref_object.content==0 || ref_object.function_called) {\n    if (ref_object.content || ref_object.content==0) { //leo\n      // Verificar se a variavel ainda existe:\n      const variable_fun = isVarInProgram(ref_object.content, function_obj);\n      if (variable_fun) {\n        ref_object.content = variable_fun;\n        renderPreviousContent(function_obj, menu_var_or_value, ref_object, dom_object, command, expression_element);\n      } else {\n        if ((ref_object.content || ref_object.content==0) && ref_object.content.type) { //leo\n          ref_object.content = null;\n          appendSelectText(ref_object, menu_var_or_value);\n        } else {\n          renderPreviousContent(function_obj, menu_var_or_value, ref_object, dom_object, command, expression_element);\n        }\n      }\n    } else if (ref_object.function_called) {\n      // Verificar se a funcao ainda existe:\n      const ret_function = isFunctionInProgram(ref_object.function_called);\n      if (ret_function) {\n        ref_object.function_called = ret_function;\n        renderPreviousContent(function_obj, menu_var_or_value, ref_object, dom_object, command, expression_element);\n      } else {\n        ref_object.content = null;\n        ref_object.row = null;\n        ref_object.column = null;\n        delete ref_object.function_called;\n        delete ref_object.parameters_list;\n        appendSelectText(ref_object, menu_var_or_value);\n        }\n      }\n    } // if (ref_object.content || ref_object.content==0)\n  else {\n    appendSelectText(ref_object, menu_var_or_value);\n    }\n  //D console.log(\"variable_value_menu.jsrenderMenu(.): ending\");\n  } // export function renderMenu(command, ref_object, dom_object, function_obj, size_field = 2, expression_element)\n\n\nfunction appendSelectText (ref_object, menu_var_or_value) {\n  // if (ref_object.reference_parent) { menu_var_or_value.find(\".text\").append(\"<i>Opcional</i>\"); return; }\n  switch (ref_object.variable_and_value) {\n    case VAR_OR_VALUE_TYPES.only_variable:\n      menu_var_or_value.find(\".text\").append(\"<i>\" + LocalizedStrings.getUI(\"var_menu_select_var\") + \"</i>\");\n      break;\n    case VAR_OR_VALUE_TYPES.all:\n      menu_var_or_value.find(\".text\").append(\"<i>\" + LocalizedStrings.getUI(\"var_menu_select_all\") + \"</i>\");\n      break;\n    case VAR_OR_VALUE_TYPES.variable_and_function:\n      menu_var_or_value.find(\".text\").append(\"<i>\" + LocalizedStrings.getUI(\"var_menu_select_all\") + \"</i>\");\n      break;\n    case VAR_OR_VALUE_TYPES.only_function:\n      menu_var_or_value.find(\".text\").append(\"<i>\" + LocalizedStrings.getUI(\"var_menu_select_function\") + \"</i>\");\n      break;\n    }\n  } // function appendSelectText(ref_object, menu_var_or_value)\n\n\nfunction isFunctionInProgram (function_called_obj) {\n  if (function_called_obj.name) {\n    if (window.program_obj.functions) {\n      for (var i = 0; i < window.program_obj.functions.length; i++) {\n        if (window.program_obj.functions[i] == function_called_obj) {\n          return window.program_obj.functions[i];\n          }\n        }\n      for (var i = 0; i < window.program_obj.functions.length; i++) {\n        if (window.program_obj.functions[i].name == function_called_obj.name) {\n          return window.program_obj.functions[i];\n          }\n        }\n      }\n  } else if (function_called_obj.identifier) {\n    for (var i = 0; i < window.system_functions.length; i++) {\n      if (window.system_functions[i].identifier == function_called_obj.identifier) {\n        return window.system_functions[i];\n        }\n      }\n    }\n\n  return null;\n  } // function isFunctionInProgram(function_called_obj)\n\n\nfunction isVarInProgram (var_obj, function_obj) {\n  // Verify in locals:\n  if (function_obj.variables_list) {\n    for (var i = 0; i < function_obj.variables_list.length; i++) {\n      if (function_obj.variables_list[i] == var_obj) {\n        return function_obj.variables_list[i];\n      }\n    }\n  }\n  // Verify in parameters:\n  if (function_obj.parameters_list) {\n    for (var i = 0; i < function_obj.parameters_list.length; i++) {\n      if (function_obj.parameters_list[i] == var_obj) {\n        return function_obj.parameters_list[i];\n      }\n    }\n  }\n  // Verify in globals:\n  if (window.program_obj.globals) {\n    for (var i = 0; i < window.program_obj.globals.length; i++) {\n      if (window.program_obj.globals[i] == var_obj) {\n        return window.program_obj.globals[i];\n      }\n    }\n  }\n\n  // If not found, verify if the reference was lost\n  if (var_obj) {\n    if (function_obj.variables_list) {\n      for (var i = 0; i < function_obj.variables_list.length; i++) {\n        if (function_obj.variables_list[i].name == var_obj.name) {\n          return function_obj.variables_list[i];\n        }\n      }\n    }\n    if (function_obj.parameters_list) {\n      for (var i = 0; i < function_obj.parameters_list.length; i++) {\n        if (function_obj.parameters_list[i].name == var_obj.name) {\n          return function_obj.parameters_list[i];\n        }\n      }\n    }\n    if (window.program_obj.globals) {\n      for (var i = 0; i < window.program_obj.globals.length; i++) {\n        if (window.program_obj.globals[i].name == var_obj.name) {\n          return window.program_obj.globals[i];\n          }\n        }\n      }\n    }\n\n  return null;\n  }\n\n\nfunction renderPreviousContent (function_obj, menu_var_or_value, ref_object, dom_object, command, expression_element) {\n  if (ref_object.function_called) {\n    menu_var_or_value.remove();\n    variableValueMenuCode(command, ref_object, dom_object, function_obj, menu_var_or_value, expression_element);\n  } else if (ref_object.content.type) {\n    menu_var_or_value.remove();\n    variableValueMenuCode(command, ref_object, dom_object, function_obj, menu_var_or_value, expression_element);\n  } else {\n    menu_var_or_value.remove();\n    variableValueMenuCode(command, ref_object, dom_object, function_obj, menu_var_or_value, expression_element);\n    }\n  }\n\n\nfunction variableValueMenuCode (command, variable_obj, dom_object, function_obj, menu_var_or_value, expression_element) {\n  if (variable_obj.content || variable_obj.function_called) {\n    // Verificar se a variavel ainda existe:\n    const var_fun = isVarInProgram(variable_obj.content, function_obj);\n\n    if (var_fun) {\n      variable_obj.content = var_fun;\n    } else {\n      if (variable_obj.content && variable_obj.content.type) {\n        variable_obj.content = null;\n        appendSelectText(variable_obj, menu_var_or_value);\n        }\n      }\n  } else {\n    appendSelectText(variable_obj, menu_var_or_value);\n    }\n\n  if (variable_obj.content == null && variable_obj.function_called == null) {\n    renderMenu(command, variable_obj, dom_object, function_obj, 2, expression_element);\n    return;\n    }\n\n  const ret = \"\";\n  if (variable_obj.function_called) {\n    if (variable_obj.function_called.parameters_list == null || variable_obj.function_called.length == 0) {\n      menu_var_or_value.find(\".text\").text(\" \");\n      dom_object.find(\".menu_var_or_value_dom\").remove();\n\n      var parameters_menu;\n\n      if (variable_obj.function_called.name) {\n        parameters_menu = '<div class=\"parameters_function_called\"> ' + variable_obj.function_called.name + \" <span> ( </span>\";\n      } else {\n        parameters_menu = '<div class=\"parameters_function_called\"> <i>' + \n\t  LocalizedStrings.translateInternalFunction(variable_obj.function_called.identifier, variable_obj.function_called.category) + \"</i> <span> ( </span>\";\n        }\n\n      parameters_menu += \"<span> ) </span></div>\";\n      parameters_menu = $(parameters_menu);\n\n      dom_object.append(parameters_menu);\n\n      var context_menu = '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n      context_menu += '<div class=\"item\" data-clear=\"true\">' + LocalizedStrings.getUI(\"btn_clear\") + \"</div>\"; // Clear\n\n      /*if (command.type == Models.COMMAND_TYPES.attribution) {\n        context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\n        context_menu += '<div class=\"menu\">';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\n        context_menu += '</div></div>';\n\t}*/\n\n      context_menu += \"</div></div>\";\n      context_menu = $(context_menu);\n\n      context_menu.insertAfter(dom_object.find(\".parameters_function_called\"));\n\n      context_menu.dropdown({\n        onChange: function (value, text, $selectedItem) {\n          if ($selectedItem.data(\"clear\")) {\n            dom_object.text(\"\");\n\n            variable_obj.content = null;\n            variable_obj.row = null;\n            variable_obj.column = null;\n            delete variable_obj.function_called;\n            delete variable_obj.parameters_list;\n\n            renderMenu(command, variable_obj, dom_object, function_obj, 2, expression_element);\n            }\n\n          if ($selectedItem.data(\"exp\")) {\n            AttribuitionsManagement.manageExpressionElements(command, variable_obj, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element);\n            }\n        },\n        selectOnKeydown: false,\n      });\n    } else {\n      menu_var_or_value.find(\".text\").text(\" \");\n      dom_object.find(\".menu_var_or_value_dom\").remove();\n\n      var parameters_menu;\n\n      if (variable_obj.function_called.name) {\n        parameters_menu = '<div class=\"parameters_function_called\"> ' + variable_obj.function_called.name + \" <span> ( </span>\";\n      } else {\n        parameters_menu = '<div class=\"parameters_function_called\"> <i>' + \n\t  LocalizedStrings.translateInternalFunction(variable_obj.function_called.identifier, variable_obj.function_called.category) + \"</i> <span> ( </span>\";\n        }\n\n      for (let j = 0; j < variable_obj.function_called.parameters_list.length; j++) {\n        parameters_menu += '<div class=\"render_style_param parameter_' + j + '\"></div>';\n        if (j + 1 != variable_obj.function_called.parameters_list.length) {\n          parameters_menu += \" , \";\n        }\n      }\n      parameters_menu += \"<span> ) </span></div>\";\n      parameters_menu = $(parameters_menu);\n\n      dom_object.append(parameters_menu);\n\n      for (let j = 0; j < variable_obj.function_called.parameters_list.length; j++) {\n        renderMenu(command, variable_obj.parameters_list[j], parameters_menu.find(\".parameter_\" + j), function_obj, 2, expression_element);\n        }\n\n      let context_menu = '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n      context_menu += '<div class=\"item\" data-clear=\"true\">' + LocalizedStrings.getUI(\"btn_clear\") + \"</div>\";\n\n      /*if (command.type == Models.COMMAND_TYPES.attribution) {\n        context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\n        context_menu += '<div class=\"menu\">';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\n        context_menu += '</div></div>';\n\t}*/\n\n      context_menu += \"</div></div>\";\n      context_menu = $(context_menu);\n\n      context_menu.insertAfter(parameters_menu);\n\n      context_menu.dropdown({\n        onChange: function (value, text, $selectedItem) {\n          if ($selectedItem.data(\"clear\")) {\n            dom_object.text(\"\");\n\n            variable_obj.content = null;\n            variable_obj.row = null;\n            variable_obj.column = null;\n            delete variable_obj.function_called;\n            delete variable_obj.parameters_list;\n\n            renderMenu(command, variable_obj, dom_object, function_obj, 2, expression_element);\n            }\n\n          if ($selectedItem.data(\"exp\")) {\n            AttribuitionsManagement.manageExpressionElements(command, variable_obj, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element);\n            }\n          },\n          selectOnKeydown: false,\n          });\n        }\n  } else if (variable_obj.content.type) { // here inside 'function variableValueMenuCode(command,variable_obj,dom_object,function_obj,menu_var_or_value,expression_element)'\n    let variable_render = \"\";\n    //D console.log(\"variable_value_menu.variableValueMenuCode(.): variable_obj.content.name=\" + variable_obj.content.name);\n    if (variable_obj.content.dimensions == 1 && variable_obj.dimensions != 1) {\n      variable_render = '<div class=\"variable_rendered\"> <span class=\"var_name\">' + variable_obj.content.name + \"</span>\";\n\n      if (variable_obj.reference_dimensions >= 1)\n        variable_render += '';\n      else\n        variable_render += ' <span>[ </span> <div class=\"column_container\"></div> <span> ]</span>';\n\n      variable_render += \"</div>\";\n      variable_render = $(variable_render);\n\n      dom_object.append(variable_render);\n\n      let context_menu =\n        '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n      context_menu +=\n        '<div class=\"item\" data-clear=\"true\">' +\n        LocalizedStrings.getUI(\"btn_clear\") +\n        \"</div>\";\n\n      /*if (command.type == Models.COMMAND_TYPES.attribution) {\n        context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\n        context_menu += '<div class=\"menu\">';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\n        context_menu += '</div></div>';\n\t}*/\n\n      context_menu += \"</div></div>\";\n      context_menu = $(context_menu);\n\n      variable_render.append(context_menu);\n\n      context_menu.dropdown({\n        onChange: function (value, text, $selectedItem) {\n          if ($selectedItem.data(\"clear\")) {\n            dom_object.text(\"\");\n\n            variable_obj.content = null;\n            variable_obj.row = null;\n            variable_obj.column = null;\n            delete variable_obj.function_called;\n            delete variable_obj.parameters_list;\n            renderMenu(command, variable_obj, dom_object, function_obj, 2, expression_element);\n            }\n\n          if ($selectedItem.data(\"exp\")) {\n            AttribuitionsManagement.manageExpressionElements(command, variable_obj, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element);\n            }\n          },\n        selectOnKeydown: false,\n        });\n\n      if (!variable_obj.column) {\n        var temp = new Models.VariableValueMenu(VAR_OR_VALUE_TYPES.all, null, null, null, true);\n        if (variable_obj.reference)\n          temp.reference_parent = true\n        variable_obj.column = temp;\n        }\n\n      variableValueMenuCode(command, variable_obj.column, $(variable_render.find(\".column_container\")), function_obj, menu_var_or_value, expression_element);\n    } else if (variable_obj.content.dimensions == 2 && variable_obj.dimensions != 2) {\n      variable_render = '<div class=\"variable_rendered\"> <span class=\"var_name\">' + variable_obj.content.name + \"</span>\";\n      \n      variable_render += ' <span>[ </span> <div class=\"row_container\"></div> <span> ]</span>';\n\n      if (variable_obj.reference_dimensions == 0)\n        variable_render += ' <span>[ </span> <div class=\"column_container\"></div> <span> ] </span>';\n\n      variable_render += \"</div>\";\n      variable_render = $(variable_render);\n\n      dom_object.append(variable_render);\n\n      let context_menu =\n        '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n      context_menu +=\n        '<div class=\"item\" data-clear=\"true\">' +\n        LocalizedStrings.getUI(\"btn_clear\") +\n        \"</div>\";\n\n      /*if (command.type == Models.COMMAND_TYPES.attribution) {\n        context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\n        context_menu += '<div class=\"menu\">';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\n        context_menu += '</div></div>';\n\t}*/\n\n      context_menu += \"</div></div>\";\n      context_menu = $(context_menu);\n\n      variable_render.append(context_menu);\n\n      context_menu.dropdown({\n        onChange: function (value, text, $selectedItem) {\n          if ($selectedItem.data(\"clear\")) {\n            dom_object.text(\"\");\n            variable_obj.content = null;\n            variable_obj.row = null;\n            variable_obj.column = null;\n            delete variable_obj.function_called;\n            delete variable_obj.parameters_list;\n\n            renderMenu(command, variable_obj, dom_object, function_obj, 2, expression_element);\n            }\n\n          if ($selectedItem.data(\"exp\")) {\n            AttribuitionsManagement.manageExpressionElements(command, variable_obj, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element);\n            }\n          },\n        selectOnKeydown: false,\n        });\n\n      if (!variable_obj.column) {\n        var temp = new Models.VariableValueMenu(VAR_OR_VALUE_TYPES.all, null, null, null, true);\n        if (variable_obj.reference)\n          temp.reference_parent = true\n        variable_obj.column = temp\n      }\n      if (!variable_obj.row) {\n        var temp = new Models.VariableValueMenu(VAR_OR_VALUE_TYPES.all, null, null, null, true);\n\n        if (variable_obj.reference)\n          temp.reference_parent = true\n\n        variable_obj.row = temp\n        }\n\n      variableValueMenuCode(command, variable_obj.row, $(variable_render.find(\".row_container\")), function_obj, menu_var_or_value, expression_element);\n\n      if (variable_obj.reference_dimensions == 1) {\n        variable_obj.column = null\n      } else {\n        variableValueMenuCode(command, variable_obj.column, $(variable_render.find(\".column_container\")), function_obj, menu_var_or_value, expression_element);\n        }\n    } else {\n      variable_render = '<div class=\"variable_rendered\"> <span class=\"var_name\">' + variable_obj.content.name + \"</span>\";\n\n      variable_render += \"</div>\";\n      variable_render = $(variable_render);\n\n      dom_object.append(variable_render);\n\n      let context_menu = '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n      context_menu += '<div class=\"item\" data-clear=\"true\">' + LocalizedStrings.getUI(\"btn_clear\") + \"</div>\";\n\n      /*if (command.type == Models.COMMAND_TYPES.attribution && !dom_object.hasClass('var_attributed')) {\n        console.log('dom_object6');\n        console.log(dom_object);\n        context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\n        context_menu += '<div class=\"menu\">';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\n        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\n        context_menu += '</div></div>';\n\t}*/\n\n      context_menu += \"</div></div>\";\n      context_menu = $(context_menu);\n\n      variable_render.append(context_menu);\n\n      context_menu.dropdown({\n        onChange: function (value, text, $selectedItem) {\n          if ($selectedItem.data(\"clear\")) {\n            dom_object.text(\"\");\n            variable_obj.content = null;\n            variable_obj.row = null;\n            variable_obj.column = null;\n            delete variable_obj.function_called;\n            delete variable_obj.parameters_list;\n\n            renderMenu(command, variable_obj, dom_object, function_obj, 2, expression_element);\n            }\n\n          if ($selectedItem.data(\"exp\")) {\n            AttribuitionsManagement.manageExpressionElements(command, variable_obj, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element);\n            }\n        },\n        selectOnKeydown: false,\n      });\n    }\n  } else {\n    let variable_render;\n    variable_render = '<div class=\"variable_rendered\"> <span class=\"var_name\">';\n\n    if (isNaN(variable_obj.content)) {\n      variable_render += variable_obj.content.split(\" \").join(\"&nbsp;\");\n    } else {\n      variable_render += variable_obj.content;\n      }\n\n    variable_render += \"</span>\";\n    variable_render += \"</div>\";\n\n    variable_render = $(variable_render);\n\n    dom_object.append(variable_render);\n\n    var context_menu = '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n    context_menu += '<div class=\"item\" data-clear=\"true\">' + LocalizedStrings.getUI(\"btn_clear\") + \"</div>\";\n\n    /*if (command.type == Models.COMMAND_TYPES.attribution) {\n      context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\n      context_menu += '<div class=\"menu\">';\n      context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\n      context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\n      context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\n      context_menu += '</div></div>';\n      }*/\n\n    context_menu += \"</div></div>\";\n\n    context_menu = $(context_menu);\n\n    if (variable_obj.variable_and_value != VAR_OR_VALUE_TYPES.only_value) {\n      context_menu.insertAfter(variable_render);\n      }\n\n    context_menu.dropdown({\n      onChange: function (value, text, $selectedItem) {\n        if ($selectedItem.data(\"clear\")) {\n          dom_object.text(\"\");\n          variable_obj.content = null;\n          variable_obj.row = null;\n          variable_obj.column = null;\n          delete variable_obj.function_called;\n          delete variable_obj.parameters_list;\n          dom_object.find(\".value_rendered\").remove();\n          dom_object.find(\".context_menu_clear\").remove();\n          dom_object.find(\".width-dynamic-minus\").remove();\n\n          renderMenu(command, variable_obj, dom_object, function_obj, 2, expression_element);\n          }\n\n        if ($selectedItem.data(\"exp\")) {\n          AttribuitionsManagement.manageExpressionElements(command, variable_obj, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element);\n          }\n        }, selectOnKeydown: false,\n      });\n\n    variable_render.on(\"click\", function (e) {\n      variable_render.remove();\n      variable_render.empty();\n      variable_render.remove();\n      dom_object.empty();\n      dom_object.append('<span class=\"menu_var_or_value_dom\"> </span>');\n      openInputToValue(command, variable_obj, dom_object, menu_var_or_value, function_obj, expression_element);\n      });\n    }\n  }\n\nfunction addIVProgFunctionsToMenu (function_obj, menu_var_or_value, ref_object, expression_element) {\n  const sub_menu = menu_var_or_value.find(\".menu_only_functions\");\n  sub_menu.append('<div class=\"divider\"></div><div class=\"header\">' + LocalizedStrings.getUI(\"text_header_ivprog_functions\") + \"</div>\");\n  sub_menu.append('<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI(\"text_menu_functions_math\") +\n   '<div class=\"menu menu_math_functions\"></div></div>');\n  sub_menu.append('<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI(\"text_menu_functions_text\") +\n    '<div class=\"menu menu_text_functions\"></div></div>');\n  sub_menu.append('<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI(\"text_menu_functions_array\") +\n    '<div class=\"menu menu_arrangement_functions\"></div></div>');\n  sub_menu.append('<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI(\"text_menu_functions_conversion\") +\n    '<div class=\"menu menu_conversion_functions\"></div></div>');\n\n  // Insert Math functions:\n  for (let i = 0; i < window.system_functions.length; i++) {\n    const t = $('<div class=\"item\"></div>');\n    t.data(\"function_reference\", window.system_functions[i]);\n    t.data(\"option\", VAR_OR_VALUE_TYPES.only_function);\n    t.text(LocalizedStrings.translateInternalFunction(window.system_functions[i].identifier));\n\n    switch (window.system_functions[i].category) {\n      case Models.SYSTEM_FUNCTIONS_CATEGORIES.math:\n        sub_menu.find(\".menu_math_functions\").append(t);\n        break;\n      case Models.SYSTEM_FUNCTIONS_CATEGORIES.text:\n        sub_menu.find(\".menu_text_functions\").append(t);\n        break;\n      case Models.SYSTEM_FUNCTIONS_CATEGORIES.arrangement:\n        sub_menu.find(\".menu_arrangement_functions\").append(t);\n        break;\n      case Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion:\n        sub_menu.find(\".menu_conversion_functions\").append(t);\n        break;\n      }\n    }\n  }\n\nfunction addFunctionsToMenu (function_obj, menu_var_or_value, ref_object, expression_element) {\n  const sub_menu = menu_var_or_value.find(\".menu_only_functions\");\n  sub_menu.text(\"\");\n  for (let i = 0; i < window.program_obj.functions.length; i++) {\n    const temp = $('<div class=\"item\" data-option=\"' + VAR_OR_VALUE_TYPES.only_function + '\">' + window.program_obj.functions[i].name + \" </div>\");\n    temp.data(\"function_reference\", window.program_obj.functions[i]);\n    sub_menu.append(temp);\n    }\n  }\n\nfunction addVariablesToMenu (function_obj, menu_var_or_value, ref_object, expression_element) {\n  const sub_menu = menu_var_or_value.find(\".menu_only_vars\");\n  sub_menu.text(\"\");\n  let is_there = false;\n\n  if (window.program_obj.globals) {\n    if (ref_object.include_constant) {\n      for (var i = 0; i < window.program_obj.globals.length; i++) {\n        var temp = $('<div class=\"item\" data-option=\"' + VAR_OR_VALUE_TYPES.only_variable + '\">' + window.program_obj.globals[i].name + \" </div>\");\n        temp.data(\"variable_reference\", window.program_obj.globals[i]);\n        sub_menu.append(temp);\n        is_there = true;\n      }\n    } else {\n      for (var i = 0; i < window.program_obj.globals.length; i++) {\n        if (!window.program_obj.globals[i].is_constant) {\n          var temp = $('<div class=\"item\" data-option=\"' + VAR_OR_VALUE_TYPES.only_variable + '\">' + window.program_obj.globals[i].name + \" </div>\");\n          temp.data(\"variable_reference\", window.program_obj.globals[i]);\n          sub_menu.append(temp);\n          is_there = true;\n        }\n      }\n    }\n  }\n\n  if (function_obj.parameters_list) {\n    for (var i = 0; i < function_obj.parameters_list.length; i++) {\n      var temp = $('<div class=\"item\" data-option=\"' + VAR_OR_VALUE_TYPES.only_variable + '\">' + function_obj.parameters_list[i].name + \" </div>\");\n      temp.data(\"variable_reference\", function_obj.parameters_list[i]);\n      sub_menu.append(temp);\n      is_there = true;\n    }\n  }\n\n  if (function_obj.variables_list) {\n    for (var i = 0; i < function_obj.variables_list.length; i++) {\n      var temp = $('<div class=\"item\" data-option=\"' + VAR_OR_VALUE_TYPES.only_variable + '\">' + function_obj.variables_list[i].name + \" </div>\");\n      temp.data(\"variable_reference\", function_obj.variables_list[i]);\n      sub_menu.append(temp);\n      is_there = true;\n      }\n    }\n  if (!is_there) {\n    sub_menu.append($('<div class=\"header\">' + LocalizedStrings.getUI(\"text_no_variable\") + \"</div>\"));\n    sub_menu.append($('<div class=\"item disabled\">' + LocalizedStrings.getUI(\"text_no_variable_instruction\") + \"</div>\"));\n    }\n  }\n\nfunction addHandlers (command, ref_object, dom_object, menu_var_or_value, function_obj, expression_element) {\n  //D console.log(\"variable_value_menu.js!addHandlers(.): ref_object.variable_and_value=\" + ref_object.variable_and_value); //D\n  if (ref_object.variable_and_value != VAR_OR_VALUE_TYPES.only_value) {\n    menu_var_or_value.dropdown({\n      onChange: function (value, text, $selectedItem) {\n        dom_object.find(\".var_name\").remove();\n        switch ($selectedItem.data(\"option\")) {\n          case VAR_OR_VALUE_TYPES.only_function:\n            openInputToFunction(\n              command,\n              ref_object,\n              dom_object,\n              menu_var_or_value,\n              function_obj,\n              $($selectedItem).data(\"function_reference\"),\n              expression_element\n            );\n            break;\n\n          case VAR_OR_VALUE_TYPES.only_value:\n            openInputToValue(\n              command,\n              ref_object,\n              dom_object,\n              menu_var_or_value,\n              function_obj,\n              expression_element\n            );\n            break;\n\n          case VAR_OR_VALUE_TYPES.only_variable:\n            openInputToVariable(\n              command,\n              ref_object,\n              dom_object,\n              menu_var_or_value,\n              function_obj,\n              $($selectedItem).data(\"variable_reference\"),\n              expression_element\n            );\n            break;\n        }\n\n        if ($selectedItem.data(\"exp\")) {\n          AttribuitionsManagement.manageExpressionElements(\n            command,\n            ref_object,\n            dom_object,\n            menu_var_or_value,\n            function_obj,\n            $selectedItem,\n            expression_element\n          );\n        }\n\n        if (command.type == Models.COMMAND_TYPES.repeatNtimes) {\n          RepeatNTimesManagement.manageExpressionElements(\n            command,\n            ref_object,\n            dom_object,\n            menu_var_or_value,\n            function_obj,\n            $selectedItem,\n            expression_element\n          );\n        }\n      },\n      selectOnKeydown: false,\n    });\n  }\n\n  dom_object\n    .find(\".width-dynamic\")\n    .on(\"input\", function () {\n      const inputWidth = $(this).textWidth() + 10;\n      $(this).focus();\n\n      const tmpStr = $(this).val();\n      $(this).val(\"\");\n      $(this).val(tmpStr);\n\n      $(this).css({\n        width: inputWidth,\n      });\n    })\n    .trigger(\"input\");\n\n  if (command.type == Models.COMMAND_TYPES.comment) {\n    dom_object.parent().on(\"click\", function (e) {\n      dom_object.find(\".value_rendered\").remove();\n      dom_object.find(\".value_rendered\").empty();\n      dom_object.find(\".value_rendered\").remove();\n      dom_object.empty();\n      dom_object.append('<span class=\"menu_var_or_value_dom\"> </span>');\n\n      openInputToValue(\n        command,\n        ref_object,\n        dom_object,\n        menu_var_or_value,\n        function_obj,\n        expression_element\n      );\n    });\n  }\n}\n\nfunction openInputToFunction (\n  command,\n  ref_object,\n  dom_object,\n  menu_var_or_value,\n  function_obj,\n  function_selected,\n  expression_element\n) {\n  ref_object.function_called = function_selected;\n  ref_object.parameters_list = [];\n\n  if (\n    function_selected.parameters_list != null &&\n    function_selected.parameters_list.length > 0\n  ) {\n    menu_var_or_value.find(\".text\").text(\" \");\n    dom_object.find(\".menu_var_or_value_dom\").remove();\n\n    var parameters_menu;\n    if (function_selected.name) {\n      parameters_menu =\n        '<div class=\"parameters_function_called\"> ' +\n        function_selected.name +\n        \" <span> ( </span>\";\n    } else {\n      parameters_menu =\n        '<div class=\"parameters_function_called\"> <i>' +\n        LocalizedStrings.translateInternalFunction(function_selected.identifier, function_selected.category) +\n        \"</i> <span> ( </span>\\n\";\n      }\n    for (var j = 0; j < function_selected.parameters_list.length; j++) {\n      parameters_menu += '<div class=\"render_style_param parameter_' + j + '\"></div>';\n      if (j + 1 != function_selected.parameters_list.length) {\n        parameters_menu += \" , \";\n        }\n    }\n    parameters_menu += \"<span> ) </span></div>\\n\";\n\n    parameters_menu = $(parameters_menu);\n\n    dom_object.append(parameters_menu);\n\n    for (var j = 0; j < function_selected.parameters_list.length; j++) {\n      var temp;\n      if (function_selected.parameters_list[j].dimensions > 0) {\n        temp = new Models.VariableValueMenu(VAR_OR_VALUE_TYPES.variable_and_function, null, null, null, true, function_selected.parameters_list[j].dimensions);\n      } else {\n        temp = new Models.VariableValueMenu(VAR_OR_VALUE_TYPES.all, null, null, null, true);\n        }\n\n      if (function_selected.parameters_list[j].reference == true) {\n        temp.reference = true;\n        temp.variable_and_value = VAR_OR_VALUE_TYPES.only_variable;\n      } else {\n        temp.reference = false;\n        temp.variable_and_value = VAR_OR_VALUE_TYPES.all;\n        }\n      temp.reference_dimensions = function_selected.parameters_list[j].dimensions\n      \n      ref_object.parameters_list.push(temp);\n      renderMenu(command, temp, parameters_menu.find(\".parameter_\" + j), function_obj, 2, expression_element);\n    }\n\n    var context_menu = '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n    context_menu +=\n      '<div class=\"item\" data-clear=\"true\">' +\n      LocalizedStrings.getUI(\"btn_clear\") +\n      \"</div>\";\n\n    /*if (command.type == Models.COMMAND_TYPES.attribution) {\n      context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\n      context_menu += '<div class=\"menu\">';\n      context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\n      context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\n      context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\n      context_menu += '</div></div>';\n      }*/\n\n    context_menu += \"</div></div>\\n\";\n\n    context_menu = $(context_menu);\n\n    context_menu.insertAfter(dom_object.find(\".parameters_function_called\"));\n\n    context_menu.dropdown({\n      onChange: function (value, text, $selectedItem) {\n        if ($selectedItem.data(\"clear\")) {\n          dom_object.text(\"\");\n\n          ref_object.content = null;\n          ref_object.row = null;\n          ref_object.column = null;\n          delete ref_object.function_called;\n          delete ref_object.parameters_list;\n\n          renderMenu(command, ref_object, dom_object, function_obj, 2, expression_element);\n          }\n\n        if ($selectedItem.data(\"exp\")) {\n          AttribuitionsManagement.manageExpressionElements(command, ref_object, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element);\n        }\n      },\n      selectOnKeydown: false,\n    });\n  } else {\n    menu_var_or_value.find(\".text\").text(\" \");\n    dom_object.find(\".menu_var_or_value_dom\").remove();\n\n    var parameters_menu;\n\n    if (function_selected.name) {\n      parameters_menu =\n        '<div class=\"parameters_function_called\"> ' +\n        function_selected.name +\n        \" <span> ( </span>\";\n    } else {\n      parameters_menu =\n        '<div class=\"parameters_function_called\"> <i>' +\n        LocalizedStrings.translateInternalFunction(function_selected.identifier, function_selected.category) +\n        \"</i> <span> ( </span>\";\n    }\n\n    parameters_menu += \"<span> ) </span></div>\";\n\n    parameters_menu = $(parameters_menu);\n\n    dom_object.append(parameters_menu);\n\n    var context_menu = '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n    context_menu +=\n      '<div class=\"item\" data-clear=\"true\">' +\n      LocalizedStrings.getUI(\"btn_clear\") +\n      \"</div>\";\n\n    /*if (command.type == Models.COMMAND_TYPES.attribution) {\n      context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\n      context_menu += '<div class=\"menu\">';\n      context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\n      context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\n      context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\n      context_menu += '</div></div>';\n      }*/\n\n    context_menu += \"</div></div>\";\n\n    context_menu = $(context_menu);\n\n    context_menu.insertAfter(dom_object.find(\".parameters_function_called\"));\n\n    context_menu.dropdown({\n      onChange: function (value, text, $selectedItem) {\n        if ($selectedItem.data(\"clear\")) {\n          dom_object.text(\"\");\n\n          ref_object.content = null;\n          ref_object.row = null;\n          ref_object.column = null;\n          delete ref_object.function_called;\n          delete ref_object.parameters_list;\n\n          renderMenu(command, ref_object, dom_object, function_obj, 2, expression_element);\n          }\n\n        if ($selectedItem.data(\"exp\")) {\n          AttribuitionsManagement.manageExpressionElements(command, ref_object, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element);\n          }\n        },\n      selectOnKeydown: false,\n      });\n    }\n\n  /*if (command.type == Models.COMMAND_TYPES.attribution) {\n      AttribuitionsManagement.renderMenuOperations(command, ref_object, dom_object, menu_var_or_value, function_obj);\n      }*/\n  }\n\nfunction openInputToVariable (command, ref_object, dom_object, menu_var_or_value, function_obj, variable_selected, expression_element) {\n  ref_object.content = variable_selected;\n\n  menu_var_or_value.find(\".text\").text(\" \");\n  dom_object.find(\".menu_var_or_value_dom\").remove();\n\n  let variable_render =\n    '<div class=\"variable_rendered\"> <span class=\"var_name\">' +\n    variable_selected.name +\n    \"</span>\";\n\n  if (variable_selected.dimensions == 1 && ref_object.dimensions != 1) {    \n    variable_render += ' <span>[ </span> <div class=\"column_container\"></div> <span> ]</span>';\n    }\n  if (variable_selected.dimensions == 2 && ref_object.dimensions != 2) {\n    variable_render += ' <span>[ </span> <div class=\"row_container\"></div> <span> ]</span> ';\n    variable_render += ' <span>[ </span> <div class=\"column_container\"></div> <span> ]</span>';\n    }\n\n  variable_render += \"</div>\";\n  variable_render = $(variable_render);\n  dom_object.append(variable_render);\n\n  if (variable_selected.dimensions == 1 && ref_object.dimensions != 1) {\n    var temp = new Models.VariableValueMenu(VAR_OR_VALUE_TYPES.all, null, null, null, true);\n    if (ref_object.reference)\n      temp.reference_parent = true\n\n    ref_object.column = temp\n\n    renderMenu(command, ref_object.column, variable_render.find(\".column_container\"), function_obj, 2, expression_element);\n  }\n  if (variable_selected.dimensions == 2 && ref_object.dimensions != 2) {\n    var temp = new Models.VariableValueMenu(VAR_OR_VALUE_TYPES.all, null, null, null, true);\n\n    if (ref_object.reference)\n      temp.reference_parent = true\n\n    ref_object.row = temp\n\n    renderMenu(command, ref_object.row, variable_render.find(\".row_container\"), function_obj, 2, expression_element);\n\n    var temp = new Models.VariableValueMenu(VAR_OR_VALUE_TYPES.all, null, null, null, true);\n\n    if (ref_object.reference)\n      temp.reference_parent = true\n\n    ref_object.column = temp\n    \n    renderMenu(command, ref_object.column, variable_render.find(\".column_container\"), function_obj, 2, expression_element);\n    }\n\n  let context_menu = '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n  context_menu +=\n    '<div class=\"item\" data-clear=\"true\">' +\n    LocalizedStrings.getUI(\"btn_clear\") +\n    \"</div>\";\n\n  /*if (command.type == Models.COMMAND_TYPES.attribution && !dom_object.hasClass('var_attributed')) {\n    console.log(\"dom_object 10: \");\n    console.log(dom_object);\n    context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\n    context_menu += '<div class=\"menu\">';\n    context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\n    context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\n    context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\n    context_menu += '</div></div>';\n    }*/\n\n  context_menu += \"</div></div>\";\n\n  context_menu = $(context_menu);\n\n  context_menu.insertAfter(dom_object.find(\".variable_rendered\"));\n\n  context_menu.dropdown({\n    onChange: function (value, text, $selectedItem) {\n      if ($selectedItem.data(\"clear\")) {\n        dom_object.text(\"\");\n\n        ref_object.content = null;\n        ref_object.row = null;\n        ref_object.column = null;\n\n        delete ref_object.function_called;\n        delete ref_object.parameters_list;\n\n        renderMenu(command, ref_object, dom_object, function_obj, 2, expression_element);\n      }\n\n      if ($selectedItem.data(\"exp\")) {\n        AttribuitionsManagement.manageExpressionElements( command, ref_object, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element);\n        }\n\n      if (command.type == Models.COMMAND_TYPES.repeatNtimes) {\n        RepeatNTimesManagement.manageClearExpressionElements( command, ref_object, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element);\n        }\n      },\n    selectOnKeydown: false,\n    });\n\n  /*if (command.type == Models.COMMAND_TYPES.attribution) {\n      AttribuitionsManagement.renderMenuOperations(command, ref_object, dom_object, menu_var_or_value, function_obj, variable_selected);\n      }*/\n}\n\nfunction openInputToValue (\n  command,\n  ref_object,\n  dom_object,\n  menu_var_or_value,\n  function_obj,\n  expression_element\n) {\n  if (ref_object.content == null) {\n    ref_object.content = \"\";\n  }\n\n  menu_var_or_value.find(\".text\").text(\" \");\n  const field = $(\n    '<input type=\"text\" size=\"2\" class=\"width-dynamic-minus\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" />'\n  );\n  field.insertBefore(dom_object.find(\".menu_var_or_value_dom\"));\n\n\n  field.on('input', function() {\n    var input_field = $(this);\n    var inputWidth = input_field.textWidth()+10;\n    inputWidth = inputWidth<50?50:inputWidth;\n      input_field.css({ width: inputWidth\n      })\n  }).trigger('input');\n\n  const rendered = $('<div class=\"value_rendered\"></div>');\n  rendered.insertBefore(field);\n\n  field.focus();\n  field.val(ref_object.content);\n\n  let context_menu =\n    '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\n  context_menu +=\n    '<div class=\"item\" data-clear=\"true\">' +\n    LocalizedStrings.getUI(\"btn_clear\") +\n    \"</div>\";\n\n  /*if (command.type == Models.COMMAND_TYPES.attribution) {\n    context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\n    context_menu += '<div class=\"menu\">';\n    context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\n    context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\n    context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\n    context_menu += '</div></div>';\n    }*/\n\n  context_menu += \"</div></div>\";\n\n  context_menu = $(context_menu);\n\n  dom_object.find(\".menu_var_or_value_dom\").remove();\n\n  if (ref_object.variable_and_value != VAR_OR_VALUE_TYPES.only_value) {\n    context_menu.insertAfter(field);\n  }\n\n  context_menu.dropdown({\n    onChange: function (value, text, $selectedItem) {\n      if ($selectedItem.data(\"clear\")) {\n        dom_object.text(\"\");\n\n        dom_object.find(\".value_rendered\").remove();\n        dom_object.find(\".context_menu_clear\").remove();\n        dom_object.find(\".width-dynamic-minus\").remove();\n\n        ref_object.content = null;\n        ref_object.row = null;\n        ref_object.column = null;\n\n        delete ref_object.function_called;\n        delete ref_object.parameters_list;\n\n        renderMenu(command, ref_object, dom_object, function_obj, 2, expression_element);\n        }\n\n      if ($selectedItem.data(\"exp\")) {\n        AttribuitionsManagement.manageExpressionElements(command, ref_object, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element\n        );\n      }\n    },\n    selectOnKeydown: false,\n  });\n\n  dom_object.find(\".width-dynamic-minus\").focusout(function () {\n    //if ($(this).val().trim()) { ref_object.content = $(this).val().trim();}\n    ref_object.content = $(this)\n        .val();\n\n    if (isNaN(ref_object.content)) {\n      rendered.html(ref_object.content.split(\" \").join(\"&nbsp;\"));\n    } else {\n      rendered.text(ref_object.content);\n    }\n    $(this).remove();\n  });\n\n  dom_object.find(\".width-dynamic-minus\").on(\"keydown\", function (e) {\n    const code = e.keyCode || e.which;\n    if (code == 13) {\n      //if ($(this).val().trim()) { ref_object.content = $(this).val().trim();}\n      ref_object.content = $(this).val();\n\n      if (isNaN(ref_object.content)) {\n        rendered.html(ref_object.content.split(\" \").join(\"&nbsp;\"));\n      } else {\n        rendered.text(ref_object.content);\n      }\n\n      $(this).remove();\n    }\n    if (code == 27) {\n      if (isNaN(ref_object.content)) {\n        rendered.html(ref_object.content.split(\" \").join(\"&nbsp;\"));\n      } else {\n        rendered.text(ref_object.content);\n      }\n\n      $(this).remove();\n    }\n  });\n\n  if (command.type == Models.COMMAND_TYPES.comment) {\n    /*rendered.parent().on('click', function(e) {\n      rendered.parent().off();\n      console.log(\"TTT14\");\n      rendered.remove();\n      rendered.empty();\n      rendered.remove();\n      dom_object.empty();\n      dom_object.append('<span class=\"menu_var_or_value_dom\"> </span>');\n      openInputToValue(command, ref_object, dom_object, menu_var_or_value, function_obj, expression_element)\n      });*/\n  }\n\n  rendered.on(\"click\", function (e) {\n    rendered.empty();\n    rendered.remove();\n    dom_object.empty();\n    dom_object.append('<span class=\"menu_var_or_value_dom\"> </span>');\n    openInputToValue(command, ref_object, dom_object, menu_var_or_value, function_obj, expression_element);\n    });\n\n  /*if (command.type == Models.COMMAND_TYPES.attribution) {\n    AttribuitionsManagement.renderMenuOperations(command, ref_object, dom_object, menu_var_or_value, function_obj);\n    }*/\n}\n\n$.fn.textWidth = function (text, font) {\n  if (!$.fn.textWidth.fakeEl)\n    $.fn.textWidth.fakeEl = $(\"<span>\").hide().appendTo(document.body);\n\n  $.fn.textWidth.fakeEl.text(text || this.val() || this.text() || this.attr(\"placeholder\")).css(\"font\", font || this.css(\"font\"));\n\n  return $.fn.textWidth.fakeEl.width();\n  };","import { LocalizedStrings } from '../../services/localizedStringsService';\nimport * as CommandsManagement from '../commands';\nimport * as ConditionalExpressionManagement from './conditional_expression';\nimport * as ContextualizedMenu from './contextualized_menu';\nimport * as GenericExpressionManagement from './generic_expression';\nimport * as CodeGenerator from '../code_generator';\n\nexport function createFloatingCommand () {\n\treturn $('<div class=\"ui whiletrue created_element\"> <i class=\"ui icon small sync\"></i> <span> ' + LocalizedStrings.getUI('text_command_while') + ' ( x < 10 ) <br> </span></div>');\n}\n\nexport function renderCommand (command, function_obj) {\n\tvar ret = '';\n\tret += '<div class=\"ui whiletrue command_container\"> <i class=\"ui icon small sync command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i><button class=\"ui icon button minimize_block_button tiny\"><i class=\"icon window minimize\"></i></button> <span class=\"span_command_spec\"> ' + LocalizedStrings.getUI('text_command_while') + ' </span>';\n\tret += '<span class=\"span_command_spec\"> ( </span> <div class=\"conditional_expression\"></div> <span class=\"textual_expression\"></span> <span class=\"span_command_spec\"> ) </span>';\n\tret += ' </span>';\n\tret += ' <i class=\"ui icon i cursor button_write_expression\" style=\"margin-right: 1rem !important;\"></i>  <i class=\"ui icon unlock button_alternate_expression\"></i> <div class=\"ui context_menu\"></div>';\n\tret += '<div class=\"ui block_commands\">';\n\tret += '</div>';\n\tret += '<span> </span>';\n\tret += '</div>';\n\n\tvar el = $(ret);\n\tel.data('command', command);\n\tel.find('.block_commands').data('command', command);\n\n\taddHandlers(command, function_obj, el);\n\n\tContextualizedMenu.renderMenu(command, el.find('.context_menu'), function_obj, el);\n\n\t//ConditionalExpressionManagement.renderExpression(command, command.expression, function_obj, el.find('.conditional_expression'));\n\n\tGenericExpressionManagement.renderExpression(command, function_obj, el.find('.conditional_expression'), command.expression);\n\n\tif (command.commands_block) {\n\t\tfor (var j = 0; j < command.commands_block.length; j++) {\n\t\t    CommandsManagement.renderCommand(command.commands_block[j], $(el.find('.block_commands')[0]), 3, function_obj);\n\t\t}\n\t}\n\n\tif (command.lockexpression) {\n\t\tif (command.expression) {\n\t\t\ttry {\n\t\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\n\t\t\t\tif (text) {\n\t\t\t\t\t$(el.find('.conditional_expression')[0]).toggle();\n\t\t\t\t\t$(el.find('.textual_expression')[0]).text(text);\n\t\t\t\t\t$(el.find('.textual_expression')[0]).toggle();\n\t\t\t\t\t$(el.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tcommand.lockexpression = false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tel.find('.unlock').popup({\n\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\n\t\tdelay: {\n\t\t\tshow: 750,\n\t\t\thide: 0\n\t\t}\n\t});\n\tel.find('.lock').popup({\n\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\n\t\tdelay: {\n\t\t\tshow: 750,\n\t\t\thide: 0\n\t\t}\n\t});\n\tel.find('.button_write_expression').popup({\n\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression\"),\n\t\tdelay: {\n\t\t\tshow: 750,\n\t\t\thide: 0\n\t\t}\n\t});\n\n\treturn el;\n}\n\nfunction addHandlers (command, function_obj, whiletrue_dom) {\n\n\twhiletrue_dom.find('.button_write_expression').on('click', function() {\n\n\t\twindow.expressionEdition = true;\n\t\twindow.inputExpression = null;\n\t\t\n\t\tvar afterWhichElement;\n\t\tvar lockButton = $(whiletrue_dom.find('.button_alternate_expression')[0]);\n\t\tvar editButton = $(this);\n\n\t\tafterWhichElement = $(whiletrue_dom.find('.conditional_expression')[0]);\n\n\t\tif (command.lockexpression) {\n\t\t\tafterWhichElement = $(whiletrue_dom.find('.textual_expression')[0]);\n\t\t}\n\n\t\tvar text = \"\";\n\t\tif (command.expression) {\n\t\t\tif (command.expression.length == 1 && command.expression[0].content == null && !command.expression[0].function_called) {\n\t\t\t\ttext = \"\";\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\ttext = CodeGenerator.elementExpressionCode(command.expression);\n\t\t\t\t} catch(ex) {\n\t\t\t\t\ttext = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar ok_button = $('<i class=\"ui icon check circle expression-edit-confirm\"></i>');\n\t\tvar cancel_button = $('<i class=\"ui icon undo expression-edit-cancel\"></i>');\n\t\tvar input = $('<input type=\"text\" spellcheck=\"false\" autocomplete=\"off\" class=\"input-expression-field\" >');\n\t\tinput.val(text);\n\n\t\tinput.focusout(function(evt) {\n\t\t\tconsole.log('focosout event!');\n\t\t\tok_button.click();\n\t\t\tevt.preventDefault();\n\t\t\treturn true;\n\t\t});\n\t\t\n\t\tinput.keyup(function(evt) {\n\t\t\tif (evt.keyCode == 27) { // esc\n\t\t\t\tcancel_button.click();\n\t\t\t} \n\t\t\tif (evt.keyCode == 13) { // enter\n\t\t\t\tok_button.click();\n\t\t\t}\n\t\t});\n\n\t\tok_button.click(function() {\n\t\t\tvar parsed = null;\n\t\t\tparsed = GenericExpressionManagement.expressionParserToVisual(input.val(), function_obj, input);\n\t\t\tif (parsed) {\n\t\t\t\twindow.expressionEdition = false;\n\t\t\t\tcommand.expression = parsed;\n\t\t\t\trenderAlgorithm();\n\t\t\t}\n\t\t});\n\n\t\tcancel_button.mousedown(function(evt) {\n\t\t\tvar parsed = GenericExpressionManagement.expressionParserToVisual(text, function_obj, input);\n\t\t\tif (parsed) {\n\t\t\t\twindow.expressionEdition = false;\n\t\t\t\tcommand.expression = parsed;\n\t\t\t\trenderAlgorithm();\n\t\t\t}\n\t\t});\n\n\t\tinput.insertAfter(afterWhichElement);\n\t\tinput.focus();\n\t\tcancel_button.insertAfter(input);\n\t\tok_button.insertAfter(input);\n\t\tvar len = text.length; \n\t\tinput[0].setSelectionRange(len, len); \n\n\t\tafterWhichElement.css('display', 'none');\n\t\tlockButton.css('display', 'none');\n\t\teditButton.css('display', 'none');\n\n\t\tok_button.popup({\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_confirm\"),\n\t\t\tdelay: {\n\t\t\t\tshow: 750,\n\t\t\t\thide: 0\n\t\t\t}\n\t\t});\n\t\tcancel_button.popup({\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_cancel\"),\n\t\t\tdelay: {\n\t\t\t\tshow: 750,\n\t\t\t\thide: 0\n\t\t\t}\n\t\t});\n\t});\n\n\twhiletrue_dom.find('.minimize_block_button').on('click', function(evt){\n\t\twhiletrue_dom.children('.ui.block_commands').toggle();\n\t\tcommand.collapsed = !command.collapsed;\n\t});\n\n\t$(whiletrue_dom.find('.textual_expression')[0]).toggle();\n\t\n\twhiletrue_dom.find('.button_alternate_expression').on('click', function() {\n\t\tif (command.expression) {\n\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\n\t\t\tif (text) {\n\t\t\t\t$(whiletrue_dom.find('.conditional_expression')[0]).toggle();\n\t\t\t\t$(whiletrue_dom.find('.textual_expression')[0]).text(text);\n\t\t\t\t$(whiletrue_dom.find('.textual_expression')[0]).toggle();\n\t\t\t\t$(this).toggleClass('unlock').toggleClass('lock');\n\t\t\t\tcommand.lockexpression = !command.lockexpression;\n\t\t\t}\n\t\t}\n\n\t\tif (command.lockexpression) {\n\t\t\twhiletrue_dom.find('.lock').popup({\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\n\t\t\t\tdelay: {\n\t\t\t\t\tshow: 750,\n\t\t\t\t\thide: 0\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\twhiletrue_dom.find('.unlock').popup({\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\n\t\t\t\tdelay: {\n\t\t\t\t\tshow: 750,\n\t\t\t\t\thide: 0\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\twhiletrue_dom.find('.button_remove_command').on('click', function() {\n\t\tif (CommandsManagement.removeCommand(command, function_obj, whiletrue_dom)) {\n\t\t\twhiletrue_dom.fadeOut(400, function() {\n\t\t\t\twhiletrue_dom.remove();\n\t\t\t});\n\t\t}\n\t});\n}\n","// iVProg - www.usp.br/line/ivprog\n// LInE - Free Education, Private Data\n\nimport * as Models from \"../ivprog_elements\";\nimport { LocalizedStrings } from \"../../services/localizedStringsService\";\nimport * as VariableValueMenu from \"./variable_value_menu\";\nimport * as VariableValueMenuManagement from \"./variable_value_menu\";\nimport * as CommandsManagement from \"../commands\";\nimport * as GenericExpressionManagement from \"./generic_expression\";\nimport * as CodeGenerator from '../code_generator';\n\nexport function createFloatingCommand () {\n  var command_write = LocalizedStrings.getUI(\"text_command_write\");\n  //D console.log(\"js/visualUI/code_generator.js: createFloatingCommand(.): text_command_write=\" + command_write);\n  return $('<div class=\"ui writer created_element\"> <i class=\"ui icon small upload\"></i> <span> ' + command_write + ' var </span></div>');\n  }\n\n\n// Interpret all function code\nexport function renderCommand (command, function_obj) {\n  const ret = '<div class=\"ui writer command_container\"><i class=\"ui icon small upload command_drag\"></i>' +\n    '<i class=\"ui icon times red button_remove_command\"></i>' +\n    '<span class=\"span_command_spec\">' + LocalizedStrings.getUI(\"text_command_write\") + '(</span>' +\n    '<div class=\"all_elements_write\"></div> <span class=\"textual_expression\"></span>' +\n    '<span class=\"close_parentheses span_command_spec\">)</span>' +\n    '<img data-state=\"' + (command.newline ? 'on' : 'false') + '\" src=\"' + (command.newline ? 'img/new_line.svg' : 'img/no_new_line.svg') + '\"' +\n    ' class=\"ivprog_newline_btn\"/>' +\n    '<i class=\"ui icon i cursor button_write_expression\" style=\"margin-left: 3rem !important; margin-right: -1.1rem !important;\"></i>' +\n    '<i class=\"ui icon unlock button_alternate_expression\"></i>' +\n    '</div>' + \"\\n\";\n  const el = $(ret);\n  el.data(\"command\", command);\n\n  //renderExpression (command, function_obj, div_to_render, expression_array)\n  GenericExpressionManagement.renderExpression(command, function_obj, el.find(\".all_elements_write\"), command.content);\n\n  addHandlers(command, function_obj, el);\n\n  if (command.content && command.lockexpression) {\n    try {\n      var text = CodeGenerator.elementExpressionCode(command.content);\n      if (text) {\n        $(el.find('.all_elements_write')[0]).toggle();\n        $(el.find('.textual_expression')[0]).text(text);\n        $(el.find('.textual_expression')[0]).toggle();\n        $(el.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\n        }\n    } catch (e) {\n      command.lockexpression = false;\n      }\n    }\n\n  el.find('.unlock').popup({\n     content : LocalizedStrings.getUI(\"text_lock_expression\"),\n     delay: { show: 750, hide: 0 }\n     });\n  el.find('.lock').popup({\n     content : LocalizedStrings.getUI(\"text_unlock_expression\"),\n     delay: { show: 750, hide: 0 }\n     });\n  el.find('.button_write_expression').popup({\n     content : LocalizedStrings.getUI(\"text_edit_expression\"),\n     delay: { show: 750, hide: 0 }\n     });\n\n  return el;\n  } // export function renderCommand(command, function_obj)\n\n\nfunction addHandlersManager (command, _function_obj, _writer_dom, item_div, content_element) {\n  item_div.find(\".times\").on(\"click\", function () {\n    for (let i = 0; i < command.content.length; i++) {\n      if (command.content[i] == content_element) {\n        delete command.content[i];\n        command.content.splice(i, 1);\n        item_div.children().off();\n        item_div.off();\n        item_div.fadeOut();\n        if (command.content.length > 0) {\n          item_div.next(\".icon_add_item_to_writer\").fadeOut();\n          }\n        break;\n        }\n      }\n    });\n  }\n\n\nfunction addHandlers (command, function_obj, writer_dom) {\n  $(writer_dom.find('.textual_expression')[0]).toggle();\n\n  writer_dom.find('.button_write_expression').on('click', function() {\n    window.expressionEdition = true;\n    window.inputExpression = null;\n    var afterWhichElement;\n    var lockButton = $(writer_dom.find('.button_alternate_expression')[0]);\n    var editButton = $(this);\n    afterWhichElement = writer_dom.find('.all_elements_write');\n    if (command.lockexpression) {\n      afterWhichElement = writer_dom.find('.textual_expression');\n      }\n\n    var text = \"\";\n    if (command.content) {\n      if (command.content.length == 1 && command.content[0].content == null && !command.content[0].function_called) {\n        text = \"\";\n      } else {\n        try {\n          text = CodeGenerator.elementExpressionCode(command.content);\n        } catch(ex) {\n          text = \"\";\n          }\n        }\n      }\n\n    var ok_button = $('<i class=\"ui icon check circle expression-edit-confirm\"></i>');\n    var cancel_button = $('<i class=\"ui icon undo expression-edit-cancel\"></i>');\n    var input = $('<input type=\"text\" spellcheck=\"false\" autocomplete=\"off\" class=\"input-expression-field\" >');\n    input.val(text);\n\n    input.focusout(function(evt) {\n      ok_button.click();\n      evt.preventDefault();\n      return true;\n      });\n    \n    input.keyup(function(evt) {\n      if (evt.keyCode == 27) { // esc\n        cancel_button.click();\n        } \n      if (evt.keyCode == 13) { // enter\n        ok_button.click();\n        }\n      });\n\n    ok_button.click(function() {\n      var parsed = null;\n      parsed = GenericExpressionManagement.expressionParserToVisual(input.val(), function_obj, input);\n      if (parsed) {\n        window.expressionEdition = false;\n        command.content = parsed;\n        renderAlgorithm();\n        }\n      });\n\n    cancel_button.mousedown(function(evt) {\n      var parsed = GenericExpressionManagement.expressionParserToVisual(text, function_obj, input);\n      if (parsed) {\n        window.expressionEdition = false;\n        command.content = parsed;\n        renderAlgorithm();\n        }\n      });\n\n    input.insertAfter(afterWhichElement);\n    input.focus();\n    cancel_button.insertAfter(input);\n    ok_button.insertAfter(input);\n    var len = text.length; \n    input[0].setSelectionRange(len, len); \n\n    afterWhichElement.css('display', 'none');\n    lockButton.css('display', 'none');\n    editButton.css('display', 'none');\n\n    ok_button.popup({\n      content : LocalizedStrings.getUI(\"text_edit_expression_confirm\"),\n      delay: { show: 750, hide: 0 }\n      });\n    cancel_button.popup({\n      content : LocalizedStrings.getUI(\"text_edit_expression_cancel\"),\n      delay: { show: 750, hide: 0 }\n      });\n    });\n\n  \n  writer_dom.find('.button_alternate_expression').on('click', function() {\n    if (command.content) {\n      var text = CodeGenerator.elementExpressionCode(command.content);\n      if (text) {\n        $(writer_dom.find('.all_elements_write')[0]).toggle();\n        $(writer_dom.find('.textual_expression')[0]).text(text);\n        $(writer_dom.find('.textual_expression')[0]).toggle();\n        $(this).toggleClass('unlock').toggleClass('lock');\n        command.lockexpression = !command.lockexpression;\n        }\n      \n      if (command.lockexpression) {\n        writer_dom.find('.lock').popup({\n          content : LocalizedStrings.getUI(\"text_unlock_expression\"),\n          delay: { show: 750, hide: 0 }\n          });\n      } else {\n        writer_dom.find('.unlock').popup({\n          content : LocalizedStrings.getUI(\"text_lock_expression\"),\n          delay: { show: 750, hide: 0 }\n          });\n        }\n      }\n    });\n\n  writer_dom.find(\".button_remove_command\").on(\"click\", function () {\n    if (CommandsManagement.removeCommand(command, function_obj, writer_dom)) {\n      writer_dom.fadeOut(400, function () {\n        writer_dom.remove();\n        });\n      }\n    });\n\n  Sortable.create(writer_dom.find(\".all_elements_write\")[0], {\n    handle: \".ellipsis\",\n    animation: 100,\n    ghostClass: \"ghost\",\n    group: \"writer_\" + Math.floor(Math.random() * 10000000),\n    draggable: \".div_parent_handler\",\n    onEnd: function (evt) {\n      command.content.splice(evt.newIndex, 0, command.content.splice(evt.oldIndex, 1)[0]);\n      writer_dom.empty();\n      writer_dom.replaceWith(renderCommand(command, function_obj));\n      },\n    });\n  // Attach event handles for the newline button\n  const newlineBtn = writer_dom.find(\".ivprog_newline_btn\");\n  newlineBtn.on(\"click\", function () {\n    const state = this.dataset.state;\n    if (state === \"on\") {\n      this.dataset.state = \"off\";\n      command.newline = false;\n      this.setAttribute(\"src\", \"img/no_new_line.svg\");\n    } else {\n      this.dataset.state = \"on\";\n      command.newline = true;\n      this.setAttribute(\"src\", \"img/new_line.svg\");\n      }\n    writer_dom.data(\"command\", command);\n    setPopup(newlineBtn, command.newline);\n    });\n  // Attach jquery popup\n  setPopup(newlineBtn, command.newline);\n  }\n\n\nfunction setPopup (element, state) {\n  if (element.popup(\"exists\")) {\n    element.popup(\"destroy\");\n    }\n  const content = state ? LocalizedStrings.getUI(\"write_command_newline_on\") : LocalizedStrings.getUI(\"write_command_newline_off\");\n  element.popup({\n    content: content,\n    delay: { show: 750, hide: 0, },\n    });\n  }\n\n\nfunction _addHandlerIconAdd (dom_object, command, function_obj, insert_after = false, after_which = null) {\n  const icon_add_item = $('<i class=\"ui icon plus square outline icon_add_item_to_writer\"></i> ');\n  if (!insert_after) {\n    dom_object.append(icon_add_item);\n  } else {\n    icon_add_item.insertAfter(after_which);\n    }\n\n  icon_add_item.on(\"click\", function (_event) {\n    const div_parent_with_handler = $('<div class=\"div_parent_handler\" style=\"display:none;\"></div>');\n    const new_div_item = $('<div class=\"var_value_menu_div\"></div>');\n    div_parent_with_handler.append($('<i class=\"ui icon ellipsis vertical inverted handler\"></i>'));\n    div_parent_with_handler.append(new_div_item);\n    div_parent_with_handler.append($('<i class=\"white inverted icon times handler\"></i>'));\n    div_parent_with_handler.insertAfter(icon_add_item);\n\n    const new_related_menu = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true);\n\n    VariableValueMenu.renderMenu(command, new_related_menu, new_div_item, function_obj);\n\n    addHandlerIconAdd(dom_object, command, function_obj, true, div_parent_with_handler);\n\n    addHandlersManager(command, function_obj, dom_object, div_parent_with_handler, new_related_menu);\n    let pos = 1;\n    dom_object.find(\".icon_add_item_to_writer\").each(function () {\n      if ($(this).get(0) === icon_add_item.get(0)) {\n        command.content.splice(pos, 0, new_related_menu);\n      } else {\n        pos++;\n        }\n      });\n    if (command.content.length == 1) {\n      icon_add_item.remove();\n      }\n    div_parent_with_handler.fadeIn();\n    });\n  }\n\nexport function addContent (command, _ref_object, dom_object, _menu_var_or_value, function_obj, _ref_object_content) {\n  if (dom_object.hasClass(\"var_value_menu_div\")) {\n    const icon_add_item = $('<i class=\"ui icon plus square outline icon_add_item_to_writer\"></i> ');\n    icon_add_item.insertAfter(dom_object);\n\n    icon_add_item.on(\"click\", function (_event) {\n      const div_parent_with_handler = $('<div class=\"div_parent_handler\"></div>');\n      div_parent_with_handler.append($('<i class=\"ui icon ellipsis vertical inverted handler\"></i>'));\n      div_parent_with_handler.append(new_div_item);\n      div_parent_with_handler.append($('<i class=\"white inverted icon times handler\"></i>'));\n\n      div_parent_with_handler.insertAfter(icon_add_item);\n      const new_related_menu = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true);\n\n      VariableValueMenu.renderMenu(command, new_related_menu, new_div_item, function_obj);\n\n      addHandlersManager(command, function_obj, dom_object, div_parent_with_handler, new_related_menu);\n\n      command.content.push(new_related_menu);\n\n      if (command.content.length == 1) {\n        icon_add_item.remove();\n        }\n      });\n    }\n  }","import { Types } from './types';\nimport * as Models from './ivprog_elements';\nimport { LocalizedStrings } from './../services/localizedStringsService';\nimport * as GlobalsManagement from './globals';\nimport * as VariablesManagement from './variables';\nimport * as CommandsManagement from './commands';\nimport * as CodeManagement from './code_generator';\nimport * as VariableValueMenu from './commands/variable_value_menu';\nimport { DOMConsole } from './../io/domConsole';\nimport { IVProgProcessor } from './../processor/ivprogProcessor';\nimport WatchJS from 'melanke-watchjs';\nimport { SemanticAnalyser } from '../processor/semantic/semanticAnalyser';\nimport { IVProgAssessment } from '../assessment/ivprogAssessment';\nimport * as AlgorithmManagement from './algorithm';\nimport * as Utils from './utils';\nimport { registerUserEvent, ActionTypes } from \"./../services/userLog\";\nimport VersionInfo from './../../.ima_version.json';\nimport * as TextEditor from \"./text_editor\";\nimport { isValidIdentifier } from \"./../util/utils\";\nimport { Modes } from '../processor/modes';\n\nimport * as LanguageService from '../services/languageService.js'; // to use: var locStr = LanguageService.getCurrentLangFuncs().main_function; //leo\n\nconst URLHELP = 'https://www.usp.br/line/ivprog/manual_pt/index.html'; // to be used in 'initVisualUI()' to link help button ('?') with iVProg help site\n\nvar counter_new_functions = 0;\nvar counter_new_parameters = 0;\nvar ivprog_version = VersionInfo.version;\n\nconst globalChangeListeners = [];\nconst functionsChangeListeners = [];\nlet proc = null;\nlet domConsole = null;\nlet _testCases = [];\nlet isRunning = false;\nwindow.studentGrade = null;\nwindow.LocalizedStrings = LocalizedStrings;\nconst program = new Models.Program();\n\nwindow.system_functions = [];\n// Adding math functions:\nwindow.system_functions.push(new Models.SystemFunction('$sin', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\nwindow.system_functions.push(new Models.SystemFunction('$cos', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\nwindow.system_functions.push(new Models.SystemFunction('$tan', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\nwindow.system_functions.push(new Models.SystemFunction('$sqrt', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\nwindow.system_functions.push(new Models.SystemFunction('$pow', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true), new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\nwindow.system_functions.push(new Models.SystemFunction('$log', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\nwindow.system_functions.push(new Models.SystemFunction('$abs', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\nwindow.system_functions.push(new Models.SystemFunction('$negate', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\nwindow.system_functions.push(new Models.SystemFunction('$invert', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\nwindow.system_functions.push(new Models.SystemFunction('$max', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\nwindow.system_functions.push(new Models.SystemFunction('$min', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\nwindow.system_functions.push(new Models.SystemFunction('$rand', Types.REAL, 0, [],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\n// Adding text functions:\nwindow.system_functions.push(new Models.SystemFunction('$substring', Types.TEXT, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true),\n  new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true),new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.text));\nwindow.system_functions.push(new Models.SystemFunction('$length', Types.INTEGER, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.text));\nwindow.system_functions.push(new Models.SystemFunction('$uppercase', Types.TEXT, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.text));\nwindow.system_functions.push(new Models.SystemFunction('$lowercase', Types.TEXT, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.text));\nwindow.system_functions.push(new Models.SystemFunction('$charAt', Types.CHAR, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true), new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.text));\n// Adding arrangement functions:\nwindow.system_functions.push(new Models.SystemFunction('$numElements', Types.INTEGER, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.variable_and_function, null, null, null, true, 1)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.arrangement));\nwindow.system_functions.push(new Models.SystemFunction('$matrixLines', Types.INTEGER, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.variable_and_function, null, null, null, true, 2)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.arrangement));\nwindow.system_functions.push(new Models.SystemFunction('$matrixColumns', Types.INTEGER, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.variable_and_function, null, null, null, true, 2)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.arrangement));\n// Adding conversion functions:\nwindow.system_functions.push(new Models.SystemFunction('$isReal', Types.BOOLEAN, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\nwindow.system_functions.push(new Models.SystemFunction('$isInt', Types.BOOLEAN, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\nwindow.system_functions.push(new Models.SystemFunction('$isBool', Types.BOOLEAN, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\nwindow.system_functions.push(new Models.SystemFunction('$castReal', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\nwindow.system_functions.push(new Models.SystemFunction('$castInt', Types.INTEGER, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\nwindow.system_functions.push(new Models.SystemFunction('$castBool', Types.BOOLEAN, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\nwindow.system_functions.push(new Models.SystemFunction('$castString', Types.TEXT, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\nwindow.system_functions.push(new Models.SystemFunction('$castChar', Types.CHAR, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\n\nconsole.log('       ___           ___                    ________          \\n      /   /         /   /                  /   ____/  \\n     /   /         /   /                  /   /        \\n    /   /         /   /  ______    ___   /   /__         \\n   /   /         /   /  /      \\\\  /  /  /   ___/      \\n  /   /______   /   /  /   /\\\\   \\\\/  /  /   /      \\n /          /  /   /  /   /  \\\\     /  /   /____     \\n/__________/  /___/  /___/    \\\\___/  /________/       \\n\\n Laboratório de Informática na Educação\\n http://line.ime.usp.br');\n\nconst mainFunction = new Models.Function(LocalizedStrings.getUI(\"start\"), Types.VOID, 0, [], true, false);\nmainFunction.function_comment = new Models.Comment(LocalizedStrings.getUI('text_comment_main'));\nprogram.addFunction(mainFunction);\n\nwindow.program_obj = program;\n\nwindow.generator = CodeManagement.generate;\nwindow.runCodeAssessment = runCodeAssessment;\nwindow.renderAlgorithm = AlgorithmManagement.renderAlgorithm;\nwindow.insertContext = false;\nwindow.watchW = WatchJS;\n\nWatchJS.watch(window.program_obj.globals, function () {\n  if (window.insertContext) {\n    setTimeout(function() {\n      AlgorithmManagement.renderAlgorithm();\n      globalChangeListeners.forEach(x => x());\n    }, 300);\n    window.insertContext = false;\n  } else {\n    AlgorithmManagement.renderAlgorithm();\n    globalChangeListeners.forEach(x => x());\n    }\n  }, 1);\n\nWatchJS.watch(window.program_obj.functions, function(){\n  if (window.insertContext) {\n    setTimeout(function(){\n      AlgorithmManagement.renderAlgorithm();\n      functionsChangeListeners.forEach( x => x());\n    }, 300);\n    window.insertContext = false;\n  } else {\n    AlgorithmManagement.renderAlgorithm();\n    functionsChangeListeners.forEach( x => x());\n    }\n  }, 1);\n\nfunction addFunctionHandler () {\n  if (window.program_obj.functions) {\n    var in_use = false;\n    do {\n      in_use = false;\n      var temp_name = LocalizedStrings.getUI('new_function') + '_' + counter_new_functions;\n      window.program_obj.functions.forEach(function(el) {\n        if (temp_name == el.name) {\n          in_use = true;\n          }\n        })\n      if (in_use)\n        counter_new_functions++;\n      } while (in_use);\n    }\n  const new_function = new Models.Function(LocalizedStrings.getUI(\"new_function\") + \"_\" + counter_new_functions, Types.VOID, 0, [], false, false, [], new Models.Comment(LocalizedStrings.getUI('text_comment_start')));\n  program.addFunction(new_function);\n  counter_new_functions ++;\n\n  window.insertContext = true;\n  registerUserEvent(new_function.name, ActionTypes.INSERT_FUNCTION);\n\n  // var newe = renderFunction(new_function);\n  renderFunction(new_function);\n  /* newe.css('display', 'none'); newe.fadeIn(); */\n  }\n\nfunction addParameter (function_obj, function_container/*, is_from_click = false*/) {\n  if (function_obj.parameters_list == null) {\n    function_obj.parameters_list = [];\n    }\n\n  if (function_obj.parameters_list) {\n    var in_use = false;\n    do {\n      in_use = false;\n      var temp_name = LocalizedStrings.getUI('new_parameter') + '_' + counter_new_parameters;\n      function_obj.parameters_list.forEach(function(el) {\n        if (temp_name == el.name) {\n          in_use = true;\n          }\n        })\n    if (in_use)\n      counter_new_parameters++;\n    } while (in_use);\n    }\n\n  const new_parameter = new Models.Variable(Types.INTEGER, LocalizedStrings.getUI(\"new_parameter\") + \"_\" + counter_new_parameters);\n  function_obj.parameters_list.push(new_parameter);\n  counter_new_parameters ++;\n  registerUserEvent(function_obj.name, ActionTypes.INSERT_FUNCTION_PARAM, new_parameter.name, Types.INTEGER, 0);\n  //var newe = renderParameter(function_obj, new_parameter, function_container);\n  renderParameter(function_obj, new_parameter, function_container);\n  // if (is_from_click) {\n  //   newe.css('display', 'none');\n  //   newe.fadeIn();\n  //   }\n  }\n\nfunction updateReturnType (function_obj, new_type, new_dimensions = 0) {\n  registerUserEvent(function_obj.name, ActionTypes.CHANGE_FUNCTION_RETURN, new_type, new_dimensions);\n  function_obj.return_type = new_type;\n  function_obj.return_dimensions = new_dimensions;\n  }\n\nfunction removeFunction (function_obj) {\n  var index = program.functions.indexOf(function_obj);\n  if (index > -1) {\n    registerUserEvent(function_obj.name, ActionTypes.REMOVE_FUNCTION);\n    program.functions.splice(index, 1);\n    }\n  }\n\nfunction minimizeFunction (function_obj) {\n  function_obj.is_hidden = !function_obj.is_hidden;\n  }\n\nfunction addHandlers (function_obj, function_container) {\n  function_container.find('.ui.dropdown.function_return').dropdown({\n    onChange: function(value, text, $selectedItem) {\n      if ($selectedItem.data('dimensions')) {\n        updateReturnType(function_obj, Types[$selectedItem.data('type')], $selectedItem.data('dimensions'));\n      } else {\n        updateReturnType(function_obj, Types[$selectedItem.data('type')]);\n        }\n      },\n    selectOnKeydown: false\n    });\n\n  function_container.find( \".name_function_updated\" ).on('click', function(e){\n    enableNameFunctionUpdate(function_obj, function_container);\n    });\n\n  function_container.find( \".add_parameter_button\" ).on('click', function(e){\n    window.insertContext = true;\n    addParameter(function_obj, function_container, true);\n    });\n\n  function_container.find('.menu_commands').dropdown({ on: 'hover' });\n\n  function_container.find('.menu_commands a').on('click', function(evt){\n    if (function_obj.commands == null || function_obj.commands.length == 0) {\n      function_obj.commands = [];\n      var new_cmd = CommandsManagement.genericCreateCommand($(this).data('command'));\n      function_obj.commands.push(new_cmd);\n      CommandsManagement.renderCommand(new_cmd, function_container.find('.commands_list_div'), 3, function_obj);\n      registerUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, $(this).data('command'), '/', 0);\n    } else {\n      CommandsManagement.createFloatingCommand(function_obj, function_container, $(this).data('command'), evt);\n      }\n    });\n\n  function_container.find('.add_var_button_function').on('click', function(e){\n    window.insertContext = true;\n    VariablesManagement.addVariable(function_obj, function_container, true);\n    });\n\n  function_container.find('.remove_function_button').on('click', function(e){\n    removeFunction(function_obj);\n    function_container.fadeOut();\n    });\n\n  function_container.find('.minimize_function_button').on('click', function(e){\n    minimizeFunction(function_obj);\n    if (function_obj.is_hidden) {\n      function_container.find(\".add_var_button_function\").toggle();\n      function_container.find(\".inline_add_command\").toggle();\n      function_container.find(\".function_area\").slideToggle();\n    } else {\n      function_container.find(\".function_area\").slideToggle(function(){\n        function_container.find(\".add_var_button_function\").toggle();\n        function_container.find(\".inline_add_command\").toggle();\n        });\n      }\n    });\n  }\n\n// This function print the type that must be returned by the function.\n// It also create the \"menu\" item of type 'select' (to be filled).\nfunction renderFunctionReturn (function_obj, function_element) {\n  var ret = '<div class=\"ui dropdown function_return\">';\n    if (function_obj.return_dimensions == 1) {\n      ret += '<div class=\"text\">'+ LocalizedStrings.getUI(\"vector\") +': '+ LocalizedStrings.getUI(`type_${function_obj.return_type.toLowerCase()}`);\n      ret += ' [ ] </div>';\n    } else if (function_obj.return_dimensions == 2) {\n      ret += '<div class=\"text\">'+ LocalizedStrings.getUI(\"matrix\") +': '+ LocalizedStrings.getUI(`type_${function_obj.return_type.toLowerCase()}`);\n      ret += ' [ ] [ ] </div>';\n    } else {\n      ret += '<div class=\"text\">'+LocalizedStrings.getUI(`type_${function_obj.return_type.toLowerCase()}`)+'</div>';\n      }\n    ret += '<div class=\"menu\">';\n    for (var tm in Types) {\n      ret += '<div class=\"item ' + (function_obj.return_type == tm.toLowerCase() && function_obj.return_dimensions < 1 ? ' selected ' : '') + '\" data-type=\"'+tm+'\" >'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\n      }\n    ret += '<div class=\"item ' + (function_obj.return_dimensions == 1 ? ' selected ' : '') + '\">'\n      + '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('vector')\n      +  '<div class=\"menu\">';\n    for (var tm in Types) {\n      if (tm == Types.VOID.toUpperCase()) {\n        continue;\n        }\n      ret += '<div class=\"item ' + (function_obj.return_type == tm.toLowerCase() &&  function_obj.return_dimensions == 1 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('vector')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"1\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\n      }\n    ret += '</div></div>';\n    ret += '<div class=\"item ' + (function_obj.return_dimensions == 2 ? ' selected ' : '') + '\">'\n      + '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('matrix')\n      +  '<div class=\"menu\">';\n    for (var tm in Types) {\n      if (tm == Types.VOID.toUpperCase()) {\n        continue;\n        }\n      ret += '<div class=\"item ' + (function_obj.return_type == tm.toLowerCase() &&  function_obj.return_dimensions == 2 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('matrix')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"2\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\n      }\n    ret += '</div></div>';\n    ret += '</div></div>';\n    ret = $(ret);\n\n    function_element.find('.function_return').append(ret);\n  }\n\nvar cont = 0;\n\nexport function renderFunction (function_obj) {\n  var appender = '<div class=\"ui secondary segment function_div list-group-item function_cont_'+cont+'\">';\n  if (function_obj.function_comment) {\n    //appender += renderComment(function_obj.function_comment, sequence, true, -1);\n    }\n\n  appender += '<span class=\"glyphicon glyphicon-move move_function\" aria-hidden=\"true\"><i class=\"icon sort alternate vertical\"></i></span>';\n  appender += (function_obj.is_main ? '<div class=\"div_start_minimize_v\"> </div>' : '<button class=\"ui icon button large remove_function_button\"><i class=\"red icon times\"></i></button>')\n    + '<button class=\"ui icon button tiny minimize_function_button\"><i class=\"icon window minimize\"></i></button>';\n  appender += '<div class=\"function_signature_div\">'+LocalizedStrings.getUI(\"function\")+' ';\n  if (function_obj.is_main) {\n    appender += '<div class=\"function_name_div\">  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ' + LocalizedStrings.getUI('type_void') + ' &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class=\"span_name_function\" >'+function_obj.name+'</span> </div> '\n        + ' <span class=\"parethesis_function\">( </span> <div class=\"ui large labels parameters_list\">';\n  } else {\n    appender += '<div class=\"ui function_return\"></div>';\n    appender += '<div class=\"function_name_div function_name_div_updated\"><span class=\"span_name_function name_function_updated\">'+function_obj.name+'</span> </div> '\n        + ' <span class=\"parethesis_function\"> ( </span> <i class=\"ui icon plus square outline add_parameter_button\"></i> <div class=\"ui large labels parameters_list container_parameters_list\">';\n    }\n  appender += '</div> <span class=\"parethesis_function\"> ) </span> </div>'\n    + (function_obj.is_hidden ? ' <div class=\"function_area\" style=\"display: none;\"> ' : ' <div class=\"function_area\"> ');\n  appender += '<div class=\"ui add_var_context add_var_button_function\" style=\"float: left;\">             <div class=\"ui icon button purple\"> ';\n  appender += '<i class=\"icons\"><i class=\"icon superscript\" style=\"margin-top: -2px;margin-bottom: 2px;margin-left: 1px;margin-right: 1px;\"></i><i class=\"corner add icon inverted\" style=\"font-size: 9px;padding-top: 6px;padding-left: 9px;\"></i></i>';\n  appender += '</div></div>';\n  appender += '<div class=\"ui top attached segment variables_list_div\"></div>';\n  appender += '<div class=\"ui bottom attached segment commands_list_div commands_cont_'+cont+'\">'\n        + '<div class=\"ui rail\" style=\"width: 35px; margin-left: -36px;\"><div class=\"ui sticky sticky_cont_'+cont+'\" style=\"top: 50px !important;\">';\n  appender += '<div class=\"ui icon button dropdown menu_commands orange\" > '\n            + '<i class=\"icons\"><i class=\"icon code\" style=\"margin-top: -1px;margin-bottom: 1px;margin-right: 0px;\"></i><i class=\"corner add icon inverted\" style=\"font-size: 9px;padding-top: 6px;padding-left: 9px;\"></i></i>'\n            + '<div class=\"menu\"> ';\n  appender += '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.reader+'\"><i class=\"download icon\"></i> ' +LocalizedStrings.getUI('text_read_var')+ '</a>'\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.writer+'\"><i class=\"upload icon\"></i> '+LocalizedStrings.getUI('text_write_var')+'</a>'\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.comment+'\"><i class=\"quote left icon\"></i> '+LocalizedStrings.getUI('text_comment')+'</a>'\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.attribution+'\"><i class=\"arrow left icon\"></i> '+LocalizedStrings.getUI('text_attribution')+'</a>'\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.functioncall+'\"><i class=\"hand point right icon\"></i> '+LocalizedStrings.getUI('text_functioncall')+'</a>'\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.iftrue+'\" ><i class=\"random icon\"></i> '+LocalizedStrings.getUI('text_iftrue')+'</a>'\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.repeatNtimes+'\"><i class=\"sync icon\"></i> '+LocalizedStrings.getUI('text_repeatNtimes')+'</a>'\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.whiletrue+'\"><i class=\"sync icon\"></i> '+LocalizedStrings.getUI('text_whiletrue')+'</a>'\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.dowhiletrue+'\"><i class=\"sync icon\"></i> '+LocalizedStrings.getUI('text_dowhiletrue')+'</a>'\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.switch+'\"><i class=\"list icon\"></i> '+LocalizedStrings.getUI('text_switch')+'</a>'\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.return+'\"><i class=\"reply icon\"></i> '+LocalizedStrings.getUI('text_btn_return')+'</a>'\n        + '</div></div>';\n\n  appender += '</div></div>' + '</div>';\n  appender += '</div></div>';\n  appender = $(appender);\n\n  $('.all_functions').append(appender);\n\n  appender.data('fun', function_obj);\n  appender.find('.commands_list_div').data('fun', function_obj);\n\n  renderFunctionReturn(function_obj, appender);\n\n  addHandlers(function_obj, appender);\n\n  // Rendering parameters:\n  for (var j = 0; j < function_obj.parameters_list.length; j++) {\n    renderParameter(function_obj, function_obj.parameters_list[j], appender);\n    }\n\n  // Rendering variables:\n  for (var j = 0; j < function_obj.variables_list.length; j++) {\n    VariablesManagement.renderVariable(appender, function_obj.variables_list[j], function_obj);\n    }\n  // Rendering commands:\n  for (var j = 0; j < function_obj.commands.length; j++) {\n    CommandsManagement.renderCommand(function_obj.commands[j], $(appender.find('.commands_list_div')[0]), 3, function_obj);\n    }\n\n  appender.find('.minimize_function_button').popup({\n    content : LocalizedStrings.getUI(\"tooltip_hide_function\"),\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('.move_function').popup({\n    content : LocalizedStrings.getUI(\"btn_drag_and_drop_function\"),\n    delay: { show: 1000, hide: 0 }\n    });\n\n  appender.find('.remove_function_button').popup({\n    content : LocalizedStrings.getUI(\"btn_delete_function\"),\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('.add_var_button_function').popup({\n    content : LocalizedStrings.getUI(\"btn_add_var\"),\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('a[data-command=\"attribution\"]').popup({\n    content : LocalizedStrings.getUI(\"tooltip_menu_attribution\"),\n    position: 'right center',\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('a[data-command=\"functioncall\"]').popup({\n    content : LocalizedStrings.getUI(\"tooltip_menu_call_function\"),\n    position: 'right center',\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('a[data-command=\"iftrue\"]').popup({\n    content : LocalizedStrings.getUI(\"tooltip_menu_if_else\"),\n    position: 'right center',\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('a[data-command=\"comment\"]').popup({\n    content : LocalizedStrings.getUI(\"tooltip_menu_comments\"),\n    position: 'right center',\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('a[data-command=\"reader\"]').popup({\n    content : LocalizedStrings.getUI(\"tooltip_menu_read\"),\n    position: 'right center',\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('a[data-command=\"writer\"]').popup({\n    content : LocalizedStrings.getUI(\"tooltip_menu_write\"),\n    position: 'right center',\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('a[data-command=\"repeatNtimes\"]').popup({\n    content : LocalizedStrings.getUI(\"tooltip_menu_repeat_n_times\"),\n    position: 'right center',\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('a[data-command=\"whiletrue\"]').popup({\n    content : LocalizedStrings.getUI(\"tooltip_menu_repeat_whiletrue\"),\n    position: 'right center',\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('a[data-command=\"dowhiletrue\"]').popup({\n    content : LocalizedStrings.getUI(\"tooltip_menu_repeat_dowhiletrue\"),\n    position: 'right center',\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('a[data-command=\"switch\"]').popup({\n    content : LocalizedStrings.getUI(\"tooltip_menu_repeat_switch\"),\n    position: 'right center',\n    delay: { show: 750, hide: 0 }\n    });\n\n  appender.find('a[data-command=\"return\"]').popup({\n    content : LocalizedStrings.getUI(\"tooltip_menu_repeat_return\"),\n    position: 'right center',\n    delay: { show: 750, hide: 0 }\n    });\n\n  var function_index = program.functions.indexOf(function_obj);\n\n  Sortable.create(appender.find(\".variables_list_div\")[0], {\n    handle: '.ellipsis',\n    animation: 100,\n    ghostClass: 'ghost',\n    group: 'local_vars_drag_' + function_index,\n    onEnd: function (evt) {\n      updateSequenceLocals(evt.oldIndex, evt.newIndex, function_obj);\n      }\n    });\n\n  addSortableHandler(appender.find(\".commands_list_div\")[0], function_index);\n\n  if (!function_obj.is_main) {\n    Sortable.create(appender.find(\".container_parameters_list\")[0], {\n      handle: '.ellipsis',\n      animation: 100,\n      ghostClass: 'ghost',\n      group: 'parameters_drag_' + program.functions.indexOf(function_obj),\n      onEnd: function (evt) {\n        updateSequenceParameters(evt.oldIndex, evt.newIndex, function_obj);\n        }\n      });\n    }\n\n  if (function_obj.commands.length > 0) {\n    var teste  = '.ui.sticky.sticky_cont_'+cont;\n    $(teste).sticky({\n      context: '.ui.bottom.attached.segment.commands_list_div.commands_cont_'+cont,\n      scrollContext: '.ivprog_visual_panel',\n      observeChanges: true,\n      offset: 40,\n      onStick: function (evt) {\n        $(teste).css('top', '20px', 'important');\n        },\n      onBottom: function (evt) {\n        $(teste).css('top', '20px', 'important');\n        },\n      onUnstick: function (evt) {\n        $(teste).css('top', '20px', 'important');\n        },\n      onReposition: function (evt) {\n        $(teste).css('top', '20px', 'important');\n        },\n      onScroll: function (evt) {\n        $(teste).css('top', '20px', 'important');\n        if (!isVisible($(teste), $(teste).parent())) {\n          $(teste).removeClass('fixed');\n          }\n        },\n      onTop: function (evt) {\n        $(teste).css('top', '20px', 'important');\n        }\n      });\n    }\n  cont ++;\n  appender.find('.add_parameter_button').popup({\n    content : LocalizedStrings.getUI(\"text_add_parameters\"),\n    delay: { show: 750, hide: 0 }\n    });\n  return appender;\n  }\n\nfunction isVisible (element, container) {\n  var elementTop = $(element).offset().top,\n      elementHeight = $(element).height(),\n      containerTop = $(container).offset().top,\n      containerHeight = $(container).height() - 30;\n  return ((((elementTop - containerTop) + elementHeight) > 0) && ((elementTop - containerTop) < containerHeight));\n  }\n\nwindow.evento_drag;\n\nfunction updateProgramObjDrag () {\n  const nodes = Array.prototype.slice.call( $('.all_functions').children() );\n  let function_index;\n  var start_index;\n  let function_obj;\n  $(evento_drag.item).parentsUntil(\".all_functions\").each(function (index) {\n    const ref = $(this);\n    if (ref.hasClass('function_div')) {\n      function_index = nodes.indexOf(this);\n      start_index = index;\n      function_obj = ref;\n      }\n    });\n\n  const path_target = [];\n  $(evento_drag.item).parentsUntil(\".all_functions\").each(function () {\n    if ($(this).hasClass('command_container')) {\n      path_target.push(this);\n      }\n    });\n  if (path_target.length == 0) {\n    // console.log('soltou na raiz, na posicao: ' + evento_drag.newIndex + ' mas ainda nao sei de onde saiu ');\n  } else {\n    // console.log('soltou dentro de algum bloco, sequencia vem logo abaixo (de baixo pra cima): ');\n    // console.log(path_target);\n    }\n\n  var index_each = [];\n  var path_relative = [];\n  for (var i = path_target.length - 1; i >= 0; i --) {\n    if (i == (path_target.length - 1)) { // it is on the root\n      var indice_na_raiz = function_obj.find('.command_container').index(path_target[i]);\n    } else {\n      if ($(path_target[i + 1]).hasClass('iftrue')) {\n        if ($(path_target[i]).parent().hasClass('commands_if')) {\n          path_relative.push('if');\n          index_each.push($(path_target[i]).parent().find('.command_container').index(path_target[i]));\n        } else {\n          path_relative.push('else');\n          index_each.push($(path_target[i]).parent().find('.command_container').index(path_target[i]));\n        }\n      } else if ($(path_target[i + 1]).hasClass('dowhiletrue')) {\n        path_relative.push('dowhiletrue');\n        index_each.push($(path_target[i + 1]).find('.command_container').index(path_target[i]));\n      } else if ($(path_target[i + 1]).hasClass('repeatNtimes')) {\n        path_relative.push('repeatNtimes');\n        index_each.push($(path_target[i + 1]).find('.command_container').index(path_target[i]));\n      } else if ($(path_target[i + 1]).hasClass('whiletrue')) {\n        path_relative.push('whiletrue');\n        index_each.push($(path_target[i + 1]).find('.command_container').index(path_target[i]));\n      } else if ($(path_target[i + 1]).hasClass('switch')) {\n        path_relative.push('switch');\n        //index_each.push($(path_target[i + 1]).find('.command_container').index(path_target[i]));\n        }\n      }\n    }\n  // var index_in_block = -1;\n  const is_in_else = $(evento_drag.item).parent().hasClass('commands_else');\n  // index_in_block = $(evento_drag.item).parent().find('.command_container').index(evento_drag.item);\n  const is_in_case_switch = $(evento_drag.item).parent().hasClass('case_commands_block');\n\n  // Must find the element on the tree\n\n  var command_start_point = window.program_obj.functions[function_index].commands[indice_na_raiz];\n  var block_to_insert = command_start_point;\n  for (var i = 0; i < index_each.length; i++) {\n    if (path_relative[i] == \"else\") {\n      block_to_insert = block_to_insert.commands_else[index_each[i]];\n    } else if (path_relative[i] == \"switch\") {\n    } else {\n      block_to_insert = block_to_insert.commands_block[index_each[i]]\n      }\n    }\n\n  //console.log('command_start_point', command_start_point);\n  //console.log('block_to_insert', block_to_insert);\n\n  // Now must insert the command on the tree, but must consider the 4 possible situations:\n  // (1) it is inside one 'else' or; (2) it is inside a 'switch' or; (3) it is an standard case or; (4) it is on the root\n  if (path_target.length == 0) { // it was released on the root\n    window.program_obj.functions[function_index].commands.splice(evento_drag.newIndex - 1, 0, command_in_drag);\n  } else if (is_in_else)  {\n    if (block_to_insert.commands_else) {\n      block_to_insert.commands_else.splice(evento_drag.newIndex, 0, command_in_drag);\n    } else {\n      block_to_insert.commands_else = [];\n      block_to_insert.commands_else.push(command_in_drag);\n      }\n  } else if (is_in_case_switch) {\n  } else {\n    // verificar se tem alguma coisa no bloco:\n    if (block_to_insert.commands_block) {\n      block_to_insert.commands_block.splice(evento_drag.newIndex, 0, command_in_drag);\n    } else {\n      block_to_insert.commands_block = [];\n      block_to_insert.commands_block.push(command_in_drag);\n      }\n    }\n  window.draging = false;\n  renderAlgorithm();\n  }\n\nfunction prepareDragHandler (evt) {\n  window.draging = true;\n  var nodes = Array.prototype.slice.call( $('.all_functions').children() );\n  var function_index;\n  var function_obj;\n  $(evt.item).parentsUntil(\".all_functions\").each(function (index) {\n    if ($(this).hasClass('function_div')) {\n      function_index = nodes.indexOf(this);\n      function_obj = window.program_obj.functions[function_index];\n      }\n    });\n\n  command_in_drag = $(evt.item).data(\"command\");\n\n  //console.log('$(evt.item).parent(): ');\n  //console.log($(evt.item).parent());\n\n  // Find wich on from 4 possible situations\n  if ($(evt.item).parent().hasClass('commands_list_div')) { // it is no root\n    if (function_obj.commands.indexOf(command_in_drag) > -1) {\n      function_obj.commands.splice(function_obj.commands.indexOf(command_in_drag), 1);\n      }\n  } else if ($(evt.item).parent().hasClass('commands_else')) { // it is on 'else' command\n    if ($(evt.item).parent().data('command').commands_else.indexOf(command_in_drag) > -1) {\n      $(evt.item).parent().data('command').commands_else.splice($(evt.item).parent().data('command').commands_else.indexOf(command_in_drag), 1);\n      }\n  } else if ($(evt.item).parent().hasClass('case_commands_block')) { // it is on 'switch':\n  } else { // standard case\n    if ($(evt.item).parent().data('command').commands_block.indexOf(command_in_drag) > -1) {\n      $(evt.item).parent().data('command').commands_block.splice($(evt.item).parent().data('command').commands_block.indexOf(command_in_drag), 1);\n      }\n    }\n  }\n\nvar command_in_drag;\n\nfunction addSortableHandler (element, id_function) {\n  var n_group = 'commands_drag_' + id_function;\n  Sortable.create(element, {\n    handle: '.command_drag',\n    ghostClass: 'ghost',\n    animation: 300,\n    group: {name: n_group},\n    onEnd: function (evt) {\n\n      var nodes = Array.prototype.slice.call( $('.all_functions').children() );\n      var function_index;\n      var function_obj;\n      $(evt.item).parentsUntil(\".all_functions\").each(function (index) {\n        if ($(this).hasClass('function_div')) {\n          function_index = nodes.indexOf(this);\n          function_obj = window.program_obj.functions[function_index];\n          }\n       });\n\n       registerUserEvent(function_obj.name, ActionTypes.MOVE_COMMAND, $(evt.item).data('command').type, '/', 'from: ' + evt.oldIndex + ' to: ' + evt.newIndex);\n       //updateSequenceLocals(evt.oldIndex, evt.newIndex, function_obj);\n       var itemEl = evt.item;  // dragged HTMLElement\n       evt.to;    // target list\n       evt.from;  // previous list\n       evt.oldIndex;  // element's old index within old parent\n       evt.newIndex;  // element's new index within new parent\n       //console.log('::EVT::');\n       //console.log(evt);\n\n       window.evento_drag = evt;\n\n       try {\n        updateProgramObjDrag();\n       } catch (e) {\n        console.error(e);\n        window.draging = false;\n        }\n      },\n    onStart: function (evt) {\n      //console.log(\"START::EVT::\");\n      //console.log(evt);\n      //console.log(\"\\n\\ncommand_in_drag\");\n      try {\n        prepareDragHandler(evt);\n      } catch (e) {\n        window.draging = false;\n        }\n      }\n    });\n  element = $(element);\n  element.find(\".iftrue\").each(function( index ) {\n    addSortableHandler($(this).find(\".block_commands\")[0], id_function);\n    addSortableHandler($(this).find(\".block_commands\")[1], id_function);\n    });\n  element.find(\".repeatNtimes\").each(function( index ) {\n    addSortableHandler($(this).find(\".block_commands\")[0], id_function);\n    });\n  element.find(\".dowhiletrue\").each(function( index ) {\n    addSortableHandler($(this).find(\".block_commands\")[0], id_function);\n    });\n  element.find(\".whiletrue\").each(function( index ) {\n    addSortableHandler($(this).find(\".block_commands\")[0], id_function);\n    });\n  element.find(\".switch\").each(function( index ) {\n    $(this).find(\".case_div\").each(function( index ) {\n      addSortableHandler($(this).find(\".case_commands_block\")[0], id_function);\n      });\n    });\n  }\n\nexport function initVisualUI () {\n  // MUST USE CONST, LET, OR VAR !!!!!!\n  // const mainDiv = $('#visual-main-div');\n  // fill mainDiv with functions and globals...\n  // renderAlgorithm()...\n  console.log(\"functions.js!initVisualUI(): VersionInfo.version = \" + ivprog_version); //leo\n  domConsole = new DOMConsole(\"ivprog-term-div\");\n  domConsole.hide();\n  $(document.getElementById(\"ivprog-term-div\")).draggable()\n  $('.add_function_button').on('click', () => {\n    addFunctionHandler();\n  }).popup({\n    content : LocalizedStrings.getUI(\"text_add_function\"),\n    delay: { show: 750, hide: 0 }\n    });\n  $('.add_global_button').on('click', () => {\n    window.insertContext = true;\n    GlobalsManagement.addGlobal(program, true);\n    });\n\n  $('#run_button').on('click', function () {\n    showStopButton();\n    runCode();\n    });\n\n  $('#download_file_button').on('click', function () { downloadFile(); });\n\n  $('#upload_file_button').on('click', function () {\n    $('#ivph_file').click().off('change').change(uploadFile);\n    });\n\n  $('#stop_button').on('click', function () {\n    showRunButton();\n    stopExecution();\n    });\n\n  $('.visual_coding_button').on('click', () => { toggleVisualCoding();});\n  $('.textual_coding_button').on('click', () => { toggleTextualCoding(); });\n\n  $('.assessment').on('click', () => {\n    is_iassign = true;\n    runCodeAssessment();\n    });\n  $('.div_toggle_console').on('click', () => { toggleConsole(); });\n  $('.expand_button').on('click', () => { full_screen(); });\n  $('.help_button').on('click', () => {\n    console.log(\"functions.js: initVisualUI(.): missing code to get the current language\");\n    try { //TODO get the current language\n      // \"pt\" => URL = https://www.usp.br/line/ivprog/manual_pt\n      // \"en\" => URL = https://www.usp.br/line/ivprog/en/manual_en\n      //var locStr = LocalizedStrings.getInstance(); // Erro: TypeError: _services_localizedStringsService__WEBPACK_IMPORTED_MODULE_2__.LocalizedStrings.getInstance is not a function\n      //var locStr = LanguageService.getCurrentLangFuncs().main_function; // Erro: TypeError: _services_languageService_js__WEBPACK_IMPORTED_MODULE_20__.getCurrentLangFuncs is not a function\n      //var str = JSON.stringfy(locStr);\n      //console.log(\"functions.js: initVisualUI(.): LocalizedStrings.getInstance=|\" + str + \"|\");\n    } catch (ex) { console.log(\"Erro: \" + ex); }\n\n    // window.open('https://www.usp.br/line/ivprog/', '_blank');\n    window.open(URLHELP, '_blank'); // to link help button ('?') with iVProg help site\n\n    });\n  $('.main_title h2').prop('title', LocalizedStrings.getUI('text_ivprog_description'));\n\n  var time_show = 750;\n  $('.visual_coding_button').popup({\n    content : LocalizedStrings.getUI(\"tooltip_visual\"),\n    delay: { show: time_show, hide: 0 }\n    });\n  $('.textual_coding_button').popup({\n    content : LocalizedStrings.getUI(\"tooltip_textual\"),\n    delay: { show: time_show, hide: 0 }\n    });\n  $('.upload_file_button').popup({\n    content : LocalizedStrings.getUI(\"tooltip_upload\"),\n    delay: { show: time_show, hide: 0 }\n    });\n  $('.download_file_button').popup({\n    content : LocalizedStrings.getUI(\"tooltip_download\"),\n    delay: { show: time_show, hide: 0 }\n    });\n  // Not implemented yet, so removed for now... (those were presented disabled since initial version until 2024/10/10)\n  // $('.undo_button').popup({ content : LocalizedStrings.getUI(\"tooltip_undo\"), delay: { show: time_show, hide: 0 } });\n  // $('.redo_button').popup({ content : LocalizedStrings.getUI(\"tooltip_redo\"), delay: { show: time_show, hide: 0 } });\n  $('.run_button').popup({\n    content : LocalizedStrings.getUI(\"tooltip_run\"),\n    delay: { show: time_show, hide: 0 }\n    });\n  $('.assessment_button').popup({\n    content : LocalizedStrings.getUI(\"tooltip_evaluate\"),\n    delay: { show: time_show, hide: 0 }\n    });\n  $('.help_button').popup({\n    content : LocalizedStrings.getUI(\"tooltip_help\") + ' - ' + LocalizedStrings.getUI(\"text_ivprog_version\") + ' ' + ivprog_version,\n    delay: { show: time_show, hide: 0 }\n    });\n  $('.add_global_button').popup({\n    content : LocalizedStrings.getUI(\"tooltip_add_global\"),\n    delay: { show: time_show, hide: 0 }\n    });\n  $('.div_toggle_console').popup({\n    content : LocalizedStrings.getUI(\"tooltip_console\"),\n    delay: { show: time_show, hide: 0 }\n    });\n\n  Sortable.create(listWithHandle, {\n    handle: '.glyphicon-move',\n    animation: 100,\n    ghostClass: 'ghost',\n    group: 'functions_divs_drag',\n    onEnd: function (evt) { updateSequenceFunction(evt.oldIndex, evt.newIndex); }\n    });\n\n  var listGlobalsHandle = document.getElementById(\"listGlobalsHandle\");\n  Sortable.create(listGlobalsHandle, {\n    handle: '.ellipsis',\n    animation: 100,\n    ghostClass: 'ghost',\n    group: 'globals_divs_drag',\n    onEnd: function (evt) { updateSequenceGlobals(evt.oldIndex, evt.newIndex); }\n    });\n  }\n\nexport function setTestCases (testCases) {\n  _testCases = testCases;\n  }\n\nexport function getTestCases () {\n  // Deep clone of test cases to avoid unauthorized modification\n  // TODO: It may be not possible to use this once custom test are fully implemented\n  return JSON.parse(JSON.stringify(_testCases));\n  }\n\nvar is_iassign = false;\n\nfunction updateSequenceParameters (oldIndex, newIndex, function_obj) {\n  function_obj.parameters_list.splice(newIndex, 0, function_obj.parameters_list.splice(oldIndex, 1)[0]);\n  }\n\nfunction updateSequenceLocals (oldIndex, newIndex, function_obj) {\n  function_obj.variables_list.splice(newIndex, 0, function_obj.variables_list.splice(oldIndex, 1)[0]);\n  }\n\nfunction updateSequenceGlobals (oldIndex, newIndex) {\n  program_obj.globals.splice(newIndex, 0, program_obj.globals.splice(oldIndex, 1)[0]);\n  }\n\nfunction updateSequenceFunction (oldIndex, newIndex) {\n  program_obj.functions.splice(newIndex, 0, program_obj.functions.splice(oldIndex, 1)[0]);\n  }\n\nfunction runCodeAssessment () {\n  if (isRunning) {\n    // cannot run assessment or it's already running\n    return -1;\n    }\n\n  let strCode = null;\n  is_iassign = false;\n  window.studentGrade = null;\n\n  if (settingsProgrammingTypes == \"textual\") {\n    strCode = TextEditor.getCode();\n  } else {\n    strCode = CodeManagement.generate();\n    }\n\n  if (strCode == null) {\n    // No code, so no assessment\n    return -1;\n    }\n\n  toggleConsole(true);\n\n  try {\n    const data = SemanticAnalyser.analyseFromSource(strCode);\n    isRunning = true;\n    const runner = new IVProgAssessment(data, _testCases, domConsole);\n    runner.runTest().then(grade => {\n      if (!is_iassign) {\n        parent.getEvaluationCallback(grade);\n      } else {\n        is_iassign = false;\n      }\n      isRunning = false;\n    }).catch( err => {\n      console.log(err);\n      isRunning = false;\n    });\n  } catch (error) {\n    isRunning = false;\n    domConsole.err(error.message);\n    console.log(error);\n    if (!is_iassign) {\n      parent.getEvaluationCallback(0);\n    } else {\n      is_iassign = false;\n      }\n    }\n  return 0;\n  }\n\nfunction runCode () {\n  if (isRunning) {\n    return;\n    }\n  let strCode = null;\n  if (settingsProgrammingTypes == \"textual\") {\n    strCode = TextEditor.getCode();\n  } else {\n    strCode = CodeManagement.generate();\n    }\n  if (strCode == null) {\n    return;\n    }\n  toggleConsole(true);\n\n  // if(domConsole == null)\n  //   domConsole = new DOMConsole(\"#ivprog-term\");\n  //$(\"#ivprog-term\").slideDown(500);\n  try {\n    const data = SemanticAnalyser.analyseFromSource(strCode);\n    proc = new IVProgProcessor(data);\n    proc.registerInput(domConsole);\n    proc.registerOutput(domConsole);\n    $(\"#ivprog-term\").addClass('ivprog-term-active');\n    isRunning = true;\n    proc.interpretAST().then( _ => {\n      scheduleCall(() => {\n        if (domConsole.pending_writes.length == 0) {\n          if (proc.mode === Modes.ABORT) {\n            domConsole.info(LocalizedStrings.getMessage(\"aborted_execution\"));\n          } else {\n            domConsole.info(LocalizedStrings.getMessage(\"success_execution\"));\n          }\n          $(\"#ivprog-term\").removeClass('ivprog-term-active');\n          isRunning = false;\n          proc = null;\n          showRunButton();\n          return true;\n        }\n        return false;\n      },100);\n    }).catch(err => {\n      scheduleCall(() => {\n        if (domConsole.pending_writes.length == 0) {\n          if (err instanceof Error) {\n            domConsole.err(err.message);\n          } else {\n            domConsole.err(err);\n            }\n          $(\"#ivprog-term\").removeClass('ivprog-term-active');\n          isRunning = false;\n          proc = null;\n          showRunButton();\n          return true;\n        }\n        return false;\n      },100);\n    })\n  } catch (error) {\n    scheduleCall(() => {\n      if (domConsole.pending_writes.length == 0) {\n        isRunning = false;\n        proc = null;\n        showRunButton();\n        domConsole.err(error.message);\n        console.log(error);\n        return true;\n        }\n      return false;\n    },100);\n    }\n  }\n\nfunction toggleConsole (is_running) {\n  if (is_running) {\n    $('.ivprog-term-div').css('display', 'block');\n    $('#ivprog-term').css('min-height', '160px');\n    if (domConsole != null)\n      domConsole.focus();\n    //$('#ivprog-term').css('margin-top', '-170px');\n    return;\n  } else {\n    domConsole.hide();\n    return;\n    }\n\n  if ($('#ivprog-term').css('min-height') == '160px') {\n    // esconder\n    $('.ivprog-term-div').css('display', 'none');\n    $('#ivprog-term').css('min-height', '0');\n    //$('#ivprog-term').css('margin-top', '-30px');\n    //$('#ivprog-term').css('padding', '5px');\n  } else {\n    // mostrar\n    $('.ivprog-term-div').css('display', 'block');\n    $('#ivprog-term').css('min-height', '160px');\n    //$('#ivprog-term').css('margin-top', '-170px');\n    }\n  }\n\n// function waitToCloseConsole () {\n//   domConsole.info(\"Aperte qualquer tecla para fechar...\");\n//   const p = new Promise((resolve, _) => {\n//     domConsole.requestInput(resolve, true);\n//   });\n//   p.then( _ => {\n//     domConsole.dispose();\n//     domConsole = null;\n//     $(\"#ivprog-term\").hide();\n//   })\n// }\n\nfunction toggleTextualCoding () {\n  let code = null;\n  if (settingsProgrammingTypes != \"textual\") {\n    code = CodeManagement.generate();\n    if (code == null) {\n      return;\n      }\n    }\n\n\n  $('.ivprog_visual_panel').css('display', 'none');\n  $('.ivprog_textual_panel').css('display', 'block');\n  $('.ivprog_textual_panel').removeClass('loading');\n  TextEditor.updateEditor();\n  if (code != null)\n    TextEditor.setCode(code);\n  //$('.ivprog_textual_code').text(code);\n  $('.visual_coding_button').removeClass('active');\n  $('.textual_coding_button').addClass('active');\n  }\n\nfunction toggleVisualCoding () {\n  $('.ivprog_textual_panel').addClass('loading');\n  $('.ivprog_textual_panel').css('display', 'none');\n  $('.ivprog_visual_panel').css('display', 'block');\n  $('.textual_coding_button').removeClass('active');\n  $('.visual_coding_button').addClass('active');\n  }\n\nfunction removeParameter (function_obj, parameter_obj, parameter_container) {\n  registerUserEvent(parameter_obj.name, ActionTypes.REMOVE_FUNCTION_PARAM, function_obj.name);\n  var index = function_obj.parameters_list.indexOf(parameter_obj);\n  if (index > -1) {\n    window.insertContext = true;\n    function_obj.parameters_list.splice(index, 1);\n    }\n  $(parameter_container).fadeOut();\n  }\n\nfunction updateParameterType (parameter_obj, new_type, function_name, new_dimensions = 0) {\n  registerUserEvent(parameter_obj.name, ActionTypes.CHANGE_PARAM_TYPE, function_name, new_type, new_dimensions);\n  parameter_obj.type = new_type;\n  parameter_obj.dimensions = new_dimensions;\n\n  if (new_dimensions > 0) {\n    parameter_obj.rows = new_dimensions;\n    parameter_obj.columns = 2;\n    }\n  }\n\nfunction renderParameter (function_obj, parameter_obj, function_container) {\n  let ret = \"\";\n  ret += '<div class=\"ui label function_name_parameter pink\"><i class=\"ui icon ellipsis vertical inverted\"></i>';\n  if (parameter_obj.reference)\n    ret += '<input type=\"checkbox\" checked class=\"by_reference\">';\n  else\n    ret += '<input type=\"checkbox\" class=\"by_copy\">';\n\n  ret += '<div class=\"ui dropdown parameter_type\">';\n\n  if (parameter_obj.dimensions > 0) {\n    ret += '<div class=\"text\">'+ LocalizedStrings.getUI('vector')+':'+LocalizedStrings.getUI(`type_${parameter_obj.type.toLowerCase()}`);\n    if (parameter_obj.dimensions == 1) {\n      ret += ' [ ] ';\n    } else {\n      ret += ' [ ] [ ] ';\n      }\n    ret += '</div>';\n  } else {\n    ret += '<div class=\"text\">'+LocalizedStrings.getUI(`type_${parameter_obj.type.toLowerCase()}`)+'</div>';\n    }\n  ret += '<div class=\"menu\">';\n\n  for (const tm in Types) {\n    if (tm == Types.VOID.toUpperCase()) {\n      continue;\n      }\n    ret += '<div class=\"item ' + (parameter_obj.type == tm.toLowerCase() && parameter_obj.dimensions == 0 ? ' selected ' : '') + '\" data-type=\"'+tm+'\" >'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\n    }\n\n  ret += '<div class=\"item ' + (parameter_obj.dimensions == 1 ? ' selected ' : '') + '\">'\n    + '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('vector')\n    +  '<div class=\"menu\">';\n\n  for (var tm in Types) {\n    if (tm == Types.VOID.toUpperCase()) {\n      continue;\n      }\n    ret += '<div class=\"item ' + (parameter_obj.type == tm.toLowerCase() &&  parameter_obj.dimensions == 1 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('vector')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"1\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\n    }\n  ret += '</div></div>';\n  ret += '<div class=\"item ' + (parameter_obj.dimensions == 2 ? ' selected ' : '') + '\">'\n    + '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('matrix')\n    +  '<div class=\"menu\">';\n\n  for (var tm in Types) {\n    if (tm == Types.VOID.toUpperCase()) {\n      continue;\n      }\n    ret += '<div class=\"item ' + (parameter_obj.type == tm.toLowerCase() &&  parameter_obj.dimensions == 2 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('matrix')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"2\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\n    }\n  ret += '</div></div>';\n  ret += '</div></div>';\n  ret += '<div class=\"parameter_div_edit\"><span class=\"span_name_parameter label_enable_name_parameter\">'+parameter_obj.name+'</span></div> ';\n  ret += ' <i class=\"yellow inverted icon times remove_parameter\"></i></div>';\n  ret = $(ret);\n\n  function_container.find('.container_parameters_list').append(ret);\n\n  ret.find('.remove_parameter').on('click', function(e){\n    removeParameter(function_obj, parameter_obj, ret);\n  });\n\n  ret.find('.ui.dropdown.parameter_type').dropdown({\n    onChange: function(_, __, $selectedItem) {\n      if ($selectedItem.data('dimensions')) {\n        updateParameterType(parameter_obj, Types[$selectedItem.data('type')], function_obj.name, $selectedItem.data('dimensions'));\n      } else {\n        updateParameterType(parameter_obj, Types[$selectedItem.data('type')], function_obj.name);\n      }\n    },\n    selectOnKeydown: false\n  });\n\n  ret.find('.parameter_div_edit').on('click', function(e){\n    registerUserEvent(function_obj.name, ActionTypes.ENTER_CHANGE_PARAM_NAME, parameter_obj.name);\n    enableNameParameterUpdate(parameter_obj, ret, function_obj);\n  });\n\n  ret.find('input:checkbox').change(function() {\n    parameter_obj.reference = this.checked\n    AlgorithmManagement.renderAlgorithm();\n  });\n\n  ret.find('.by_reference').popup({\n    content : LocalizedStrings.getUI(\"text_parameter_reference\"),\n    delay: { show: 750, hide: 0 }\n  });\n\n  ret.find('.by_copy').popup({\n    content : LocalizedStrings.getUI(\"text_parameter_copy\"),\n    delay: { show: 750, hide: 0 }\n  });\n\n  return ret;\n}\n\nfunction updateParameterName (parameter_var, new_name, parameter_obj_dom, function_obj) {\n\n  if (parameter_var.name == new_name) {\n    return;\n  }\n\n  if (isValidIdentifier(new_name)) {\n    if (variableNameAlreadyExists(new_name, function_obj)) {\n      Utils.renderErrorMessage(parameter_obj_dom.find('.parameter_div_edit'), LocalizedStrings.getError('inform_valid_param_duplicated', [new_name, function_obj.name]));\n    } else {\n      registerUserEvent(function_obj.name, ActionTypes.RENAME_FUNCTION_PARAM, parameter_var.name, new_name);\n      parameter_var.name = new_name;\n    }\n  } else {\n    Utils.renderErrorMessage(parameter_obj_dom.find('.parameter_div_edit'), LocalizedStrings.getError('inform_valid_identifier'));\n  }\n}\n\nfunction variableNameAlreadyExists (name_var, function_obj) {\n\n  if (function_obj.parameters_list) {\n    for (var i = 0; i < function_obj.parameters_list.length; i++) {\n      if (function_obj.parameters_list[i].name == name_var) {\n        return true;\n      }\n    }\n  }\n\n  if (function_obj.variables_list) {\n    for (var i = 0; i < function_obj.variables_list.length; i++) {\n      if (function_obj.variables_list[i].name == name_var) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction updateFunctionName (function_var, new_name, function_obj_dom) {\n\n  if (function_var.name == new_name) {\n    return;\n  }\n\n  if (isValidIdentifier(new_name)) {\n    if (functionNameAlreadyExists(new_name)) {\n      Utils.renderErrorMessage(function_obj_dom.find('.function_name_div'), LocalizedStrings.getError('inform_valid_function_duplicated', [new_name]));\n    } else {\n      registerUserEvent(function_var.name, ActionTypes.RENAME_FUNCTION, new_name);\n      function_var.name = new_name;\n    }\n  } else {\n    Utils.renderErrorMessage(function_obj_dom.find('.function_name_div'), LocalizedStrings.getError('inform_valid_identifier'));\n  }\n}\n\nfunction functionNameAlreadyExists (function_name) {\n  for (var i = 0; i < window.program_obj.functions.length; i++) {\n    if (window.program_obj.functions[i].name == function_name) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar opened_name_parameter = false;\nvar opened_input_parameter = null;\nfunction enableNameParameterUpdate (parameter_obj, parent_node, function_obj) {\n  if (opened_name_parameter) {\n    opened_input_parameter.focus();\n    return;\n  }\n  opened_name_parameter = true;\n  parent_node = $(parent_node);\n\n  var input_field;\n\n  parent_node.find('.span_name_parameter').text('');\n  input_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"+parameter_obj.name+\"' />\" );\n  input_field.insertBefore(parent_node.find('.span_name_parameter'));\n\n  input_field.on('input', function() {\n    var inputWidth = input_field.textWidth()+10;\n    opened_input_parameter = input_field;\n    input_field.focus();\n\n    var tmpStr = input_field.val();\n    input_field.val('');\n    input_field.val(tmpStr);\n\n    input_field.css({\n        width: inputWidth\n    })\n  }).trigger('input');\n\n  input_field.focusout(function() {\n    /// update array:\n    if (input_field.val().trim()) {\n      updateParameterName(parameter_obj, input_field.val().trim(), parent_node, function_obj);\n      parent_node.find('.span_name_parameter').text(parameter_obj.name);\n    }\n    input_field.off();\n    input_field.remove();\n\n    /// update elements:\n    opened_name_parameter = false;\n    opened_input_parameter = false;\n  });\n\n  input_field.on('keydown', function(e) {\n    var code = e.keyCode || e.which;\n    if(code == 13) {\n      if (input_field.val().trim()) {\n        updateParameterName(parameter_obj, input_field.val().trim(), parent_node, function_obj);\n        parent_node.find('.span_name_parameter').text(parameter_obj.name);\n      }\n      input_field.off();\n      input_field.remove();\n\n      /// update elements:\n      opened_name_parameter = false;\n      opened_input_parameter = false;\n\n    }\n    if(code == 27) {\n      parent_node.find('.span_name_parameter').text(parameter_obj.name);\n      input_field.off();\n      input_field.remove();\n\n      /// update elements:\n      opened_name_parameter = false;\n      opened_input_parameter = false;\n    }\n  });\n  input_field.select();\n}\n\nvar opened_name_function = false;\nvar opened_input = null;\nvar previousPadding = null;\nfunction enableNameFunctionUpdate (function_obj, parent_node) {\n  if (opened_name_function) {\n    opened_input.focus();\n    return;\n  }\n  parent_node = $(parent_node);\n  parent_node.find('.span_name_function').text('');\n  var input_field;\n  if (!previousPadding) {\n    previousPadding = parent_node.find('.span_name_function').css('padding-left');\n  }\n  parent_node.find('.span_name_function').css('padding-left', '0');\n  parent_node.find('.span_name_function').css('padding-right', '0');\n\n  input_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"+function_obj.name+\"' />\" );\n  input_field.insertBefore(parent_node.find('.span_name_function'));\n\n  input_field.on('input', function() {\n    var inputWidth = input_field.textWidth()+10;\n    opened_input = input_field;\n    input_field.focus();\n\n    var tmpStr = input_field.val();\n    input_field.val('');\n    input_field.val(tmpStr);\n\n    input_field.css({\n        width: inputWidth\n    })\n  }).trigger('input');\n\n  input_field.focusout(function() {\n    /// update array:\n    if (input_field.val().trim()) {\n      updateFunctionName(function_obj, input_field.val().trim(), parent_node);\n    }\n    input_field.off();\n    input_field.remove();\n    parent_node.find('.span_name_function').css('padding-left', previousPadding);\n    parent_node.find('.span_name_function').css('padding-right', previousPadding);\n    parent_node.find('.span_name_function').text(function_obj.name);\n\n    /// update elements:\n    opened_name_function = false;\n    opened_input = false;\n  });\n\n  input_field.on('keydown', function(e) {\n    var code = e.keyCode || e.which;\n    if(code == 13) {\n      if (input_field.val().trim()) {\n        updateFunctionName(function_obj, input_field.val().trim(), parent_node);\n      }\n      input_field.off();\n      input_field.remove();\n      parent_node.find('.span_name_function').css('padding-left', previousPadding);\n      parent_node.find('.span_name_function').css('padding-right', previousPadding);\n      parent_node.find('.span_name_function').text(function_obj.name);\n\n      /// update elements:\n      opened_name_function = false;\n      opened_input = false;\n    }\n    if(code == 27) {\n\n      input_field.off();\n      input_field.remove();\n      parent_node.find('.span_name_function').css('padding-left', previousPadding);\n      parent_node.find('.span_name_function').css('padding-right', previousPadding);\n      parent_node.find('.span_name_function').text(function_obj.name);\n\n      /// update elements:\n      opened_name_function = false;\n      opened_input = false;\n    }\n  });\n  input_field.select();\n\n}\n\nexport function addFunctionChangeListener (callback) {\n  functionsChangeListeners.push(callback);\n  return functionsChangeListeners.length - 1;\n}\n\nexport function addGlobalChangeListener (callback) {\n  globalChangeListeners.push(callback);\n  return globalChangeListeners.length - 1;\n}\n\nexport function removeGlobalListener (index) {\n  globalChangeListeners.splice(index, 1);\n}\n\nexport function removeFunctionListener (index) {\n  functionsChangeListeners.splice(index);\n}\n\nfunction scheduleCall (callback, time) {\n  const scheduled_call = () => {\n    const id = setInterval(() => {\n      if(callback()) {\n        clearInterval(id);\n      }\n    }, time)\n  }\n  scheduled_call();\n}\n\nfunction showRunButton () {\n  document.getElementById('run_button').style.display = 'inline';\n  document.getElementById('stop_button').style.display = 'none';\n}\n\nfunction showStopButton () {\n  document.getElementById('run_button').style.display = 'none';\n  document.getElementById('stop_button').style.display = 'inline';\n}\n\nfunction stopExecution () {\n  domConsole.clearPendingWrites();\n  domConsole.cancelPendingInputRequests();\n  if(!isRunning) {\n    return;\n  }\n  proc.mode = Modes.ABORT;\n}\n\nfunction downloadFile() {\n\n  var contentToSend = '{}\\n::algorithm::';\n\n  contentToSend = generator();\n\n  var date = new Date();\n  var temp = date.toISOString().split('T')[0] + \"_\" + date.toTimeString().split(' ')[0].replaceAll(':', '-');\n  var blob = new Blob([contentToSend],\n                { type: \"text/plain;charset=utf-8\" });\n\n  saveAs(blob, \"ivprog-exported_\" + temp + \".ivph\");\n}\n\nfunction uploadFile (evt) {\n    var oFReader = new FileReader();\n    oFReader.readAsText(document.getElementById(\"ivph_file\").files[0]);\n\n    oFReader.onload = function (oFREvent) {\n      var txt = oFREvent.target.result;\n\n      try {\n\n        if (txt.indexOf(\"::algorithm::\") >= 0 || txt.indexOf(\"\\\"test_cases\\\"\") >= 0) {\n          //leo/lucas Version with \"test-cases\": { \"version\": \"x.y\",\\n \"code\": ... \\n \"test_cases\":...\n          prepareActivityToStudent(txt, true); // in ./src/ivprog/js/iassign-integration-functions.js\n          console.debug(\"code=\" + txt.code);\n        } else {\n          ivprogCore.setPreviousAlgorithm(txt);\n          window.renderAlgorithm();\n        }\n      }\n      catch (e) {\n        console.log(e)\n      }\n    };\n  }\n","import { Types } from './types';\nimport * as Models from './ivprog_elements';\nimport { LocalizedStrings } from './../services/localizedStringsService';\nimport * as Utils from './utils';\nimport { registerUserEvent, registerSystemEvent, ActionTypes } from \"./../services/userLog\";\nimport { isValidIdentifier } from \"./../util/utils\";\nvar counter_new_globals = 0;\n\nexport function addGlobal (program, is_from_click = false) {\n\n\t// Verify if the next global name is in use:\n\tif (program.globals) {\n\t\tvar in_use = false;\n\t\tdo {\n\t\t\tin_use = false;\n\t\t\t\n\t\t\tvar temp_name = LocalizedStrings.getUI('new_global') + '_' + counter_new_globals;\n\n\t\t\tprogram.globals.forEach(function(el) {\n\t\t\t\tif (temp_name == el.name) {\n\t\t\t\t\tin_use = true;\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (in_use)\n\t\t\t\tcounter_new_globals++;\n\n\t\t} while (in_use);\n\t}\n\n\tvar new_global = new Models.Variable(Types.INTEGER, LocalizedStrings.getUI('new_global') + '_' + counter_new_globals, 0);\n\tcounter_new_globals ++;\n\n\tprogram.addGlobal(new_global);\n\n\tregisterUserEvent(new_global.name, ActionTypes.INSERT_GLOBAL_VAR);\n\tvar newe = renderGlobal(new_global);\n\n\tif (is_from_click) {\n\t\tnewe.css('display', 'none');\n\t\tnewe.fadeIn();\n\t}\n\n}\n\nfunction toggleConstant (global_var) {\n\tglobal_var.is_constant = !global_var.is_constant;\n\tregisterUserEvent(global_var.name, ActionTypes.SET_GLOBAL_CONST);\n}\n\nfunction updateName (global_var, new_name, global_obj_dom) {\n\n\tif (global_var.name == new_name) {\n\t\treturn;\n\t}\n\n\tif (isValidIdentifier(new_name)) {\n\t\tif (globalNameAlreadyExists(new_name)) {\n\t\t\tUtils.renderErrorMessage(global_obj_dom.find('.editing_name_var'), LocalizedStrings.getUI('inform_valid_global_duplicated'));\n\t\t} else {\n\t\t\tregisterUserEvent(global_var.name, ActionTypes.RENAME_GLOBAL_VAR, new_name);\n\t\t\tglobal_var.name = new_name;\n\t\t}\n\t} else {\n\t\tUtils.renderErrorMessage(global_obj_dom.find('.editing_name_var'), LocalizedStrings.getError('inform_valid_identifier'));\n\t}\n}\n\nfunction globalNameAlreadyExists (global_name) {\n  for (var i = 0; i < window.program_obj.globals.length; i++) {\n    if (window.program_obj.globals[i].name == global_name) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction updateType (global_var, new_type, new_dimensions = 0) {\n\tglobal_var.type = new_type;\n\tglobal_var.dimensions = new_dimensions;\n\n\tif (new_dimensions > 0) {\n\t\tglobal_var.rows = new_dimensions;\n\t\tglobal_var.columns = 2;\n\t}\n\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_VAR_TYPE, new_type,\n\t\tnew_dimensions, global_var.rows, global_var.columns);\n\tupdateInitialValues(global_var);\n}\n\nfunction removeGlobal (global_var, global_container) {\n\tvar index = window.program_obj.globals.indexOf(global_var);\n\tif (index > -1) {\n\t\twindow.insertContext = true;\n\t  window.program_obj.globals.splice(index, 1);\n\t}\n\tregisterUserEvent(global_var.name, ActionTypes.REMOVE_GLOBAL_VAR);\n\tglobal_container.children().off();\n\tglobal_container.off();\n\tglobal_container.fadeOut();\n}\n\nfunction updateInitialValues (global_var) {\n\tif (global_var.type == Types.INTEGER) {\n\t\tif (global_var.dimensions == 0) {\n\t\t\tglobal_var.value = 0;\n\t\t}\n\t\tif (global_var.dimensions == 1) {\n\t\t\tglobal_var.value = [0, 0];\n\t\t}\n\t\tif (global_var.dimensions == 2) {\n\t\t\tglobal_var.value = [[0, 0], [0, 0]];\n\t\t}\n\t}\n\n\tif (global_var.type == Types.REAL) {\n\t\tif (global_var.dimensions == 0) {\n\t\t\tglobal_var.value = 0.0;\n\t\t}\n\t\tif (global_var.dimensions == 1) {\n\t\t\tglobal_var.value = [0.0, 0.0];\n\t\t}\n\t\tif (global_var.dimensions == 2) {\n\t\t\tglobal_var.value = [[0.0, 0.0], [0.0, 0.0]];\n\t\t}\n\t}\n\n\tif (global_var.type == Types.TEXT) {\n\t\tif (global_var.dimensions == 0) {\n\t\t\tglobal_var.value = LocalizedStrings.getUI('textvar_default_value');\n\t\t}\n\t\tif (global_var.dimensions == 1) {\n\t\t\tglobal_var.value = [LocalizedStrings.getUI('textvar_default_value'), LocalizedStrings.getUI('textvar_default_value')];\n\t\t}\n\t\tif (global_var.dimensions == 2) {\n\t\t\tglobal_var.value = [[LocalizedStrings.getUI('textvar_default_value'), LocalizedStrings.getUI('textvar_default_value')], \n\t\t\t\t\t\t\t\t\t[LocalizedStrings.getUI('textvar_default_value'), LocalizedStrings.getUI('textvar_default_value')]];\n\t\t}\n\t}\n\n\tif (global_var.type == Types.BOOLEAN) {\n\t\tif (global_var.dimensions == 0) {\n\t\t\tglobal_var.value = true;\n\t\t}\n\t\tif (global_var.dimensions == 1) {\n\t\t\tglobal_var.value = [true, true];\n\t\t}\n\t\tif (global_var.dimensions == 2) {\n\t\t\tglobal_var.value = [[true, true], [true, true]];\n\t\t}\n\t}\n\n\tif (global_var.type == Types.CHAR) {\n\t\tif (global_var.dimensions == 0) {\n\t\t\tglobal_var.value = 'A';\n\t\t}\n\t\tif (global_var.dimensions == 1) {\n\t\t\tglobal_var.value = ['A', 'A'];\n\t\t}\n\t\tif (global_var.dimensions == 2) {\n\t\t\tglobal_var.value = [['A', 'A'], ['A', 'A']];\n\t\t}\n\t}\n\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.name,\n\t\tglobal_var.value);\n}\n\nfunction alternateBooleanGlobalValue (global_var, value_container) {\n\tglobal_var.value = !global_var.value;\n\t$(value_container).find('.span_value_variable').text(LocalizedStrings.getUI(`logic_value_${global_var.value}`));\n}\n\nfunction alternateBooleanGlobalVectorValue (global_var, index, value_container) {\n\tglobal_var.value[index] = !global_var.value[index];\n\t$(value_container).find('.span_value_variable').text(LocalizedStrings.getUI(`logic_value_${global_var.value[index]}`));\n}\n\nfunction removeGlobalColumnVector (global_var) {\n\tif (global_var.columns == 0) {\n\t\treturn;\n\t}\n\n\tglobal_var.columns --;\n\tglobal_var.value.splice(global_var.value.length - 1, 1);\n}\n\nfunction addGlobalColumnVector (global_var) {\n\tglobal_var.columns ++;\n\n\tif (global_var.type == Types.INTEGER) {\n\t\tglobal_var.value.push(0);\n\t}\n\tif (global_var.type == Types.REAL) {\n\t\tglobal_var.value.push(0.0);\n\t}\n\tif (global_var.type == Types.TEXT) {\n\t\tglobal_var.value.push(LocalizedStrings.getUI('textvar_default_value'));\n\t}\n\tif (global_var.type == Types.BOOLEAN) {\n\t\tglobal_var.value.push(true);\n\t}\n\n\tif (global_var.type == Types.CHAR) {\n\t\tglobal_var.value.push(LocalizedStrings.getUI('charvar_default_value'));\n\t}\n}\n\nfunction removeColumnGlobalMatrix (global_var) {\n\tif (global_var.columns == 0) {\n\t\treturn;\n\t}\n\n\tglobal_var.columns --;\n\n\tfor (var i = 0; i < global_var.rows; i++) {\n\t\tglobal_var.value[i].splice(global_var.value[i].length - 1, 1);\n\t}\n}\n\nfunction addColumnGlobalMatrix (global_var) {\n\tglobal_var.columns ++;\n\n\tif (global_var.type == Types.INTEGER) {\n\t\tfor (var i = 0; i < global_var.rows; i++) {\n\t\t\tglobal_var.value[i].push(0);\n\t\t}\n\t}\n\tif (global_var.type == Types.REAL) {\n\t\tfor (var i = 0; i < global_var.rows; i++) {\n\t\t\tglobal_var.value[i].push(0.0);\n\t\t}\n\t}\n\tif (global_var.type == Types.TEXT) {\n\t\tfor (var i = 0; i < global_var.rows; i++) {\n\t\t\tglobal_var.value[i].push(LocalizedStrings.getUI('textvar_default_value'));\n\t\t}\n\t}\n\tif (global_var.type == Types.BOOLEAN) {\n\t\tfor (var i = 0; i < global_var.rows; i++) {\n\t\t\tglobal_var.value[i].push(true);\n\t\t}\n\t}\n\tif (global_var.type == Types.CHAR) {\n\t\tfor (var i = 0; i < global_var.rows; i++) {\n\t\t\tglobal_var.value[i].push(LocalizedStrings.getUI('charvar_default_value'));\n\t\t}\n\t}\n}\n\nfunction removeLineGlobalMatrix (global_var) {\n\tif (global_var.rows == 0) {\n\t\treturn;\n\t}\n\n\tglobal_var.rows --;\n\tglobal_var.value.splice(global_var.value.length - 1, 1);\n}\n\nfunction addLineGlobalMatrix (global_var) {\n\tglobal_var.rows ++;\n\n\tif (global_var.type == Types.INTEGER) {\n\t\tvar n_l = [];\n\t\tfor (var i = 0; i < global_var.columns; i++) {\n\t\t\tn_l.push(0);\n\t\t}\n\t\tglobal_var.value.push(n_l);\n\t}\n\tif (global_var.type == Types.REAL) {\n\t\tvar n_l = [];\n\t\tfor (i = 0; i < global_var.columns; i++) {\n\t\t\tn_l.push(0.0);\n\t\t}\n\t\tglobal_var.value.push(n_l);\n\t}\n\n\tif (global_var.type == Types.TEXT) {\n\t\tvar n_l = [];\n\t\tfor (i = 0; i < global_var.columns; i++) {\n\t\t\tn_l.push(LocalizedStrings.getUI('textvar_default_value'));\n\t\t}\n\t\tglobal_var.value.push(n_l);\n\t}\n\n\tif (global_var.type == Types.BOOLEAN) {\n\t\tvar n_l = [];\n\t\tfor (i = 0; i < global_var.columns; i++) {\n\t\t\tn_l.push(true);\n\t\t}\n\t\tglobal_var.value.push(n_l);\n\t}\n\n\tif (global_var.type == Types.CHAR) {\n\t\tvar n_l = [];\n\t\tfor (i = 0; i < global_var.columns; i++) {\n\t\t\tn_l.push(LocalizedStrings.getUI('charvar_default_value'));\n\t\t}\n\t\tglobal_var.value.push(n_l);\n\t}\n}\n\nfunction alternateBooleanGlobalMatrixValue (global_var, row, index, value_container) {\n\tglobal_var.value[row][index] = !global_var.value[row][index];\n\t$(value_container).find('.span_value_variable').text(LocalizedStrings.getUI(`logic_value_${global_var.value[row][index]}`));\n}\n\nfunction renderValues (global_var, global_container) {\n\n\tvar ret = \"\";\n\tvar j = 0;\n\n\tif (global_var.dimensions == 0) {\n\t\tif (global_var.type == Types.REAL) {\n\t\t\tret += '<div class=\"created_div_valor_var\"><span class=\"span_value_variable simple_var\">'+parseFloat(global_var.value).toFixed(1)+'</span>  </div> ';\n\t\t} else {\n\t\t\tif (global_var.type == Types.BOOLEAN) {\n\t\t\t\tret += '<div class=\"created_div_valor_var\"><span class=\"span_value_variable boolean_simple_type\">'+LocalizedStrings.getUI(`logic_value_${global_var.value}`)+'</span>  </div> ';\n\t\t\t} else {\n\t\t\t\tret += '<div class=\"created_div_valor_var\"><span class=\"span_value_variable simple_var\">'+global_var.value+'</span>  </div> ';\n\t\t\t}\n\t\t}\n\t} else {\n\t\tret += '<table class=\"tabela_var\">';\n\n\t\tif (global_var.dimensions == 1) {\n\t\t\tret += '<tr>';\n\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\tfor (var k = 0; k < global_var.columns; k++) {\n\t\t\t\t\tret += '<td><span class=\"span_value_variable vector_var\" data-index=\"'+k+'\">'+parseFloat(global_var.value[k]).toFixed(1)+'</span></td>';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var k = 0; k < global_var.columns; k++) {\n\t\t\t\t\tif (global_var.type == Types.BOOLEAN) {\n\t\t\t\t\t\tret += '<td><span class=\"span_value_variable boolean_vector_var\" data-index=\"'+k+'\">'+LocalizedStrings.getUI(`logic_value_${global_var.value[k]}`)+'</span></td>';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tret += '<td><span class=\"span_value_variable vector_var\" data-index=\"'+k+'\">'+global_var.value[k]+'</span>'+'</td>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tret += '</tr>';\n\t\t\tret += '</table>';\n\n\t\t\tret += '<div class=\"buttons_manage_columns\"><i class=\"ui icon minus square outline remove_global_vector_column\"></i>'\n\t\t    \t+ ' <i class=\"ui icon plus square outline add_global_vector_column\"></i></div>';\n\t\t}\n\n\t\tif (global_var.dimensions == 2) {\n\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\tfor (var l = 0; l < global_var.rows; l++) {\n    \t\t\t\tret += '<tr>';\n    \t\t\t\tfor (var k = 0; k < global_var.columns; k++) {\n    \t\t\t\t\tret += '<td><span class=\"span_value_variable matrix_var\" data-index=\"'+k+'\" data-row=\"'+l+'\">'+parseFloat(global_var.value[l][k]).toFixed(1)+'</span>'+'</td>';\n    \t\t\t\t} \n    \t\t\t\tret += '</tr>';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var l = 0; l < global_var.rows; l++) {\n    \t\t\t\tret += '<tr>';\n    \t\t\t\tfor (var k = 0; k < global_var.columns; k++) {\n    \t\t\t\t\tif (global_var.type == Types.BOOLEAN) { \n    \t\t\t\t\t\tret += '<td><span class=\"span_value_variable boolean_matrix_var\" data-index=\"'+k+'\" data-row=\"'+l+'\">'+LocalizedStrings.getUI(`logic_value_${global_var.value[l][k]}`)+'</span></td>';\n    \t\t\t\t\t} else {\n    \t\t\t\t\t\tret += '<td><span class=\"span_value_variable matrix_var\" data-index=\"'+k+'\" data-row=\"'+l+'\">'+global_var.value[l][k]+'</span></td>';\n    \t\t\t\t\t}\n    \t\t\t\t} \n    \t\t\t\tret += '</tr>';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (global_var.rows == 0) {\n\t\t\t\tret += '<tr><td></td></tr>';\n\t\t\t}\n\t\t\tret += '<tr><td colspan=\"'+global_var.columns+'\" class=\"tr_manage_lines\"><i class=\"ui icon minus square outline remove_global_matrix_line\"></i>'\n\t\t    \t+ ' <i class=\"ui icon plus square outline add_global_matrix_line\"></i></td></tr>';\n\t\t\tret += '</table>';\n\n\t\t\tret += '<div class=\"buttons_manage_columns\"><i class=\"ui icon minus square outline remove_global_matrix_column\"></i>'\n\t\t    \t+ ' <i class=\"ui icon plus square outline add_global_matrix_column\"></i></div>';\n\t\t}\n\t\t\n\t}\n\n\tglobal_container.find( \".div_valor_var\" ).html('');\n\n\tret = $(ret);\n\n\tret.find('.span_value_variable').data('associatedOject', global_var);\n\n\tret.find( \".boolean_simple_type\" ).on('click', function(e){\n\t\talternateBooleanGlobalValue(global_var, this.parentNode);\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t});\n\tret.find( \".simple_var\" ).on('click', function(e){\n\t\tregisterUserEvent(global_var.name, ActionTypes.ENTER_CHANGE_GLOBAL_VALUE);\n\t\tenableGlobalValueUpdate(global_var, this.parentNode);\n\t});\n\n\tret.find( \".boolean_vector_var\" ).on('click', function(e){\n\t\talternateBooleanGlobalVectorValue(global_var, $(this).data('index'), this.parentNode);\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t});\n\tret.find( \".vector_var\" ).on('click', function(e){\n\t\tregisterUserEvent(global_var.name, ActionTypes.ENTER_CHANGE_GLOBAL_VALUE);\n\t\tenableGlobalVectorValueUpdate(global_var, $(this).data('index'), this.parentNode);\n\t});\n\tret.find( \".remove_global_vector_column\" ).on('click', function(e){\n\t\tremoveGlobalColumnVector(global_var);\n\t\tglobal_container.find( \".div_valor_var\" ).html('');\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_TYPE,\n\t\t\tglobal_var.type, global_var.dimensions, global_var.rows, global_var.columns);\n\t\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\trenderValues(global_var, global_container);\n\t});\n\tret.find( \".add_global_vector_column\" ).on('click', function(e){\n\t\taddGlobalColumnVector(global_var);\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_TYPE,\n\t\t\tglobal_var.type, global_var.dimensions, global_var.rows, global_var.columns);\n\t\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\tglobal_container.find( \".div_valor_var\" ).html('');\n\t\trenderValues(global_var, global_container);\n\t});\n\tret.find( \".remove_global_matrix_column\" ).on('click', function(e){\n\t\tremoveColumnGlobalMatrix(global_var);\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_TYPE,\n\t\t\tglobal_var.type, global_var.dimensions, global_var.rows, global_var.columns);\n\t\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\tglobal_container.find( \".div_valor_var\" ).html('');\n\t\trenderValues(global_var, global_container);\n\t});\n\tret.find( \".add_global_matrix_column\" ).on('click', function(e){\n\t\taddColumnGlobalMatrix(global_var);\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_TYPE,\n\t\t\tglobal_var.type, global_var.dimensions, global_var.rows, global_var.columns);\n\t\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\tglobal_container.find( \".div_valor_var\" ).html('');\n\t\trenderValues(global_var, global_container);\n\t});\n\tret.find( \".remove_global_matrix_line\" ).on('click', function(e){\n\t\tremoveLineGlobalMatrix(global_var);\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_TYPE,\n\t\t\tglobal_var.type, global_var.dimensions, global_var.rows, global_var.columns);\n\t\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\tglobal_container.find( \".div_valor_var\" ).html('');\n\t\trenderValues(global_var, global_container);\n\t});\n\tret.find( \".add_global_matrix_line\" ).on('click', function(e){\n\t\taddLineGlobalMatrix(global_var);\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_TYPE,\n\t\t\tglobal_var.type, global_var.dimensions, global_var.rows, global_var.columns);\n\t\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\tglobal_container.find( \".div_valor_var\" ).html('');\n\t\trenderValues(global_var, global_container);\n\t});\n\tret.find( \".boolean_matrix_var\" ).on('click', function(e){\n\t\talternateBooleanGlobalMatrixValue(global_var, $(this).data('row'), $(this).data('index'), this.parentNode);\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t});\n\tret.find( \".matrix_var\" ).on('click', function(e){\n\t\tregisterUserEvent(global_var.name, ActionTypes.ENTER_CHANGE_GLOBAL_VALUE);\n\t\tenableGlobalMatrixValueUpdate(global_var, $(this).data('row'), $(this).data('index'), this.parentNode);\n\t});\n\tglobal_container.find( \".div_valor_var\" ).append(ret);\n\n\n\tupdateColumnsAndRowsText(global_container, global_var);\n\n}\n\nfunction addHandlers (global_container) {\n\tvar global_var = global_container.data('associatedOject'); \n\t// Manage constant option:\n\tglobal_container.find( \".alternate_constant\" ).on('click', function(e){\n\t\ttoggleConstant(global_var);\n\n\t\t$( this ).removeClass( \"on off\" );\n\t\tif (global_var.is_constant) {\n\t\t\t$( this ).addClass( \"on\" );\n\t\t} else {\n\t\t\t$( this ).addClass( \"off\" );\n\t\t}\n\t});\n\n\t// Manage global name: \n\tglobal_container.find( \".editing_name_var\" ).on('click', function(e){\n\t\tregisterUserEvent(global_var.name, ActionTypes.ENTER_CHANGE_GLOBAL_NAME);\n\t\tenableNameUpdate(global_container);\n\t});\n\n\t// Menu to change type:\n\tglobal_container.find('.ui.dropdown.global_type').dropdown({\n\t    onChange: function(_, __, $selectedItem) {\n\t    \tif ($selectedItem.data('dimensions')) {\n\t    \t\tupdateType(global_var, Types[$selectedItem.data('type')], $selectedItem.data('dimensions'));\n\t    \t} else {\n\t    \t\tupdateType(global_var, Types[$selectedItem.data('type')]);\n\t    \t}\n\n\t    \trenderValues(global_var, global_container);\n\n\t    },\n\t    selectOnKeydown: false\n\t});\n\n\t// Remove global: \n\tglobal_container.find( \".remove_global\" ).on('click', function(e){\n\t\tremoveGlobal(global_var, global_container);\n\t});\n\n\tglobal_container.find( \".ellipsis\" ).popup({\n    content : LocalizedStrings.getUI(\"tooltip_move_var\"),\n    delay: {\n      show: 750,\n      hide: 0\n    }\n  });\n\n\tglobal_container.find( \".remove_global\" ).popup({\n    content : LocalizedStrings.getUI(\"tooltip_remove_var\"),\n    delay: {\n      show: 750,\n      hide: 0\n    }\n  });\n\n}\n\nfunction updateColumnsAndRowsText (global_container, global_var) {\n\tvar prev = global_container.find('.text').text().split('[');\n\tif (prev.length == 2) {\n\t\tvar ff = prev[0] + '[ ' + global_var.columns + ' ] ';\n\t\tglobal_container.find('.text').empty();\n\t\tglobal_container.find('.text').text(ff);\n\t}\n\tif (prev.length == 3) {\n\t\tvar ff = prev[0] + '[ ' + global_var.columns + ' ] [ ' + global_var.rows + ' ] ';\n\t\tglobal_container.find('.text').empty();\n\t\tglobal_container.find('.text').text(ff);\n\t}\n}\n\nexport function renderGlobal (global_var) {\n\n\tvar element = '<div class=\"ui label global_container pink\"><i class=\"ui icon ellipsis vertical inverted\"></i><div class=\"global_const\">const: ';\n\n\telement += '<i class=\"ui icon toggle '+(global_var.is_constant?\"on\":\"off\")+' alternate_constant\"></i></div>';\n \t\n \telement += '<div class=\"ui dropdown global_type\">';\n\n  \tif (global_var.dimensions == 1) {\n  \t\telement += '<div class=\"text\">'+ LocalizedStrings.getUI('vector')+ ': ' + LocalizedStrings.getUI(`type_${global_var.type}`);\n  \t\telement += ' [ <span class=\"dimensions_0\"></span> ] ';\n  \t\telement += '</div>';\n  \t} else if (global_var.dimensions == 2) {\n  \t\telement += '<div class=\"text\">'+ LocalizedStrings.getUI('matrix')+ ': ' + LocalizedStrings.getUI(`type_${global_var.type}`);\n  \t\telement += ' [ <span class=\"dimensions_0\"></span> ] [ <span class=\"dimensions_1\"></span> ] ';\n  \t\telement += '</div>';\n  \t} else {\n  \t\telement += '<div class=\"text\">' + LocalizedStrings.getUI(`type_${global_var.type.toLowerCase()}`) + '</div>';\n  \t}\n\telement += '<div class=\"menu\">';\n\n\tfor (var tm in Types) {\n  \t\tif (tm == Types.VOID.toUpperCase()) {\n  \t\t\tcontinue;\n  \t\t}\n  \t\telement += '<div class=\"item ' + (global_var.type == tm.toLowerCase() && global_var.dimensions == 0 ? ' selected ' : '') + '\" data-type=\"'+tm+'\" >'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\n\t}\n\n\n\telement += '<div class=\"item ' + (global_var.dimensions == 1 ? ' selected ' : '') + '\">'\n\t\t+ '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('vector')\n\t\t+  '<div class=\"menu\">';\n\n\tfor (var tm in Types) {\n  \t\tif (tm == Types.VOID.toUpperCase()) {\n  \t\t\tcontinue;\n  \t\t}\n\n  \t\telement += '<div class=\"item ' + (global_var.type == tm.toLowerCase() &&  global_var.dimensions == 1 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('vector')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"1\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\n  \t}\n\telement += '</div></div>';\n\n\n\telement += '<div class=\"item ' + (global_var.dimensions == 2 ? ' selected ' : '') + '\">'\n\t\t+ '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('matrix')\n\t\t+  '<div class=\"menu\">';\n\n\tfor (var tm in Types) {\n  \t\tif (tm == Types.VOID.toUpperCase()) {\n  \t\t\tcontinue;\n  \t\t}\n\n  \t\telement += '<div class=\"item ' + (global_var.type == tm.toLowerCase() &&  global_var.dimensions == 2 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('matrix')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"2\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\n  \t}\n\telement += '</div></div>';\n\n    element += '</div></div> <div class=\"editing_name_var\"> <span class=\"span_name_variable enable_edit_name_parameter\">'+global_var.name+'</span> </div> <span class=\"character_equals\"> <&#8212; </span> ';\n\n\telement += '<div class=\"ui div_valor_var\">'+global_var.value+'</div>';    \n\n\telement += ' <i class=\"yellow inverted icon times remove_global\"></i></div>';\n\n\tvar complete_element = $(element);\n\n\tcomplete_element.data('associatedOject', global_var);\n\n\t$('.list_globals').append(complete_element);\n\n\taddHandlers(complete_element);\n\n\trenderValues(global_var, complete_element);\n\n\tif (global_var.dimensions == 1) {\n\t\tcomplete_element.find('.dimensions_0').text(global_var.columns);\n\t}\n\tif (global_var.dimensions == 2) {\n\t\tcomplete_element.find('.dimensions_0').text(global_var.columns);\n\t\tcomplete_element.find('.dimensions_1').text(global_var.rows);\n\t}\n\n\treturn complete_element;\n}\n\nvar opened_name_value_matrix_global_v = false;\nvar opened_input_value_matrix_global_v = null;\nfunction enableGlobalMatrixValueUpdate (global_var, row, index, parent_node) {\n\tif (opened_name_value_matrix_global_v) {\n\t\topened_input_value_matrix_global_v.focus();\n\t\treturn;\n\t}\n\tparent_node = $(parent_node);\n\topened_name_value_matrix_global_v = true;\n\n\tparent_node.find('.span_value_variable').text('');\n\n\tvar input_field;\n\n\tif (global_var.type == Types.REAL) {\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\n\t\t\t+ parseFloat(global_var.value[row][index]).toFixed(1) + \"' />\" );\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\n\t} else {\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\n\t\t\t+ global_var.value[row][index] + \"' />\" );\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\n\t}\n\n\tinput_field.on('input', function() {\n\t    var inputWidth = input_field.textWidth()+10;\n\t    opened_input_value_matrix_global_v = input_field;\n\t    input_field.focus();\n\n\t    var tmpStr = input_field.val();\n\t\tinput_field.val('');\n\t\tinput_field.val(tmpStr);\n\n\t    input_field.css({\n\t        width: inputWidth\n\t    })\n\t}).trigger('input');\n\n\tinput_field.focusout(function() {\n\t\t/// update array:\n\t\tif (input_field.val().trim()) {\n\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\tglobal_var.value[row][index] = parseFloat(input_field.val().trim());\n\n\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value[row][index]).toFixed(1));\n\t\t\t} else {\n\t\t\t\tif (global_var.type == Types.INTEGER) {\n\t\t\t\t\tglobal_var.value[row][index] = parseInt(input_field.val().trim());\n\t\t\t\t} else {\n\t\t\t\t\tglobal_var.value[row][index] = input_field.val().trim();\n\t\t\t\t}\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\n\t\t\t}\n\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\t} else {\n\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index].toFixed(1));\n\t\t\t} else {\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\n\t\t\t}\n\t\t}\n\t\tif (global_var.type == Types.TEXT) {\n\t\t\tglobal_var.value[row][index] = input_field.val();\n\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\n\t\t}\n\t\tinput_field.off();\n\t\tinput_field.remove();\n\n\t\t/// update elements:\n\t\topened_name_value_matrix_global_v = false;\n\t\topened_input_value_matrix_global_v = false;\n\t});\n\n\tinput_field.on('keydown', function(e) {\n\t\tvar code = e.keyCode || e.which;\n\t\tif(code == 13) {\n\t\t\tif (input_field.val().trim()) {\n\t\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\t\tglobal_var.value[row][index] = parseFloat(input_field.val().trim());\n\n\t\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value[row][index]).toFixed(1));\n\t\t\t\t} else {\n\t\t\t\t\tif (global_var.type == Types.INTEGER) {\n\t\t\t\t\t\tglobal_var.value[row][index] = parseInt(input_field.val().trim());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tglobal_var.value[row][index] = input_field.val().trim();\n\t\t\t\t\t}\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\n\t\t\t\t}\n\t\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\t\t} else {\n\t\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value[row][index]).toFixed(1));\n\t\t\t\t} else {\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (global_var.type == Types.TEXT) {\n\t\t\t\tglobal_var.value[row][index] = input_field.val();\n\t\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\n\t\t\t}\n\t\t\tinput_field.off();\n\t\t\tinput_field.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_value_matrix_global_v = false;\n\t\t\topened_input_value_matrix_global_v = false;\n\t\t}\n\t\tif(code == 27) {\n\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value[row][index]).toFixed(1));\n\t\t\t} else {\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\n\t\t\t}\n\t\t\tinput_field.off();\n\t\t\tinput_field.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_value_matrix_global_v = false;\n\t\t\topened_input_value_matrix_global_v = false;\n\t\t}\n\t});\n\tinput_field.select();\n}\n\nvar opened_name_value_global_var = false;\nvar opened_input_value_global_ar = null;\nfunction enableGlobalValueUpdate (global_var, parent_node) {\n\tif (opened_name_value_global_var) {\n\t\topened_input_value_global_ar.focus();\n\t\treturn;\n\t}\n\tparent_node = $(parent_node);\n\topened_name_value_global_var = true;\n\n\tparent_node.find('.span_value_variable').text('');\n\n\tvar input_field;\n\n\tif (global_var.type == Types.REAL) {\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\n\t\t\t+ parseFloat(global_var.value).toFixed(1) + \"' />\" );\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\n\t} else {\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\n\t\t\t+ global_var.value + \"' />\" );\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\n\t}\n\n\tinput_field.on('input', function() {\n\t\tvar inputWidth = input_field.textWidth()+10;\n\t\topened_input_value_global_ar = input_field;\n\t\tinput_field.focus();\n\n\t  var tmpStr = input_field.val();\n\t\tinput_field.val('');\n\t\tinput_field.val(tmpStr);\n\n\t\tinput_field.css({\n\t\t\t\twidth: inputWidth\n\t\t})\n\t}).trigger('input');\n\n\tinput_field.focusout(function() {\n\t\tlet changed = false;\n\t\t/// update array:\n\t\tif (input_field.val().trim()) {\n\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\tglobal_var.value = parseFloat(input_field.val().trim());\n\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value).toFixed(1));\n\t\t\t} else{\n\t\t\t\tif (global_var.type == Types.INTEGER) {\n\t\t\t\t\tglobal_var.value = parseInt(input_field.val().trim());\n\t\t\t\t} else if (global_var.type == Types.CHAR) {\n\t\t\t\t\tglobal_var.value = input_field.val().charAt(0);\n\t\t\t\t} else {\n\t\t\t\t\tglobal_var.value = input_field.val().trim();\n\t\t\t\t}\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\n\t\t\t\t\n\t\t\t}\n\t\t\tchanged = true;\n\t\t} else {\n\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value).toFixed(1));\n\t\t\t} else {\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\n\t\t\t}\n\t\t}\n\t\tif (global_var.type == Types.TEXT) {\n\t\t\tglobal_var.value = input_field.val();\n\t\t\tchanged = true;\n\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\n\t\t}\n\t\tif (changed) {\n\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\t}\n\t\tinput_field.off();\n\t\tinput_field.remove();\n\n\t\t/// update elements:\n\t\topened_name_value_global_var = false;\n\t\topened_input_value_global_ar = false;\n\n\t});\n\n\tinput_field.on('keydown', function(e) {\n\t\tconst code = e.keyCode || e.which;\n\t\tlet changed = true;\n\t\tif(code == 13) {\n\t\t\tif (input_field.val().trim()) {\n\t\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\t\tglobal_var.value = parseFloat(input_field.val().trim());\n\t\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value).toFixed(1));\n\t\t\t\t} else {\n\t\t\t\t\tif (global_var.type == Types.INTEGER) {\n\t\t\t\t\t\tglobal_var.value = parseInt(input_field.val().trim());\n\t\t\t\t\t} else if (global_var.type == Types.CHAR) {\n\t\t\t\t\t\tglobal_var.value = input_field.val().charAt(0);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tglobal_var.value = input_field.val().trim();\n\t\t\t\t\t}\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\n\t\t\t\t}\n\t\t\t\tchanged = true;\n\t\t\t} else {\n\t\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value).toFixed(1));\n\t\t\t\t} else {\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (global_var.type == Types.TEXT) {\n\t\t\t\tglobal_var.value = input_field.val();\n\t\t\t\tchanged = true;\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\n\t\t\t}\n\t\t\tif (changed) {\n\t\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\t\t}\n\t\t\tinput_field.off();\n\t\t\tinput_field.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_value_global_var = false;\n\t\t\topened_input_value_global_ar = false;\n\n\t\t}\n\t\tif(code == 27) {\n\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value).toFixed(1));\n\t\t\t} else{\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\n\t\t\t}\n\t\t\tinput_field.off();\n\t\t\tinput_field.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_value_global_var = false;\n\t\t\topened_input_value_global_ar = false;\n\t\t}\n\t});\n\n\tinput_field.select();\n}\n\n\nvar opened_name_global = false;\nvar opened_input_global = null;\nfunction enableNameUpdate (global_container) {\n\n\tvar global_var = global_container.data('associatedOject'); \n\n\tif (opened_name_global) {\n\t\topened_input_global.focus();\n\t\treturn;\n\t}\n\topened_name_global = true;\n\n\tglobal_container.find('.span_name_variable').text('');\n\tvar input_name = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"+global_var.name+\"' />\" );\n\tinput_name.insertBefore(global_container.find('.span_name_variable'));\n\n\tinput_name.on('input', function() {\n\t    var inputWidth = input_name.textWidth()+10;\n\t    opened_input_global = input_name;\n\t    opened_input_global.focus();\n\n\t    opened_input_global.css({\n\t        width: inputWidth\n\t    })\n\t}).trigger('input');\n\n\tinput_name.focusout(function() {\n\t\t/// update array:\n\t\tif (input_name.val().trim().length > 0) {\n\t\t\tupdateName(global_var, input_name.val().trim(), global_container);\n\t\t\tglobal_container.find('.span_name_variable').text(global_var.name);\n\t\t} else {\n\t\t\tglobal_container.find('.span_name_variable').text(global_var.name);\n\t\t}\n\t\tinput_name.off();\n\t\tinput_name.remove();\n\n\t\t/// update elements:\n\t\topened_name_global = false;\n\t\topened_input_global = false;\n\t});\n\n\tinput_name.on('keydown', function(e) {\n\t\tvar code = e.keyCode || e.which;\n\t\tif(code == 13) {\n\t\t\tif (input_name.val().trim()) {\n\t\t\t\tupdateName(global_var, input_name.val().trim(), global_container);\n\t\t\t\tglobal_container.find('.span_name_variable').text(global_var.name);\n\t\t\t} else {\n\t\t\t\tglobal_container.find('.span_name_variable').text(global_var.name);\n\t\t\t}\n\t\t\tinput_name.off();\n\t\t\tinput_name.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_global = false;\n\t\t\topened_input_global = false;\n\t\t}\n\t\tif(code == 27) {\n\n\t\t\tglobal_container.find('.span_name_variable').text(global_var.name);\n\t\t\tinput_name.off();\n\t\t\tinput_name.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_global = false;\n\t\t\topened_input_global = false;\n\t\t}\n\t});\n\n\tinput_name.select();\n\t\n}\n\n\nvar opened_name_value_vector_global_ = false;\nvar opened_input_value_vector_global_ = null;\nfunction enableGlobalVectorValueUpdate (global_var, index, parent_node) {\n\tif (opened_name_value_vector_global_) {\n\t\topened_input_value_vector_global_.focus();\n\t\treturn;\n\t}\n\tparent_node = $(parent_node);\n\topened_name_value_vector_global_ = true;\n\n\tparent_node.find('.span_value_variable').text('');\n\n\tvar input_field;\n\n\tif (global_var.type == Types.REAL) {\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\n\t\t\t+ parseFloat(global_var.value[index]).toFixed(1) + \"' />\" );\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\n\t} else {\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\n\t\t\t+ global_var.value[index] + \"' />\" );\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\n\t}\n\n\tinput_field.on('input', function() {\n\t    var inputWidth = input_field.textWidth()+10;\n\t    opened_input_value_vector_global_ = input_field;\n\t    input_field.focus();\n\n\t    var tmpStr = input_field.val();\n\t\tinput_field.val('');\n\t\tinput_field.val(tmpStr);\n\n\t    input_field.css({\n\t        width: inputWidth\n\t    })\n\t}).trigger('input');\n\n\tinput_field.focusout(function() {\n\t\tlet changed = false;\n\t\t/// update array:\n\t\tif (input_field.val().trim()) {\n\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\tglobal_var.value[index] = parseFloat(input_field.val().trim());\n\n\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value[index]).toFixed(1));\n\t\t\t} else {\n\n\t\t\t\tif (global_var.type == Types.INTEGER) {\n\t\t\t\t\tglobal_var.value[index] = parseInt(input_field.val().trim());\n\t\t\t\t} else {\n\t\t\t\t\tglobal_var.value[index] = input_field.val().trim();\n\t\t\t\t}\n\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\n\n\t\t\t}\n\t\t\tchanged = true;\n\t\t} else {\n\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value[index]).toFixed(1));\n\t\t\t} else {\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\n\t\t\t}\n\t\t}\n\t\tif (global_var.type == Types.TEXT) {\n\t\t\tglobal_var.value[index] = input_field.val();\n\t\t\tchanged = true;\n\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\n\t\t}\n\t\tif (changed) {\n\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\t}\n\t\tinput_field.off();\n\t\tinput_field.remove();\n\n\t\t/// update elements:\n\t\topened_name_value_vector_global_ = false;\n\t\topened_input_value_vector_global_ = false;\n\t});\n\n\tinput_field.on('keydown', function(e) {\n\t\tconst code = e.keyCode || e.which;\n\t\tlet changed = false;\n\t\tif(code == 13) {\n\t\t\tif (input_field.val().trim()) {\n\t\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\t\tglobal_var.value[index] = parseFloat(input_field.val().trim());\n\n\t\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value[index]).toFixed(1));\n\t\t\t\t} else {\n\n\t\t\t\t\tif (global_var.type == Types.INTEGER) {\n\t\t\t\t\t\tglobal_var.value[index] = parseInt(input_field.val().trim());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tglobal_var.value[index] = input_field.val().trim();\n\t\t\t\t\t}\n\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\n\n\t\t\t\t}\n\t\t\t\tchanged = true;\n\t\t\t} else {\n\t\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value[index]).toFixed(1));\n\t\t\t\t} else {\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (global_var.type == Types.TEXT) {\n\t\t\t\tglobal_var.value[index] = input_field.val();\n\t\t\t\tchanged = true;\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\n\t\t\t}\n\t\t\tif (changed) {\n\t\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\n\t\t\t}\n\t\t\tinput_field.off();\n\t\t\tinput_field.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_value_vector_global_ = false;\n\t\t\topened_input_value_vector_global_ = false;\n\t\t}\n\t\tif(code == 27) {\n\t\t\tif (global_var.type == Types.REAL) {\n\t\t\t\tparent_node.find('.span_value_variable').text(parseFloat(global_var.value[index]).toFixed(1));\n\t\t\t} else {\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\n\t\t\t}\n\t\t\tinput_field.off();\n\t\t\tinput_field.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_value_vector_global_ = false;\n\t\t\topened_input_value_vector_global_ = false;\n\t\t}\n\t});\n\n\tinput_field.select();\n}\n\n\n$.fn.textWidth = function(text, font) {\n    \n    if (!$.fn.textWidth.fakeEl) $.fn.textWidth.fakeEl = $('<span>').hide().appendTo(document.body);\n    \n    $.fn.textWidth.fakeEl.text(text || this.val() || this.text() || this.attr('placeholder')).css('font', font || this.css('font'));\n    \n    return $.fn.textWidth.fakeEl.width();\n};","import { Types } from \"./types\";\nimport WatchJS from \"melanke-watchjs\";\nimport * as AlgorithmManagement from \"./algorithm\";\n\nexport const COMMAND_TYPES = Object.freeze({\n  function: \"function\",\n  comment: \"comment\",\n  reader: \"reader\",\n  writer: \"writer\",\n  attribution: \"attribution\",\n  iftrue: \"iftrue\",\n  repeatNtimes: \"repeatNtimes\",\n  whiletrue: \"whiletrue\",\n  dowhiletrue: \"dowhiletrue\",\n  switch: \"switch\",\n  switchcase: \"switchcase\",\n  functioncall: \"functioncall\",\n  break: \"break\",\n  return: \"return\",\n});\n\nexport const ARITHMETIC_TYPES = Object.freeze({\n  plus: \"plus\",\n  minus: \"minus\",\n  multiplication: \"multiplication\",\n  division: \"division\",\n  module: \"module\",\n  none: \"none\",\n});\n\nexport const EXPRESSION_ELEMENTS = Object.freeze({\n  exp_op_exp: \"exp_op_exp\",\n  op_exp: \"op_exp\",\n  par_exp_par: \"par_exp_par\",\n  start_point: \"start_point\",\n});\n\nexport const EXPRESSION_TYPES = Object.freeze({\n  exp_conditional: \"exp_conditional\",\n  exp_logic: \"exp_logic\",\n  exp_arithmetic: \"exp_arithmetic\",\n  write_sep: \"write_separator\",\n});\n\nexport const ARITHMETIC_COMPARISON = Object.freeze({\n  greater_than: \"greater_than\",\n  less_than: \"less_than\",\n  equals_to: \"equals_to\",\n  not_equals_to: \"not_equals_to\",\n  greater_than_or_equals_to: \"greater_than_or_equals_to\",\n  less_than_or_equals_to: \"less_than_or_equals_to\",\n});\n\nexport const LOGIC_COMPARISON = Object.freeze({\n  equals_to: \"equals_to\",\n  not_equals_to: \"not_equals_to\",\n  and: \"and\",\n  or: \"or\",\n  not: \"not\",\n});\n\nexport const SYSTEM_FUNCTIONS_CATEGORIES = Object.freeze({\n  math: \"$mathLib\",\n  text: \"$strLib\",\n  arrangement: \"$arrayLib\",\n  conversion: \"$langLib\",\n});\n\nexport class Variable {\n  constructor (\n    type,\n    name,\n    value,\n    dimensions = 0,\n    is_constant = false,\n    rows = 0,\n    columns = 0,\n    reference = false\n  ) {\n    this.type = type;\n    this.name = name;\n    this.value = value;\n    this.dimensions = dimensions;\n    this.is_constant = is_constant;\n    this.rows = rows;\n    this.columns = columns;\n    this.reference = reference;\n  }\n}\n\nexport class Function {\n  constructor (\n    name,\n    return_type = Types.VOID,\n    return_dimensions = 0,\n    parameters_list = [],\n    is_main = false,\n    is_hidden = false,\n    variables_list = [],\n    function_comment = null,\n    commands = []\n  ) {\n    this.type = COMMAND_TYPES.function;\n    this.name = name;\n    this.return_type = return_type;\n    this.return_dimensions = return_dimensions;\n    this.parameters_list = parameters_list;\n    this.is_main = is_main;\n    this.is_hidden = is_hidden;\n    this.variables_list = variables_list;\n    this.function_comment = function_comment;\n    this.commands = commands;\n  }\n}\n\nexport class SystemFunction {\n  constructor (\n    identifier,\n    return_type,\n    return_dimensions,\n    parameters_list,\n    function_comment = null,\n    category\n  ) {\n    this.type = COMMAND_TYPES.function;\n    this.identifier = identifier;\n    this.return_type = return_type;\n    this.return_dimensions = return_dimensions;\n    this.parameters_list = parameters_list;\n    this.function_comment = function_comment;\n    this.category = category;\n  }\n}\n\nexport class Comment {\n  constructor (comment_text) {\n    this.type = COMMAND_TYPES.comment;\n    this.comment_text = comment_text;\n  }\n}\n\nexport class Break {\n  constructor () {\n    this.type = COMMAND_TYPES.break;\n  }\n}\n\nexport class Reader {\n  constructor (variable_value_menu = new VariableValueMenu()) {\n    this.type = COMMAND_TYPES.reader;\n    this.variable_value_menu = variable_value_menu;\n  }\n}\n\nexport class Writer {\n  constructor (content, newline = true) {\n    this.type = COMMAND_TYPES.writer;\n    this.content = content;\n    this.newline = newline;\n  }\n}\n\nexport class Attribution {\n  constructor (variable, expression = []) {\n    this.type = COMMAND_TYPES.attribution;\n    this.variable = variable;\n    this.expression = expression;\n  }\n}\n\nexport class ExpressionOperator {\n  constructor (type_op, item) {\n    this.type_op = type_op; // Logic, Arithmetic OR Relational\n    this.item = item;\n  }\n}\n\nexport class ExpressionElement {\n  constructor (type_exp, itens = []) {\n    this.type_exp = type_exp;\n    this.itens = itens;\n  }\n}\n\nexport class ConditionalExpression {\n  constructor (expression) {\n    this.type = EXPRESSION_TYPES.exp_conditional;\n    this.expression = expression;\n  }\n}\n\nexport class LogicExpression {\n  constructor (has_neg, first_operand, second_operand, operator) {\n    this.type = EXPRESSION_TYPES.exp_logic;\n    this.has_neg = has_neg;\n    this.first_operand = first_operand;\n    this.second_operand = second_operand;\n    this.operator = operator;\n  }\n}\n\nexport class ArithmeticExpression {\n  constructor (first_operand, second_operand, operator) {\n    this.type = EXPRESSION_TYPES.exp_arithmetic;\n    this.first_operand = first_operand;\n    this.second_operand = second_operand;\n    this.operator = operator;\n  }\n}\n\nexport class IfTrue {\n  constructor (expression, commands_block, commands_else) {\n    this.type = COMMAND_TYPES.iftrue;\n    this.expression = expression;\n    this.commands_block = commands_block;\n    this.commands_else = commands_else;\n  }\n}\n\nexport class RepeatNTimes {\n  constructor (\n    var_attribution,\n    var_incrementation,\n    expression1,\n    expression2,\n    expression3,\n    commands_block\n  ) {\n    this.type = COMMAND_TYPES.repeatNtimes;\n    this.var_attribution = var_attribution;\n    this.var_incrementation = var_incrementation;\n    this.expression1 = expression1;\n    this.expression2 = expression2;\n    this.expression3 = expression3;\n    this.commands_block = commands_block;\n  }\n}\n\nexport class WhileTrue {\n  constructor (expression, commands_block) {\n    this.type = COMMAND_TYPES.whiletrue;\n    this.expression = expression;\n    this.commands_block = commands_block;\n  }\n}\n\nexport class DoWhileTrue {\n  constructor (expression, commands_block) {\n    this.type = COMMAND_TYPES.dowhiletrue;\n    this.expression = expression;\n    this.commands_block = commands_block;\n  }\n}\n\nexport class Switch {\n  constructor (variable, cases = []) {\n    this.type = COMMAND_TYPES.switch;\n    this.variable = variable;\n    this.cases = cases;\n  }\n}\n\nexport class Return {\n  constructor (variable_value_menu) {\n    this.type = COMMAND_TYPES.return;\n    this.variable_value_menu = variable_value_menu;\n  }\n}\n\nexport class SwitchCase {\n  constructor (variable_value_menu, commands_block = []) {\n    this.type = COMMAND_TYPES.switchcase;\n    this.variable_value_menu = variable_value_menu;\n    this.commands_block = commands_block;\n  }\n}\n\nexport class FunctionCall {\n  constructor (function_called, parameters_list) {\n    this.type = COMMAND_TYPES.functioncall;\n    this.function_called = function_called;\n    this.parameters_list = parameters_list;\n  }\n}\n\nexport class VariableValueMenu {\n  constructor (\n    variable_and_value = 7,\n    content = null,\n    row = null,\n    column = null,\n    include_constant = true,\n    dimensions = 0\n  ) {\n    this.type = \"var_value\";\n    this.variable_and_value = variable_and_value;\n    this.content = content;\n    this.row = row;\n    this.column = column;\n    this.include_constant = include_constant;\n    this.dimensions = dimensions;\n  }\n}\n\nexport class FunctionCallMenu {\n  constructor (function_called = null, parameters_list = []) {\n    this.type = \"function_call\";\n    this.function_called = function_called;\n    this.parameters_list = parameters_list;\n  }\n}\n\nexport class Program {\n  constructor () {\n    this.functions = [];\n    this.globals = [];\n  }\n\n  addFunction (function_to_add) {\n    WatchJS.watch(\n      function_to_add.parameters_list,\n      function () {\n        if (window.insertContext) {\n          setTimeout(function () {\n            AlgorithmManagement.renderAlgorithm();\n          }, 300);\n          window.insertContext = false;\n        } else {\n          AlgorithmManagement.renderAlgorithm();\n        }\n      },\n      1\n    );\n\n    WatchJS.watch(\n      function_to_add.variables_list,\n      function () {\n        if (window.insertContext) {\n          setTimeout(function () {\n            AlgorithmManagement.renderAlgorithm();\n          }, 300);\n          window.insertContext = false;\n        } else {\n          AlgorithmManagement.renderAlgorithm();\n        }\n      },\n      1\n    );\n\n    this.functions.push(function_to_add);\n  }\n\n  addVariable (function_to_receive, variable) {\n    if (this.functions[function_to_receive].variable === null) {\n      this.functions[function_to_receive].variables_list = [];\n    }\n    this.functions[function_to_receive].variables_list.push(variable);\n  }\n\n  addGlobal (variable) {\n    this.globals.push(variable);\n  }\n}\n","import * as CodeMirror from \"codemirror\";\nimport \"codemirror/addon/edit/closebrackets\";\nimport \"codemirror/addon/edit/matchbrackets\";\n// import \"codemirror/addon/hint/show-hint\";\n// import \"codemirror/addon/hint/anyword-hint\";\nimport \"codemirror/addon/selection/active-line\";\nimport { CodeEditorMode } from \"./../util/editorMode2\"\nCodeEditorMode(CodeMirror);\n\nlet codeEditor = null;\n\nexport function initTextEditor (element) {\n  let id =  element;\n  if (element[0] == '#') {\n    id = element.substring(1);\n  }\n  codeEditor = CodeMirror.fromTextArea(document.getElementById(id), {\n    theme: \"ttcn\",\n    value: \"\",\n    mode: \"text/x-ivprog\",\n    indentUnit: 4,\n    lineNumbers: true,\n    matchBrackets: true,\n    autoCloseBrackets: true,\n    fixedGutter: true,\n    styleActiveLine: true,\n    readOnly: true\n  });\n}\n\nexport function disable (flag) {\n  codeEditor.setOption(\"readOnly\", flag);\n  updateEditor();\n}\n\nexport function updateEditor () {\n  codeEditor.refresh();\n}\n\nexport function setCode (code) {\n  codeEditor.setValue(code);\n}\n\nexport function getCode () {\n  return codeEditor.getValue();\n}\n","export const Types = Object.freeze({\n  INTEGER: \"integer\",\n  REAL: \"real\",\n  TEXT: \"text\",\n  CHAR: 'char',\n  BOOLEAN: \"boolean\",\n  VOID: \"void\"\n});","\nexport function renderErrorMessage (dom_obj_target, message_text) {\n\n\tdom_obj_target.popup({\n\t\thtml : '<i class=\"ui icon inverted exclamation triangle yellow\"></i>' + message_text,\n\t\ttransition : \"fade up\",\n\t\ton    : 'click',\n  \t\tclosable : true,\n  \t\tmovePopup : true,\n  \t\tboundary : window,\n  \t\tpreserve : false,\n  \t\ttarget : false,\n\t\tclassName   : {\n\t\t  popup       : 'ui popup invalid-identifier'\n\t\t},\n\t\tonHidden : function($module) {\n\t\t\tdom_obj_target.popup('destroy');\n\t\t}\n\n\t}).popup('toggle');\n\n}","import { Types } from './types';\nimport * as Models from './ivprog_elements';\nimport { LocalizedStrings } from './../services/localizedStringsService';\nimport * as Utils from './utils';\nimport { registerUserEvent, registerSystemEvent, ActionTypes } from \"./../services/userLog\";\nimport { isValidIdentifier } from \"./../util/utils\";\n\nvar counter_new_variables = 0;\t\n\nexport function addVariable (function_obj, function_container, is_in_click = false) {\n\n\t// Verify if the next variable name is in use:\n\tif (function_obj.variables_list) {\n\t\tvar in_use = false;\n\t\tdo {\n\t\t\tin_use = false;\n\t\t\t\n\t\t\tvar temp_name = LocalizedStrings.getUI('new_variable') + '_' + counter_new_variables;\n\n\t\t\tfunction_obj.variables_list.forEach(function(el) {\n\t\t\t\tif (temp_name == el.name) {\n\t\t\t\t\tin_use = true;\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (in_use)\n\t\t\t\tcounter_new_variables++;\n\n\t\t} while (in_use);\n\t}\n\n\tvar new_var = new Models.Variable(Types.INTEGER, LocalizedStrings.getUI('new_variable') + '_' + counter_new_variables, 0);\n\tif (function_obj.variables_list == null) {\n\t\tfunction_obj.variables_list = [];\n\t}\n\tfunction_obj.variables_list.push(new_var);\n\n\tcounter_new_variables ++;\n\n\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_FUNCTION_VAR, new_var.name, Types.INTEGER, 0);\n\tvar newe = renderVariable(function_container, new_var, function_obj);\n\n\tif (is_in_click) {\n\t\tnewe.css('display', 'none');\n\t\tnewe.fadeIn();\n\t}\n}\n\nfunction updateName (variable_obj, new_name, variable_obj_dom, function_obj) {\n\n\tif (variable_obj.name == new_name) {\n\t\treturn;\n\t}\n\n\tif (isValidIdentifier(new_name)) {\n\t\tif (variableNameAlreadyExists(new_name, function_obj)) {\n\t\t\tUtils.renderErrorMessage(variable_obj_dom.find('.editing_name_var'), LocalizedStrings.getError('inform_valid_variable_duplicated', [new_name, function_obj.name]));\n\t\t} else {\n\t\t\tregisterUserEvent(function_obj.name, ActionTypes.RENAME_FUNCTION_VAR, variable_obj.name, new_name);\n\t\t\tvariable_obj.name = new_name;\n\t\t}\n\t} else {\n\t\tUtils.renderErrorMessage(variable_obj_dom.find('.editing_name_var'), LocalizedStrings.getError('inform_valid_identifier'));\n\t}\n}\n\nfunction variableNameAlreadyExists (name_var, function_obj) {\n\n\tif (function_obj.parameters_list) {\n\t\tfor (var i = 0; i < function_obj.parameters_list.length; i++) {\n\t\t\tif (function_obj.parameters_list[i].name == name_var) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (function_obj.variables_list) {\n\t\tfor (var i = 0; i < function_obj.variables_list.length; i++) {\n\t\t\tif (function_obj.variables_list[i].name == name_var) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false;\n}\n\nfunction removeVariable (variable_obj, variable_container, function_name) {\n\tvar function_associated = variable_container.data('associatedFunction');\n\tregisterUserEvent(function_name, ActionTypes.REMOVE_FUNCTION_VAR, variable_obj.name);\n\n\tvar index = function_associated.variables_list.indexOf(variable_obj);\n\tif (index > -1) {\n\t  window.insertContext = true;\n\t  delete function_associated.variables_list[index];\n\t  function_associated.variables_list.splice(index, 1);\n\t}\n\tvariable_container.children().off();\n\tvariable_container.off();\n\tvariable_container.fadeOut();\n}\n\nfunction updateType (variable_obj, new_type, function_name, new_dimensions = 0) {\n\tvariable_obj.type = new_type;\t\t\n\tvariable_obj.dimensions = new_dimensions;\n\n\tif (new_dimensions > 0) {\n\t\tvariable_obj.rows = new_dimensions;\n\t\tvariable_obj.columns = 2;\n\t}\n\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, variable_obj.name,\n\t\tnew_type, new_dimensions, variable_obj.rows, variable_obj.columns);\n\n\tupdateInitialValues(variable_obj, function_name);\n}\n\nfunction addHandlers (variable_obj, variable_container, function_obj) {\n\n\t// Manage variable name: \n\tvariable_container.find( \".editing_name_var\" ).on('click', function(e){\n\t\tregisterUserEvent(function_obj.name, ActionTypes.ENTER_CHANGE_VAR_NAME, variable_obj.name);\n\t\tenableNameUpdate(variable_obj, variable_container, function_obj);\n\t});\n\n\t// Menu to change type:\n\tvariable_container.find('.ui.dropdown.variable_type').dropdown({\n\t    onChange: function(_, __, $selectedItem) {\n\t    \tif ($selectedItem.data('dimensions')) {\n\t    \t\tupdateType(variable_obj, Types[$selectedItem.data('type')], function_obj.name, $selectedItem.data('dimensions'));\n\t    \t} else {\n\t    \t\tupdateType(variable_obj, Types[$selectedItem.data('type')], function_obj.name);\n\t    \t}\n\n\t    \trenderValues(variable_obj, variable_container, function_obj.name);\n\t    },\n\t    selectOnKeydown: false\n\t});\n\n\t// Remove variable: \n\tvariable_container.find( \".remove_variable\" ).on('click', function(e){\n\t\tremoveVariable(variable_obj, variable_container, function_obj.name);\n\t});\n\n\tvariable_container.find( \".ellipsis\" ).popup({\n    content : LocalizedStrings.getUI(\"tooltip_move_var\"),\n    delay: {\n      show: 750,\n      hide: 0\n    }\n  });\n\n\tvariable_container.find( \".remove_variable\" ).popup({\n    content : LocalizedStrings.getUI(\"tooltip_remove_var\"),\n    delay: {\n      show: 750,\n      hide: 0\n    }\n  });\n\n}\n\nexport function renderVariable (function_container, new_var, function_obj) {\n\n\tvar element = '<div class=\"ui label variable_container pink\"><i class=\"ui icon ellipsis vertical inverted\"></i>';\n\n\telement += '<div class=\"ui dropdown variable_type\">';\n\n  \tif (new_var.dimensions == 1) {\n  \t\telement += '<div class=\"text\">'+ LocalizedStrings.getUI('vector') + ': ' + LocalizedStrings.getUI(`type_${new_var.type.toLowerCase()}`);\n  \t\telement += ' [ ] </div>';\n  \t} else if (new_var.dimensions == 2) {\n  \t\telement += '<div class=\"text\">'+ LocalizedStrings.getUI('matrix') + ': ' + LocalizedStrings.getUI(`type_${new_var.type.toLowerCase()}`);\n  \t\telement += ' [ ] [ ] </div>';\n  \t} else {\n  \t\telement += '<div class=\"text\">' + LocalizedStrings.getUI(`type_${new_var.type.toLowerCase()}`) + '</div>';\n  \t}\n\telement += '<div class=\"menu\">';\n\n\tfor (var tm in Types) {\n  \t\tif (tm == Types.VOID.toUpperCase()) {\n  \t\t\tcontinue;\n  \t\t}\n  \t\telement += '<div class=\"item ' + (new_var.type == tm.toLowerCase() &&  new_var.dimensions == 0 ? ' selected ' : '') + '\" data-type=\"'+tm+'\" >'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\n\t}\n\n\n\telement += '<div class=\"item ' + (new_var.dimensions == 1 ? ' selected ' : '') + '\">'\n\t\t+ '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('vector')\n\t\t+  '<div class=\"menu\">';\n\n\tfor (var tm in Types) {\n  \t\tif (tm == Types.VOID.toUpperCase()) {\n  \t\t\tcontinue;\n  \t\t}\n\n  \t\telement += '<div class=\"item ' + (new_var.type == tm.toLowerCase() &&  new_var.dimensions == 1 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('vector')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"1\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\n  \t}\n\telement += '</div></div>';\n\n\n\telement += '<div class=\"item ' + (new_var.dimensions == 2 ? ' selected ' : '') + '\">'\n\t\t+ '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('matrix')\n\t\t+  '<div class=\"menu\">';\n\n\tfor (var tm in Types) {\n  \t\tif (tm == Types.VOID.toUpperCase()) {\n  \t\t\tcontinue;\n  \t\t}\n\n  \t\telement += '<div class=\"item ' + (new_var.type == tm.toLowerCase() &&  new_var.dimensions == 2 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('matrix')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"2\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\n  \t}\n\telement += '</div></div>';\n\n    element += '</div></div> ';\n\n    element += '<div class=\"editing_name_var\"><span class=\"span_name_variable enable_edit_name_variable\">'+new_var.name+'</span> </div>';\n\n\telement += ' <span class=\"character_equals\"> <&#8212; </span> <div class=\"ui div_valor_var\">'+new_var.value+'</div>';    \n\n\telement += ' <i class=\"yellow inverted icon times remove_variable\"></i></div>';\n\n\telement = $(element);\n\n\telement.data('associatedFunction', function_obj);\n\n\tfunction_container.find('.variables_list_div').append(element);\n\n\taddHandlers(new_var, element, function_obj);\n\n\trenderValues(new_var, element, function_obj.name);\n\n\treturn element;\n}\n\nfunction updateColumnsAndRowsText (variable_container, variable_var) {\n\tvar prev = variable_container.find('.text').text().split('[');\n\tif (prev.length == 2) {\n\t\tvar ff = prev[0] + '[ ' + variable_var.columns + ' ] ';\n\t\tvariable_container.find('.text').empty();\n\t\tvariable_container.find('.text').text(ff);\n\t}\n\tif (prev.length == 3) {\n\t\tvar ff = prev[0] + '[ ' + variable_var.columns + ' ] [ ' + variable_var.rows + ' ] ';\n\t\tvariable_container.find('.text').empty();\n\t\tvariable_container.find('.text').text(ff);\n\t}\n}\n\nfunction renderValues (new_var, variable_container, function_name) {\n\n\tvar ret = \"\";\n\tvar j = 0;\n\t\t\n\tif (new_var.dimensions == 0) {\n\t\tif (new_var.type == Types.REAL) {\n\t\t\tret += '<div class=\"created_div_valor_var\"><span class=\"span_value_variable simple_var\">'+new_var.value.toFixed(1)+'</span> </div> ';\n\t\t} else {\n\t\t\tif (new_var.type == Types.BOOLEAN) {\n\t\t\t\tret += '<div class=\"created_div_valor_var\"><span class=\"span_value_variable boolean_simple_type\">'+LocalizedStrings.getUI(`logic_value_${new_var.value}`)+'</span> </div> ';\n\t\t\t} else {\n\t\t\t\tret += '<div class=\"created_div_valor_var\"><span class=\"span_value_variable simple_var\">'+new_var.value+'</span> </div> ';\n\t\t\t}\n\t\t}\n\t} else {\n\t\tret += '<table class=\"tabela_var\">';\n\n\t\tif (new_var.dimensions == 1) {\n\t\t\tret += '<tr>';\n\t\t\tif (new_var.type == Types.REAL) {\n\t\t\t\tfor (var k = 0; k < new_var.columns; k++) {\n\t\t\t\t\tret += '<td><span class=\"span_value_variable vector_var\" data-index=\"'+k+'\">'+new_var.value[k].toFixed(1)+'</span></td>';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var k = 0; k < new_var.columns; k++) {\n\t\t\t\t\tif (new_var.type == Types.BOOLEAN) {\n\t\t\t\t\t\tret += '<td><span class=\"span_value_variable boolean_vector_var\" data-index=\"'+k+'\">'+LocalizedStrings.getUI(`logic_value_${new_var.value[k]}`)+'</span></td>';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tret += '<td><span class=\"span_value_variable vector_var\" data-index=\"'+k+'\">'+new_var.value[k]+'</span>'+'</td>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tret += '</tr>';\n\t\t\tret += '</table>';\n\n\t\t\tret += '<div class=\"buttons_manage_columns\"><i class=\"ui icon minus square outline remove_global_vector_column\"></i>'\n\t\t    \t+ ' <i class=\"ui icon plus square outline add_global_vector_column\"></i></div>';\n\t\t}\n\n\t\tif (new_var.dimensions == 2) {\n\t\t\tif (new_var.type == Types.REAL) {\n\t\t\t\tfor (var l = 0; l < new_var.rows; l++) {\n    \t\t\t\tret += '<tr>';\n    \t\t\t\tfor (var k = 0; k < new_var.columns; k++) {\n    \t\t\t\t\tret += '<td><span class=\"span_value_variable matrix_var\" data-index=\"'+k+'\" data-row=\"'+l+'\">'+new_var.value[l][k].toFixed(1)+'</span>'+'</td>';\n    \t\t\t\t} \n    \t\t\t\tret += '</tr>';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var l = 0; l < new_var.rows; l++) {\n    \t\t\t\tret += '<tr>';\n    \t\t\t\tfor (var k = 0; k < new_var.columns; k++) {\n    \t\t\t\t\tif (new_var.type == Types.BOOLEAN) { \n    \t\t\t\t\t\tret += '<td><span class=\"span_value_variable boolean_matrix_var\" data-index=\"'+k+'\" data-row=\"'+l+'\">'+LocalizedStrings.getUI(`logic_value_${new_var.value[l][k]}`)+'</span></td>';\n    \t\t\t\t\t} else {\n    \t\t\t\t\t\tret += '<td><span class=\"span_value_variable matrix_var\" data-index=\"'+k+'\" data-row=\"'+l+'\">'+new_var.value[l][k]+'</span></td>';\n    \t\t\t\t\t}\n    \t\t\t\t} \n    \t\t\t\tret += '</tr>';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (new_var.rows == 0) {\n\t\t\t\tret += '<tr><td></td></tr>';\n\t\t\t}\n\t\t\tret += '<tr><td colspan=\"'+new_var.columns+'\" class=\"tr_manage_lines\"><i class=\"ui icon minus square outline remove_global_matrix_line\"></i>'\n\t\t    \t+ ' <i class=\"ui icon plus square outline add_global_matrix_line\"></i></td></tr>';\n\t\t\tret += '</table>';\n\n\t\t\tret += '<div class=\"buttons_manage_columns\"><i class=\"ui icon minus square outline remove_global_matrix_column\"></i>'\n\t\t    \t+ ' <i class=\"ui icon plus square outline add_global_matrix_column\"></i></div>';\n\t\t}\n\t\t\n\t}\n\n\t$( variable_container ).find( \".div_valor_var\" ).html('');\n\n\tret = $(ret);\n\n\t$(ret).find('.span_value_variable').\t\tdata('associatedOject', new_var);\n\n\t$( ret ).find( \".boolean_simple_type\" ).on('click', function(e){\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name, new_var.value);\n\t\talternateBooleanValue(new_var, this.parentNode);\n\t});\n\t$( ret ).find( \".simple_var\" ).on('click', function(e){\n\t\tregisterUserEvent(function_name, ActionTypes.ENTER_CHANGE_VAR_VALUE, new_var.name);\n\t\tenableValueUpdate(new_var, this.parentNode, function_name);\n\t});\n\n\t$( ret ).find( \".boolean_vector_var\" ).on('click', function(e){\n\t\talternateBooleanVectorValue(new_var, $(this).data('index'), this.parentNode);\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\n\t\t\tnew_var.value);\n\t});\n\t$( ret ).find( \".vector_var\" ).on('click', function(e){\n\t\tenableVectorValueUpdate(new_var, $(this).data('index'), this.parentNode, function_name);\n\t});\n\t$( ret ).find( \".remove_global_vector_column\" ).on('click', function(e){\n\t\tremoveColumnVector(new_var);\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, new_var.name,\n\t\t\tnew_var.type, new_var.dimensions, new_var.rows, new_var.columns);\n\t\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\n\t\t\tnew_var.value);\n\t\t$( variable_container ).find( \".div_valor_var\" ).html('');\n\t\trenderValues(new_var, variable_container, function_name);\n\t});\n\t$( ret ).find( \".add_global_vector_column\" ).on('click', function(e){\n\t\taddColumnVector(new_var);\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, new_var.name,\n\t\t\tnew_var.type, new_var.dimensions, new_var.rows, new_var.columns);\n\t\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\n\t\t\tnew_var.value);\n\t\t$( variable_container ).find( \".div_valor_var\" ).html('');\n\t\trenderValues(new_var, variable_container, function_name);\n\t});\n\t$( ret ).find( \".remove_global_matrix_column\" ).on('click', function(e){\n\t\tremoveColumnMatrix(new_var);\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, new_var.name,\n\t\t\tnew_var.type, new_var.dimensions, new_var.rows, new_var.columns);\n\t\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\n\t\t\tnew_var.value);\n\t\t$( variable_container ).find( \".div_valor_var\" ).html('');\n\t\trenderValues(new_var, variable_container, function_name);\n\t});\n\t$( ret ).find( \".add_global_matrix_column\" ).on('click', function(e){\n\t\taddColumnMatrix(new_var);\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, new_var.name,\n\t\t\tnew_var.type, new_var.dimensions, new_var.rows, new_var.columns);\n\t\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\n\t\t\tnew_var.value);\n\t\t$( variable_container ).find( \".div_valor_var\" ).html('');\n\t\trenderValues(new_var, variable_container, function_name);\n\t});\n\t$( ret ).find( \".remove_global_matrix_line\" ).on('click', function(e){\n\t\tremoveLineMatrix(new_var);\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, new_var.name,\n\t\t\tnew_var.type, new_var.dimensions, new_var.rows, new_var.columns);\n\t\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\n\t\t\tnew_var.value);\n\t\t$( variable_container ).find( \".div_valor_var\" ).html('');\n\t\trenderValues(new_var, variable_container, function_name);\n\t});\n\t$( ret ).find( \".add_global_matrix_line\" ).on('click', function(e){\n\t\taddLineMatrix(new_var);\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, new_var.name,\n\t\t\tnew_var.type, new_var.dimensions, new_var.rows, new_var.columns);\n\t\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\n\t\t\tnew_var.value);\n\t\t$( variable_container ).find( \".div_valor_var\" ).html('');\n\t\trenderValues(new_var, variable_container, function_name);\n\t});\n\t$( ret ).find( \".boolean_matrix_var\" ).on('click', function(e){\n\t\talternateBooleanMatrixValue(new_var, $(this).data('row'), $(this).data('index'), this.parentNode);\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\n\t\t\tnew_var.value);\n\t});\n\t$( ret ).find( \".matrix_var\" ).on('click', function(e){\n\t\tregisterUserEvent(function_name, ActionTypes.ENTER_CHANGE_VAR_VALUE, new_var.name);\n\t\tenableMatrixValueUpdate(new_var, $(this).data('row'), $(this).data('index'), this.parentNode, function_name);\n\t});\n\t$( variable_container ).find( \".div_valor_var\" ).append(ret);\n\n\tupdateColumnsAndRowsText(variable_container, new_var);\n\n}\n\nfunction alternateBooleanMatrixValue (var_obj, row, index, value_container) {\n\tvar_obj.value[row][index] = !var_obj.value[row][index];\n\t$(value_container).find('.span_value_variable').text(LocalizedStrings.getUI(`logic_value_${var_obj.value[row][index]}`));\n}\n\nfunction addLineMatrix (var_obj) {\n\tvar_obj.rows ++;\n\n\tif (var_obj.type == Types.INTEGER) {\n\t\tvar n_l = [];\n\t\tfor (var i = 0; i < var_obj.columns; i++) {\n\t\t\tn_l.push(0);\n\t\t}\n\t\tvar_obj.value.push(n_l);\n\t}\n\tif (var_obj.type == Types.REAL) {\n\t\tvar n_l = [];\n\t\tfor (i = 0; i < var_obj.columns; i++) {\n\t\t\tn_l.push(0.0);\n\t\t}\n\t\tvar_obj.value.push(n_l);\n\t}\n\n\tif (var_obj.type == Types.TEXT) {\n\t\tvar n_l = [];\n\t\tfor (i = 0; i < var_obj.columns; i++) {\n\t\t\tn_l.push(LocalizedStrings.getUI('textvar_default_value'));\n\t\t}\n\t\tvar_obj.value.push(n_l);\n\t}\n\n\tif (var_obj.type == Types.BOOLEAN) {\n\t\tvar n_l = [];\n\t\tfor (i = 0; i < var_obj.columns; i++) {\n\t\t\tn_l.push(true);\n\t\t}\n\t\tvar_obj.value.push(n_l);\n\t}\n\n\tif (var_obj.type == Types.CHAR) {\n\t\tvar n_l = [];\n\t\tfor (i = 0; i < var_obj.columns; i++) {\n\t\t\tn_l.push(LocalizedStrings.getUI('charvar_default_value'));\n\t\t}\n\t\tvar_obj.value.push(n_l);\n\t}\n}\n\nfunction removeLineMatrix (var_obj) {\n\tif (var_obj.rows == 0) {\n\t\treturn;\n\t}\n\n\tvar_obj.rows --;\n\tvar_obj.value.splice(var_obj.value.length - 1, 1);\n}\n\nfunction addColumnMatrix (var_obj) {\n\tvar_obj.columns ++;\n\n\tif (var_obj.type == Types.INTEGER) {\n\t\tfor (var i = 0; i < var_obj.rows; i++) {\n\t\t\tvar_obj.value[i].push(0);\n\t\t}\n\t}\n\tif (var_obj.type == Types.REAL) {\n\t\tfor (var i = 0; i < var_obj.rows; i++) {\n\t\t\tvar_obj.value[i].push(0.0);\n\t\t}\n\t}\n\tif (var_obj.type == Types.TEXT) {\n\t\tfor (var i = 0; i < var_obj.rows; i++) {\n\t\t\tvar_obj.value[i].push(LocalizedStrings.getUI('textvar_default_value'));\n\t\t}\n\t}\n\tif (var_obj.type == Types.BOOLEAN) {\n\t\tfor (var i = 0; i < var_obj.rows; i++) {\n\t\t\tvar_obj.value[i].push(true);\n\t\t}\n\t}\n\tif (var_obj.type == Types.CHAR) {\n\t\tfor (var i = 0; i < var_obj.rows; i++) {\n\t\t\tvar_obj.value[i].push(LocalizedStrings.getUI('charvar_default_value'));\n\t\t}\n\t}\n}\n\nfunction removeColumnMatrix (var_obj) {\n\tif (var_obj.columns == 0) {\n\t\treturn;\n\t}\n\n\tvar_obj.columns --;\n\n\tfor (var i = 0; i < var_obj.rows; i++) {\n\t\tvar_obj.value[i].splice(var_obj.value[i].length - 1, 1);\n\t}\n}\n\nfunction addColumnVector (var_obj) {\n\tvar_obj.columns ++;\n\n\tif (var_obj.type == Types.INTEGER) {\n\t\tvar_obj.value.push(0);\n\t}\n\tif (var_obj.type == Types.REAL) {\n\t\tvar_obj.value.push(0.0);\n\t}\n\tif (var_obj.type == Types.TEXT) {\n\t\tvar_obj.value.push(LocalizedStrings.getUI('textvar_default_value'));\n\t}\n\tif (var_obj.type == Types.BOOLEAN) {\n\t\tvar_obj.value.push(true);\n\t}\n\tif (var_obj.type == Types.CHAR) {\n\t\tvar_obj.value.push(LocalizedStrings.getUI('charvar_default_value'));\n\t}\n}\n\nfunction removeColumnVector (var_obj) {\n\tif (var_obj.columns == 0) {\n\t\treturn;\n\t}\n\n\tvar_obj.columns --;\n\tvar_obj.value.splice(var_obj.value.length - 1, 1);\n}\n\nfunction alternateBooleanValue (var_obj, value_container) {\n\tvar_obj.value = !var_obj.value;\n\t$(value_container).find('.span_value_variable').text(LocalizedStrings.getUI(`logic_value_${var_obj.value}`));\n}\n\nfunction alternateBooleanVectorValue (var_obj, index, value_container) {\n\tvar_obj.value[index] = !var_obj.value[index];\n\t$(value_container).find('.span_value_variable').text(LocalizedStrings.getUI(`logic_value_${var_obj.value[index]}`));\n}\n\nfunction updateInitialValues (variable_obj, function_name) {\n\tif (variable_obj.type == Types.INTEGER) {\n\t\tif (variable_obj.dimensions == 0) {\n\t\t\tvariable_obj.value = 0;\n\t\t}\n\t\tif (variable_obj.dimensions == 1) {\n\t\t\tvariable_obj.value = [0, 0];\n\t\t}\n\t\tif (variable_obj.dimensions == 2) {\n\t\t\tvariable_obj.value = [[0, 0], [0, 0]];\n\t\t}\n\t}\n\n\tif (variable_obj.type == Types.REAL) {\n\t\tif (variable_obj.dimensions == 0) {\n\t\t\tvariable_obj.value = 0.0;\n\t\t}\n\t\tif (variable_obj.dimensions == 1) {\n\t\t\tvariable_obj.value = [0.0, 0.0];\n\t\t}\n\t\tif (variable_obj.dimensions == 2) {\n\t\t\tvariable_obj.value = [[0.0, 0.0], [0.0, 0.0]];\n\t\t}\n\t}\n\n\tif (variable_obj.type == Types.TEXT) {\n\t\tif (variable_obj.dimensions == 0) {\n\t\t\tvariable_obj.value = LocalizedStrings.getUI('textvar_default_value');\n\t\t}\n\t\tif (variable_obj.dimensions == 1) {\n\t\t\tvariable_obj.value = [LocalizedStrings.getUI('textvar_default_value'), LocalizedStrings.getUI('textvar_default_value')];\n\t\t}\n\t\tif (variable_obj.dimensions == 2) {\n\t\t\tvariable_obj.value = [[LocalizedStrings.getUI('textvar_default_value'), LocalizedStrings.getUI('textvar_default_value')], \n\t\t\t\t\t\t\t\t\t[LocalizedStrings.getUI('textvar_default_value'), LocalizedStrings.getUI('textvar_default_value')]];\n\t\t}\n\t}\n\n\tif (variable_obj.type == Types.BOOLEAN) {\n\t\tif (variable_obj.dimensions == 0) {\n\t\t\tvariable_obj.value = true;\n\t\t}\n\t\tif (variable_obj.dimensions == 1) {\n\t\t\tvariable_obj.value = [true, true];\n\t\t}\n\t\tif (variable_obj.dimensions == 2) {\n\t\t\tvariable_obj.value = [[true, true], [true, true]];\n\t\t}\n\t}\n\n\tif (variable_obj.type == Types.CHAR) {\n\t\tif (variable_obj.dimensions == 0) {\n\t\t\tvariable_obj.value = 'A';\n\t\t}\n\t\tif (variable_obj.dimensions == 1) {\n\t\t\tvariable_obj.value = ['A', 'A'];\n\t\t}\n\t\tif (variable_obj.dimensions == 2) {\n\t\t\tvariable_obj.value = [['A', 'A'], ['A', 'A']];\n\t\t}\n\t}\n\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, variable_obj.name, variable_obj.value);\n}\n\nvar opened_name_value_vector_global_ = false;\nvar opened_input_value_vector_global_ = null;\nfunction enableVectorValueUpdate (var_obj, index, parent_node, function_name) {\n\tif (opened_name_value_vector_global_) {\n\t\topened_input_value_vector_global_.focus();\n\t\treturn;\n\t}\n\tparent_node = $(parent_node);\n\topened_name_value_vector_global_ = true;\n\n\tparent_node.find('.span_value_variable').text('');\n\n\tvar input_field;\n\n\tif (var_obj.type == Types.REAL) {\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\n\t\t\t+ var_obj.value[index].toFixed(1) + \"' />\" );\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\n\t} else {\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\n\t\t\t+ var_obj.value[index] + \"' />\" );\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\n\t}\n\n\tinput_field.on('input', function() {\n\t    var inputWidth = input_field.textWidth()+10;\n\t    opened_input_value_vector_global_ = input_field;\n\t    input_field.focus();\n\n\t    var tmpStr = input_field.val();\n\t\tinput_field.val('');\n\t\tinput_field.val(tmpStr);\n\n\t    input_field.css({\n\t        width: inputWidth\n\t    })\n\t}).trigger('input');\n\n\tinput_field.focusout(function() {\n\t\tlet changed = false;\n\t\t/// update array:\n\t\tif (input_field.val().trim()) {\n\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\tvar_obj.value[index] = parseFloat(input_field.val().trim());\n\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index].toFixed(1));\n\t\t\t} else {\n\n\t\t\t\tif (var_obj.type == Types.INTEGER) {\n\t\t\t\t\tvar_obj.value[index] = parseInt(input_field.val().trim());\n\t\t\t\t} else {\n\t\t\t\t\tvar_obj.value[index] = input_field.val().trim();\n\t\t\t\t}\n\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\n\n\t\t\t}\n\t\t\tchanged = true;\n\t\t} else {\n\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index].toFixed(1));\n\t\t\t} else {\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\n\t\t\t}\n\t\t}\n\t\tif (var_obj.type == Types.TEXT) {\n\t\t\tvar_obj.value[index] = input_field.val();\n\t\t\tchanged = true;\n\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\n\t\t}\n\t\tif (changed) {\n\t\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, var_obj.name,\n\t\t\t\tvar_obj.value);\n\t\t}\n\t\tinput_field.off();\n\t\tinput_field.remove();\n\n\t\t/// update elements:\n\t\topened_name_value_vector_global_ = false;\n\t\topened_input_value_vector_global_ = false;\n\t});\n\n\tinput_field.on('keydown', function(e) {\n\t\tconst code = e.keyCode || e.which;\n\t\tlet changed = false;\n\t\tif(code == 13) {\n\t\t\tif (input_field.val().trim()) {\n\t\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\t\tvar_obj.value[index] = parseFloat(input_field.val().trim());\n\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index].toFixed(1));\n\t\t\t\t} else {\n\n\t\t\t\t\tif (var_obj.type == Types.INTEGER) {\n\t\t\t\t\t\tvar_obj.value[index] = parseInt(input_field.val().trim());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar_obj.value[index] = input_field.val().trim();\n\t\t\t\t\t}\n\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\n\n\t\t\t\t}\n\t\t\t\tchanged = true;\n\t\t\t} else {\n\t\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index].toFixed(1));\n\t\t\t\t} else {\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (var_obj.type == Types.TEXT) {\n\t\t\t\tvar_obj.value[index] = input_field.val();\n\t\t\t\tchanged = true;\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\n\t\t\t}\n\t\t\tif (changed) {\n\t\t\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, var_obj.name,\n\t\t\t\t\tvar_obj.value);\n\t\t\t}\n\t\t\tinput_field.off();\n\t\t\tinput_field.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_value_vector_global_ = false;\n\t\t\topened_input_value_vector_global_ = false;\n\t\t}\n\t\tif(code == 27) {\n\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index].toFixed(1));\n\t\t\t} else {\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\n\t\t\t}\n\t\t\tinput_field.off();\n\t\t\tinput_field.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_value_vector_global_ = false;\n\t\t\topened_input_value_vector_global_ = false;\n\t\t}\n\t});\n\n\tinput_field.select();\n}\n\nvar opened_name_value_global_var = false;\nvar opened_input_value_global_ar = null;\nfunction enableValueUpdate (var_obj, parent_node, function_name) {\n\tif (opened_name_value_global_var) {\n\t\topened_input_value_global_ar.focus();\n\t\treturn;\n\t}\n\tparent_node = $(parent_node);\n\topened_name_value_global_var = true;\n\n\tvar input_field;\n\n\tparent_node.find('.span_value_variable').text('');\n\tif (var_obj.type == Types.REAL) {\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\n\t\t\t+ var_obj.value.toFixed(1) + \"' />\" );\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\n\t} else {\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\n\t\t\t+ var_obj.value + \"' />\" );\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\n\t}\n\n\tinput_field.on('input', function() {\n\t    var inputWidth = input_field.textWidth()+10;\n\t    opened_input_value_global_ar = input_field;\n\t    input_field.focus();\n\n\t    var tmpStr = input_field.val();\n\t\tinput_field.val('');\n\t\tinput_field.val(tmpStr);\n\n\t    input_field.css({\n\t        width: inputWidth\n\t    })\n\t}).trigger('input');\n\n\tinput_field.focusout(function() {\n\t\t/// update array:\n\t\tlet changed = false;\n\t\tif (input_field.val().trim()) {\n\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\tvar_obj.value = parseFloat(input_field.val().trim());\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value.toFixed(1));\n\t\t\t} else{\n\t\t\t\tif (var_obj.type == Types.INTEGER) {\n\t\t\t\t\tvar_obj.value = parseInt(input_field.val().trim());\n\t\t\t\t} else if (var_obj.type == Types.CHAR) {\n\t\t\t\t\tvar_obj.value = input_field.val().charAt(0);\n\t\t\t\t} else {\n\t\t\t\t\tvar_obj.value = input_field.val().trim();\n\t\t\t\t}\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\n\t\t\t\t\n\t\t\t}\n\t\t\tchanged = true;\n\t\t} else {\n\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value.toFixed(1));\n\t\t\t} else {\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\n\t\t\t}\n\t\t}\n\t\tif (var_obj.type == Types.TEXT) {\n\t\t\tvar_obj.value = input_field.val();\n\t\t\tchanged = true;\n\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\n\t\t}\n\t\tif (changed) {\n\t\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, var_obj.name,\n\t\t\t\tvar_obj.value);\n\t\t}\n\t\tinput_field.off();\n\t\tinput_field.remove();\n\n\t\t/// update elements:\n\t\topened_name_value_global_var = false;\n\t\topened_input_value_global_ar = false;\n\n\t});\n\n\tinput_field.on('keydown', function(e) {\n\t\tconst code = e.keyCode || e.which;\n\t\tlet changed = false;\n\t\tif(code == 13) {\n\t\t\tif (input_field.val().trim()) {\n\t\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\t\tvar_obj.value = parseFloat(input_field.val().trim());\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value.toFixed(1));\n\t\t\t\t} else{\n\t\t\t\t\tif (var_obj.type == Types.INTEGER) {\n\t\t\t\t\t\tvar_obj.value = parseInt(input_field.val().trim());\n\t\t\t\t\t} else if (var_obj.type == Types.CHAR) {\n\t\t\t\t\t\tvar_obj.value = input_field.val().charAt(0);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar_obj.value = input_field.val().trim();\n\t\t\t\t\t}\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\n\t\t\t\t}\n\t\t\t\tchanged = true;\n\t\t\t} else {\n\t\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value.toFixed(1));\n\t\t\t\t} else {\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (var_obj.type == Types.TEXT) {\n\t\t\t\tvar_obj.value = input_field.val();\n\t\t\t\tchanged = true;\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\n\t\t\t}\n\t\t\tif (changed) {\n\t\t\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, var_obj.name,\n\t\t\t\t\tvar_obj.value);\n\t\t\t}\n\t\t\tinput_field.off();\n\t\t\tinput_field.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_value_global_var = false;\n\t\t\topened_input_value_global_ar = false;\n\n\t\t}\n\t\tif(code == 27) {\n\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value.toFixed(1));\n\t\t\t} else{\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\n\t\t\t}\n\t\t\tinput_field.off();\n\t\t\tinput_field.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_value_global_var = false;\n\t\t\topened_input_value_global_ar = false;\n\t\t}\n\t});\n\n\tinput_field.select();\n}\n\nvar opened_name_global = false;\nvar opened_input_global = null;\nfunction enableNameUpdate (variable_obj, variable_container, function_obj) {\n\n\tif (opened_name_global) {\n\t\topened_input_global.focus();\n\t\treturn;\n\t}\n\topened_name_global = true;\n\n\tvariable_container.find('.span_name_variable').text('');\n\n\tvar input_name;\n\n\tinput_name = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"+variable_obj.name+\"' />\" );\n\tinput_name.insertBefore(variable_container.find('.span_name_variable'));\n\n\tinput_name.on('input', function() {\n\t    var inputWidth = input_name.textWidth()+10;\n\t    opened_input_global = input_name;\n\t    input_name.focus();\t\t\t\t\t\n\n\t    var tmpStr = input_name.val();\n\t\tinput_name.val('');\n\t\tinput_name.val(tmpStr);\n\n\t    input_name.css({\n\t        width: inputWidth\n\t    })\n\t}).trigger('input');\n\n\tinput_name.focusout(function() {\n\t\t/// update array:\n\t\tif (input_name.val().trim().length > 0) {\n\t\t\tupdateName(variable_obj, input_name.val().trim(), variable_container, function_obj);\n\t\t\tvariable_container.find('.span_name_variable').text(variable_obj.name);\n\t\t} else {\n\t\t\tvariable_container.find('.span_name_variable').text(variable_obj.name);\n\t\t}\n\t\tinput_name.off();\n\t\tinput_name.remove();\n\n\t\t/// update elements:\n\t\topened_name_global = false;\n\t\topened_input_global = false;\n\t});\n\n\tinput_name.on('keydown', function(e) {\n\t\tvar code = e.keyCode || e.which;\n\t\tif(code == 13) {\n\t\t\tif (input_name.val().trim().length > 0) {\n\t\t\t\tupdateName(variable_obj, input_name.val().trim(), variable_container, function_obj);\n\t\t\t\tvariable_container.find('.span_name_variable').text(variable_obj.name);\n\t\t\t} else {\n\t\t\t\tvariable_container.find('.span_name_variable').text(variable_obj.name);\n\t\t\t}\n\t\t\tinput_name.off();\n\t\t\tinput_name.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_global = false;\n\t\t\topened_input_global = false;\n\t\t}\n\t\tif(code == 27) {\n\n\t\t\tvariable_container.find('.span_name_variable').text(variable_obj.name);\n\t\t\tinput_name.off();\n\t\t\tinput_name.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_global = false;\n\t\t\topened_input_global = false;\n\t\t}\n\t});\n\n\tinput_name.select();\n\t\n}\n\n\nvar opened_name_value_matrix_global_v = false;\nvar opened_input_value_matrix_global_v = null;\nfunction enableMatrixValueUpdate (var_obj, row, index, parent_node, function_name) {\n\tif (opened_name_value_matrix_global_v) {\n\t\topened_input_value_matrix_global_v.focus();\n\t\treturn;\n\t}\n\tparent_node = $(parent_node);\n\topened_name_value_matrix_global_v = true;\n\n\tparent_node.find('.span_value_variable').text('');\n\n\tvar input_field;\n\n\tif (var_obj.type == Types.REAL) {\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\n\t\t\t+ var_obj.value[row][index].toFixed(1) + \"' />\" );\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\n\t} else {\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\n\t\t\t+ var_obj.value[row][index] + \"' />\" );\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\n\t}\n\n\tinput_field.on('input', function() {\n\t    var inputWidth = input_field.textWidth()+10;\n\t    opened_input_value_matrix_global_v = input_field;\n\t    input_field.focus();\n\n\t    var tmpStr = input_field.val();\n\t\tinput_field.val('');\n\t\tinput_field.val(tmpStr);\n\n\t    input_field.css({\n\t        width: inputWidth\n\t    })\n\t}).trigger('input');\n\n\tinput_field.focusout(function() {\n\t\tlet changed = false;\n\t\t/// update array:\n\t\tif (input_field.val().trim()) {\n\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\tvar_obj.value[row][index] = parseFloat(input_field.val().trim());\n\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index].toFixed(1));\n\t\t\t} else {\t\t\t\t\t\n\t\t\t\tif (var_obj.type == Types.INTEGER) {\n\t\t\t\t\tvar_obj.value[row][index] = parseInt(input_field.val().trim());\n\t\t\t\t} else {\n\t\t\t\t\tvar_obj.value[row][index] = input_field.val().trim();\n\t\t\t\t}\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\n\t\t\t}\n\t\t\tchanged = true;\n\t\t} else {\n\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index].toFixed(1));\n\t\t\t} else {\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\n\t\t\t}\n\t\t}\n\t\tif (var_obj.type == Types.TEXT) {\n\t\t\tvar_obj.value[row][index] = input_field.val();\n\t\t\tchanged = true;\n\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\n\t\t}\n\t\tif (changed) {\n\t\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, var_obj.name,\n\t\t\t\tvar_obj.value);\n\t\t}\n\t\tinput_field.off();\n\t\tinput_field.remove();\n\n\t\t/// update elements:\n\t\topened_name_value_matrix_global_v = false;\n\t\topened_input_value_matrix_global_v = false;\n\t});\n\n\tinput_field.on('keydown', function(e) {\n\t\tconst code = e.keyCode || e.which;\n\t\tlet changed = false;\n\t\tif(code == 13) {\n\t\t\tif (input_field.val().trim()) {\n\t\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\t\tvar_obj.value[row][index] = parseFloat(input_field.val().trim());\n\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index].toFixed(1));\n\t\t\t\t} else {\n\t\t\t\t\tif (var_obj.type == Types.INTEGER) {\n\t\t\t\t\t\tvar_obj.value[row][index] = parseInt(input_field.val().trim());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar_obj.value[row][index] = input_field.val().trim();\n\t\t\t\t\t}\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\n\t\t\t\t}\n\t\t\t\tchanged = true;\n\t\t\t} else {\n\t\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index].toFixed(1));\n\t\t\t\t} else {\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (var_obj.type == Types.TEXT) {\n\t\t\t\tvar_obj.value[row][index] = input_field.val();\n\t\t\t\tchanged = true;\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\n\t\t\t}\n\t\t\tif (changed) {\n\t\t\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, var_obj.name,\n\t\t\t\t\tvar_obj.value);\n\t\t\t}\n\t\t\tinput_field.off();\n\t\t\tinput_field.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_value_matrix_global_v = false;\n\t\t\topened_input_value_matrix_global_v = false;\n\t\t}\n\t\tif(code == 27) {\n\t\t\tif (var_obj.type == Types.REAL) {\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index].toFixed(1));\n\t\t\t} else {\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\n\t\t\t}\n\t\t\tinput_field.off();\n\t\t\tinput_field.remove();\n\n\t\t\t/// update elements:\n\t\t\topened_name_value_matrix_global_v = false;\n\t\t\topened_input_value_matrix_global_v = false;\n\t\t}\n\t});\n\n\tinput_field.select();\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.enLexer = void 0;\nconst lexer_1 = require(\"../lexer\");\n// i18n lexer strings for the language.\nconst types = {\n    // types\n    RK_REAL: \"real\",\n    RK_INTEGER: \"int\",\n    RK_BOOLEAN: \"bool\",\n    RK_CHARACTER: \"char\",\n    RK_STRING: \"string\",\n};\nconst commands = {\n    // RK_VOID is not formally part of Types since it doesn't have a valid value/instance\n    RK_VOID: \"void\",\n    // commands\n    RK_PROGRAM: \"program\",\n    RK_SWITCH: \"switch\",\n    RK_CASE: \"case\",\n    RK_DEFAULT: \"otherwise\",\n    RK_CONST: \"const\",\n    RK_FUNCTION: \"function\",\n    RK_RETURN: \"return\",\n    RK_FOR: \"for\",\n    RK_FOR_ALT: \"repeat_for\",\n    RK_FOR_FROM: \"from\",\n    RK_FOR_TO: \"to\",\n    RK_FOR_PASS: \"pass\",\n    RK_BREAK: \"break\",\n    RK_DO: \"repeat\",\n    RK_DO_UNTIL: \"until\",\n    RK_WHILE: \"while\",\n    RK_WHILE_ALT: \"repeat_while\",\n    RK_IF: \"if\",\n    RK_ELSE: \"else\",\n    RK_REFERENCE: \"&\",\n};\nconst boolVal = {\n    RK_FALSE: \"false\",\n    RK_TRUE: \"true\",\n};\nconst logicOp = {\n    RK_LOGICAL_NOT: \"not\",\n    RK_LOGICAL_AND: \"AND\",\n    RK_LOGICAL_OR: \"OR\",\n};\nconst langLibs = {\n    $mathLib: \"Mathematics\",\n    $ioLib: \"IO\",\n    $strLib: \"Text\",\n    $arrayLib: \"Array\",\n    $langLib: \"Conversion\",\n};\nconst langFuncs = {\n    main_function: \"main\",\n    $read: \"read\",\n    $write: \"write\",\n    $numElements: \"total_of_elements\",\n    $matrixLines: \"total_of_lines\",\n    $matrixColumns: \"total_of_columns\",\n    $substring: \"substring\",\n    $length: \"length\",\n    $uppercase: \"uppercase\",\n    $lowercase: \"lowercase\",\n    $charAt: \"char_at\",\n    $isReal: \"is_real\",\n    $isInt: \"is_integer\",\n    $isBool: \"is_logic\",\n    $castReal: \"to_real\",\n    $castInt: \"to_integer\",\n    $castBool: \"to_logic\",\n    $castString: \"to_string\",\n    $castChar: \"to_char\",\n    $sin: \"sin\",\n    $cos: \"cos\",\n    $tan: \"tan\",\n    $sqrt: \"sqrt\",\n    $pow: \"pow\",\n    $log: \"log\",\n    $abs: \"abs\",\n    $negate: \"negate\",\n    $invert: \"invert\",\n    $max: \"maximum\",\n    $min: \"minimum\",\n    $rand: \"random\",\n};\n// END i18n lexer strings\nexports.enLexer = lexer_1.makeLexer({\n    commands,\n    boolVal,\n    logicOp,\n    types,\n    langLibs,\n    langFuncs,\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.combineRegex = void 0;\nfunction combineRegex(strings, ...pieces) {\n    return new RegExp(strings.raw\n        .map((r, i) => r + (pieces[i] === undefined ? \"\" : \"(?:\" + pieces[i].source + \")\"))\n        .join(\"\"));\n}\nexports.combineRegex = combineRegex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ivprog_1 = require(\"./pt/ivprog\");\nconst ivprog_2 = require(\"./en/ivprog\");\n/*import * as ES from \"./es/ivprog.g4\";\nimport ESFuncs from \"./es/langFunctions\";\nimport ESLibs from \"./es/langLibs\";*/\nconst lexers = {};\nlexers[\"pt\"] = ivprog_1.ptLexer;\nlexers[\"en\"] = ivprog_2.enLexer;\nexports.default = lexers;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.makeLexer = exports.IVProgLexer = void 0;\nconst moo = require(\"moo\");\nconst helper_1 = require(\"./helper\");\nclass IVProgLexer {\n    constructor(RKs, lexer, rules, i18nLexer) {\n        this.RKs = RKs;\n        this.lexer = lexer;\n        this.rules = rules;\n        this.i18nLexer = i18nLexer;\n    }\n    getReservedKeys() {\n        return this.RKs;\n    }\n    getRules() {\n        return this.rules;\n    }\n    getTypeKeys() {\n        return this.i18nLexer.types;\n    }\n    getLangLibs() {\n        return this.i18nLexer.langLibs;\n    }\n    getLangFuncs() {\n        return this.i18nLexer.langFuncs;\n    }\n}\nexports.IVProgLexer = IVProgLexer;\n// General Regex Rules\nconst ID = \"[a-zA-Z_][a-zA-Z0-9_]*\";\nconst HEX_DIGIT = \"[0-9a-fA-F]\";\nconst OCTAL_DIGIT = \"[0-7]\";\nconst ESC_OCTAL = RegExp(`\\\\\\\\[0-3]${OCTAL_DIGIT}${OCTAL_DIGIT}|\\\\\\\\${OCTAL_DIGIT}${OCTAL_DIGIT}|\\\\\\\\${OCTAL_DIGIT}`);\nconst ESC_UNICODE = RegExp(`\\\\\\\\u${HEX_DIGIT}${HEX_DIGIT}${HEX_DIGIT}${HEX_DIGIT}`);\nconst ESC_SEQ_BASE = /\\\\[b,t,n,f,r,\",',\\\\]|/;\nconst ESC_SEQ = helper_1.combineRegex `${ESC_SEQ_BASE}|${ESC_UNICODE}|${ESC_OCTAL}`;\nconst STRING_CHARACTER = helper_1.combineRegex `${ESC_SEQ}|[^\"\\\\\\\\]`;\nfunction makeLexer(lexer) {\n    const RKs = {};\n    const rules = {};\n    Object.entries(lexer.types).forEach(([key, value]) => {\n        RKs[key] = value;\n        rules[key] = key;\n    });\n    Object.entries(lexer.boolVal).forEach(([key, value]) => {\n        RKs[key] = value;\n        rules[key] = key;\n    });\n    Object.entries(lexer.commands).forEach(([key, value]) => {\n        RKs[key] = value;\n        rules[key] = key;\n    });\n    RKs[\"RK_LOGICAL_AND\"] = lexer.logicOp.RK_LOGICAL_AND;\n    RKs[\"RK_LOGICAL_OR\"] = lexer.logicOp.RK_LOGICAL_OR;\n    RKs[\"RK_LOGICAL_NOT\"] = lexer.logicOp.RK_LOGICAL_NOT;\n    rules[\"RK_LOGICAL_AND\"] = \"RK_LOGICAL_AND\";\n    rules[\"RK_LOGICAL_OR\"] = \"RK_LOGICAL_OR\";\n    rules[\"RK_LOGICAL_NOT\"] = \"RK_LOGICAL_NOT\";\n    const RESERVED_KEYS = moo.keywords(RKs);\n    const lexerRules = {\n        COMMENTS: { match: /\\/\\/[^$]*?$|\\/\\*[^$]*?\\*\\//, lineBreaks: true },\n        OPEN_BRACE: /\\[/,\n        CLOSE_BRACE: /\\]/,\n        OPEN_PARENTHESIS: /\\(/,\n        CLOSE_PARENTHESIS: /\\)/,\n        OPEN_CURLY: /\\{/,\n        CLOSE_CURLY: /\\}/,\n        COMMA: /,/,\n        ASSIGNMENT: /<-|←/,\n        REAL: /[0-9]+\\.[0-9]*[eE][+-]?[0-9]+|[0-9]+\\.[0-9]+/,\n        INTEGER: RegExp(`(?:0x|0X)${HEX_DIGIT}+|(?:0b|0B)[0-1]+|[0-9]+`),\n        SUM_OP: /[+-]/,\n        MULTI_OP: /[*/%]/,\n        RELATIONAL_OPERATOR: />=|==|<=|>|<|!=/,\n        COLON: /:/,\n        STRING: helper_1.combineRegex `\"(?:${STRING_CHARACTER})*?\"`,\n        CHARACTER: helper_1.combineRegex `'(?:${ESC_SEQ}|[^'\\\\\\\\])'`,\n        EOS: { match: /;\\r?\\n?|[\\r\\n]+/, lineBreaks: true },\n        WHITESPACE: /(?: |\\t)+/,\n        RK_REFERENCE: RegExp(lexer.commands.RK_REFERENCE),\n        ID: { match: RegExp(ID), type: RESERVED_KEYS },\n        DOT: /\\./,\n        ERROR: { match: /[\\$?`]/, error: true },\n    };\n    Object.entries(lexerRules).forEach(([key, _]) => (rules[key] = key));\n    const moolexer = moo.compile(lexerRules);\n    return new IVProgLexer(RKs, moolexer, rules, lexer);\n}\nexports.makeLexer = makeLexer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ptLexer = void 0;\nconst lexer_1 = require(\"../lexer\");\n// i18n lexer strings for the language.\nconst types = {\n    // types\n    RK_REAL: \"real\",\n    RK_INTEGER: \"inteiro\",\n    RK_BOOLEAN: \"logico\",\n    RK_CHARACTER: \"caractere\",\n    RK_STRING: \"cadeia\",\n};\nconst commands = {\n    // RK_VOID is not formally part of Types since it doesn't have a valid value/instance\n    RK_VOID: \"vazio\",\n    // commands\n    RK_PROGRAM: \"programa\",\n    RK_SWITCH: \"escolha\",\n    RK_CASE: \"caso\",\n    RK_DEFAULT: \"contrario\",\n    RK_CONST: \"const\",\n    RK_FUNCTION: \"funcao\",\n    RK_RETURN: \"devolva\",\n    RK_FOR: \"para\",\n    RK_FOR_ALT: \"repita_para\",\n    RK_FOR_FROM: \"de\",\n    RK_FOR_TO: \"ate\",\n    RK_FOR_PASS: \"passo\",\n    RK_BREAK: \"pare\",\n    RK_DO: \"repita\",\n    RK_DO_UNTIL: \"ate_que\",\n    RK_WHILE: \"enquanto\",\n    RK_WHILE_ALT: \"repita_enquanto\",\n    RK_IF: \"se\",\n    RK_ELSE: \"senao\",\n    RK_REFERENCE: \"&\",\n};\nconst boolVal = {\n    RK_FALSE: \"falso\",\n    RK_TRUE: \"verdadeiro\",\n};\nconst logicOp = {\n    RK_LOGICAL_NOT: \"nao\",\n    RK_LOGICAL_AND: \"E\",\n    RK_LOGICAL_OR: \"OU\",\n};\nconst langLibs = {\n    $mathLib: \"Matematica\",\n    $ioLib: \"ES\",\n    $strLib: \"Texto\",\n    $arrayLib: \"Arranjo\",\n    $langLib: \"Conversao\",\n};\nconst langFuncs = {\n    main_function: \"inicio\",\n    $read: \"leia\",\n    $write: \"escreva\",\n    $numElements: \"total_de_elementos\",\n    $matrixLines: \"total_de_linhas\",\n    $matrixColumns: \"total_de_colunas\",\n    $substring: \"subcadeia\",\n    $length: \"comprimento\",\n    $uppercase: \"caixa_alta\",\n    $lowercase: \"caixa_baixa\",\n    $charAt: \"caractere_na_posicao\",\n    $isReal: \"e_real\",\n    $isInt: \"e_inteiro\",\n    $isBool: \"e_logico\",\n    $castReal: \"como_real\",\n    $castInt: \"como_inteiro\",\n    $castBool: \"como_logico\",\n    $castString: \"como_cadeia\",\n    $castChar: \"como_caractere\",\n    $sin: \"seno\",\n    $cos: \"cosseno\",\n    $tan: \"tangente\",\n    $sqrt: \"raiz_quadrada\",\n    $pow: \"potencia\",\n    $log: \"logaritmo\",\n    $abs: \"modulo\",\n    $negate: \"trocar_sinal\",\n    $invert: \"inverter_valor\",\n    $max: \"maximo\",\n    $min: \"minimo\",\n    $rand: \"numero_aleatorio\",\n};\n// END i18n lexer strings\nexports.ptLexer = lexer_1.makeLexer({\n    commands,\n    boolVal,\n    logicOp,\n    types,\n    langLibs,\n    langFuncs,\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Messages = require(\"./message.csv\");\nconst UI = require(\"./ui.csv\");\nconst Errors = require(\"./error.csv\");\nconst MessagesObj = Messages;\nconst UIObj = UI;\nconst ErrorsObj = Errors;\nconst i18n_data = {};\nfor (const key in UIObj) {\n    const data = {};\n    data['error'] = ErrorsObj[key];\n    data['message'] = MessagesObj[key];\n    data['ui'] = UIObj[key];\n    i18n_data[key] = data;\n}\nexports.default = i18n_data;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertFromString = exports.Operators = void 0;\nexports.Operators = Object.freeze({\n    ADD: { ord: 0, value: \"+\" },\n    SUB: { ord: 1, value: \"-\" },\n    MULT: { ord: 2, value: '*' },\n    DIV: { ord: 3, value: '/' },\n    MOD: { ord: 4, value: '%' },\n    GT: { ord: 5, value: '>' },\n    GE: { ord: 6, value: '>=' },\n    LT: { ord: 7, value: '<' },\n    LE: { ord: 8, value: '<=' },\n    EQ: { ord: 9, value: '==' },\n    NEQ: { ord: 10, value: '!=' },\n    AND: { ord: 11, value: 'and' },\n    OR: { ord: 12, value: 'or' },\n    NOT: { ord: 13, value: 'not' }\n});\nfunction convertFromString(op) {\n    switch (op) {\n        case '+': return exports.Operators.ADD;\n        case '-': return exports.Operators.SUB;\n        case '*': return exports.Operators.MULT;\n        case '/': return exports.Operators.DIV;\n        case '%': return exports.Operators.MOD;\n        case '>': return exports.Operators.GT;\n        case '>=': return exports.Operators.GE;\n        case '<': return exports.Operators.LT;\n        case '<=': return exports.Operators.LE;\n        case '==': return exports.Operators.EQ;\n        case '!=': return exports.Operators.NEQ;\n        case 'and': return exports.Operators.AND;\n        case 'or': return exports.Operators.OR;\n        case 'not': return exports.Operators.NOT;\n    }\n    return null;\n}\nexports.convertFromString = convertFromString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Address = void 0;\nclass Address {\n    /**\n     *\n     * @param {Number} id the address id\n     * @param {never} value the value stored at this address\n     */\n    constructor(id, value) {\n        this.id = id;\n        this.value = value;\n    }\n}\nexports.Address = Address;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Location = void 0;\nconst address_1 = require(\"./address\");\nclass LocationHolder {\n    constructor() {\n        this.data = [];\n        this.address_id = 0;\n    }\n    /**\n     *\n     * @param {never} value the value to be allocated\n     * @returns {number} - the address id\n     */\n    allocate(value) {\n        const id = this.address_id;\n        // console.log(\"Allocation address \"+ id);\n        const address = new address_1.Address(id, value);\n        this.data.push(address);\n        this.address_id += 1;\n        return id;\n    }\n    /**\n     *\n     * @param {number} id\n     */\n    deallocate(id) {\n        const index = this.findIndex(id);\n        // console.log(\"Deallocation address \"+ id);\n        if (index !== -1) {\n            this.data.splice(index, 1);\n            return true;\n        }\n        return false;\n    }\n    /**\n     *\n     * @param {number} id\n     * @returns {Address} the address identified by id\n     */\n    find(id) {\n        let beg = 0;\n        let end = this.data.length;\n        // console.log(\"Finding address \"+id);\n        while (beg < end) {\n            const med = Math.floor((beg + end) / 2);\n            const address = this.getAddressAt(med);\n            if (address.id === id) {\n                return address;\n            }\n            else if (id > address.id) {\n                beg = med;\n            }\n            else {\n                end = med;\n            }\n        }\n        return undefined;\n    }\n    getAddressAt(pos) {\n        return this.data[pos];\n    }\n    /**\n     *\n     * @param {number} id address id\n     * @returns {number} the index of the address identified by id\n     */\n    findIndex(id) {\n        let beg = 0;\n        let end = this.data.length;\n        while (beg < end) {\n            const med = Math.floor((beg + end) / 2);\n            const address = this.getAddressAt(med);\n            if (address.id === id) {\n                return med;\n            }\n            else if (id > address.id) {\n                beg = med;\n            }\n            else {\n                end = med;\n            }\n        }\n        return -1;\n    }\n    updateAddress(id, value) {\n        const index = this.findIndex(id);\n        if (index === -1) {\n            throw new Error(\"Invalid address...\" + id);\n        }\n        this.data[index].value = value;\n    }\n    clear() {\n        for (let i = 0; i < this.data.length; i += 1) {\n            delete this.data[i];\n        }\n        this.data = [];\n        this.address_id = 0;\n    }\n}\nconst inner_ref = new LocationHolder();\nexports.Location = Object.freeze({\n    allocate: inner_ref.allocate.bind(inner_ref),\n    deallocate: inner_ref.deallocate.bind(inner_ref),\n    find: inner_ref.find.bind(inner_ref),\n    updateAddress: inner_ref.updateAddress.bind(inner_ref),\n    clear: inner_ref.clear.bind(inner_ref),\n    size: () => inner_ref.data.length\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resultTypeAfterUnaryOp = exports.resultTypeAfterInfixOp = void 0;\nconst types_1 = require(\"../typeSystem/types\");\nconst operators_1 = require(\"../ast/operators\");\nconst multiType_1 = require(\"../typeSystem/multiType\");\nconst config_1 = require(\"../util/config\");\nfunction buildInfixAddTable() {\n    const table = [[], [], [], [], []];\n    table[types_1.Types.INTEGER.ord][types_1.Types.INTEGER.ord] = types_1.Types.INTEGER;\n    table[types_1.Types.INTEGER.ord][types_1.Types.REAL.ord] = types_1.Types.REAL;\n    table[types_1.Types.INTEGER.ord][types_1.Types.STRING.ord] = types_1.Types.STRING;\n    table[types_1.Types.REAL.ord][types_1.Types.INTEGER.ord] = types_1.Types.REAL;\n    table[types_1.Types.REAL.ord][types_1.Types.REAL.ord] = types_1.Types.REAL;\n    table[types_1.Types.REAL.ord][types_1.Types.STRING.ord] = types_1.Types.STRING;\n    table[types_1.Types.STRING.ord][types_1.Types.INTEGER.ord] = types_1.Types.STRING;\n    table[types_1.Types.STRING.ord][types_1.Types.REAL.ord] = types_1.Types.STRING;\n    table[types_1.Types.STRING.ord][types_1.Types.STRING.ord] = types_1.Types.STRING;\n    table[types_1.Types.STRING.ord][types_1.Types.BOOLEAN.ord] = types_1.Types.STRING;\n    table[types_1.Types.STRING.ord][types_1.Types.CHAR.ord] = types_1.Types.STRING;\n    table[types_1.Types.CHAR.ord][types_1.Types.CHAR.ord] = types_1.Types.STRING;\n    table[types_1.Types.CHAR.ord][types_1.Types.STRING.ord] = types_1.Types.STRING;\n    return table;\n}\nfunction buildInfixMultiDivSubTable() {\n    const table = [[], []];\n    table[types_1.Types.INTEGER.ord][types_1.Types.INTEGER.ord] = types_1.Types.INTEGER;\n    table[types_1.Types.INTEGER.ord][types_1.Types.REAL.ord] = types_1.Types.REAL;\n    table[types_1.Types.REAL.ord][types_1.Types.INTEGER.ord] = types_1.Types.REAL;\n    table[types_1.Types.REAL.ord][types_1.Types.REAL.ord] = types_1.Types.REAL;\n    return table;\n}\nfunction buildInfixEqualityInequalityTable() {\n    const table = [[], [], [], [], []];\n    table[types_1.Types.INTEGER.ord][types_1.Types.INTEGER.ord] = types_1.Types.BOOLEAN;\n    table[types_1.Types.REAL.ord][types_1.Types.REAL.ord] = types_1.Types.BOOLEAN;\n    table[types_1.Types.BOOLEAN.ord][types_1.Types.BOOLEAN.ord] = types_1.Types.BOOLEAN;\n    table[types_1.Types.STRING.ord][types_1.Types.STRING.ord] = types_1.Types.BOOLEAN;\n    table[types_1.Types.CHAR.ord][types_1.Types.CHAR.ord] = types_1.Types.BOOLEAN;\n    return table;\n}\nfunction buildInfixRelationalTable() {\n    const table = [[], [], [], [], []];\n    table[types_1.Types.INTEGER.ord][types_1.Types.INTEGER.ord] = types_1.Types.BOOLEAN;\n    table[types_1.Types.REAL.ord][types_1.Types.REAL.ord] = types_1.Types.BOOLEAN;\n    table[types_1.Types.STRING.ord][types_1.Types.STRING.ord] = types_1.Types.BOOLEAN;\n    table[types_1.Types.CHAR.ord][types_1.Types.CHAR.ord] = types_1.Types.BOOLEAN;\n    return table;\n}\nfunction buildInfixAndOrTable() {\n    const table = [[], [], [], []];\n    table[types_1.Types.BOOLEAN.ord][types_1.Types.BOOLEAN.ord] = types_1.Types.BOOLEAN;\n    return table;\n}\nfunction buildInfixModTable() {\n    const table = [[]];\n    table[types_1.Types.INTEGER.ord][types_1.Types.INTEGER.ord] = types_1.Types.INTEGER;\n    return table;\n}\nfunction buildUnarySumSubList() {\n    const list = [];\n    list[types_1.Types.INTEGER.ord] = types_1.Types.INTEGER;\n    list[types_1.Types.REAL.ord] = types_1.Types.REAL;\n    return list;\n}\nfunction buildUnaryNegList() {\n    const list = [];\n    list[types_1.Types.BOOLEAN.ord] = types_1.Types.BOOLEAN;\n    return list;\n}\nfunction buildInfixCompatibilityTable() {\n    const compatibilityMap = new WeakMap();\n    compatibilityMap.set(operators_1.Operators.ADD, buildInfixAddTable());\n    compatibilityMap.set(operators_1.Operators.SUB, buildInfixMultiDivSubTable());\n    compatibilityMap.set(operators_1.Operators.MULT, buildInfixMultiDivSubTable());\n    compatibilityMap.set(operators_1.Operators.DIV, buildInfixMultiDivSubTable());\n    compatibilityMap.set(operators_1.Operators.EQ, buildInfixEqualityInequalityTable());\n    compatibilityMap.set(operators_1.Operators.NEQ, buildInfixEqualityInequalityTable());\n    compatibilityMap.set(operators_1.Operators.GE, buildInfixRelationalTable());\n    compatibilityMap.set(operators_1.Operators.GT, buildInfixRelationalTable());\n    compatibilityMap.set(operators_1.Operators.LE, buildInfixRelationalTable());\n    compatibilityMap.set(operators_1.Operators.LT, buildInfixRelationalTable());\n    compatibilityMap.set(operators_1.Operators.OR, buildInfixAndOrTable());\n    compatibilityMap.set(operators_1.Operators.AND, buildInfixAndOrTable());\n    compatibilityMap.set(operators_1.Operators.MOD, buildInfixModTable());\n    return compatibilityMap;\n}\nfunction buildUnaryCompatibilityTable() {\n    const compatibilityMap = new WeakMap();\n    compatibilityMap.set(operators_1.Operators.ADD, buildUnarySumSubList());\n    compatibilityMap.set(operators_1.Operators.SUB, buildUnarySumSubList());\n    compatibilityMap.set(operators_1.Operators.NOT, buildUnaryNegList());\n    return compatibilityMap;\n}\nconst infixMap = buildInfixCompatibilityTable();\nconst unaryMap = buildUnaryCompatibilityTable();\nfunction resultTypeAfterInfixOp(operator, leftExpressionType, rightExpressionType) {\n    try {\n        if (leftExpressionType instanceof multiType_1.MultiType && rightExpressionType instanceof multiType_1.MultiType) {\n            let newMulti = [];\n            for (let i = 0; i < leftExpressionType.types.length; ++i) {\n                const typeA = leftExpressionType.types[i];\n                for (let j = 0; j < rightExpressionType.types.length; ++i) {\n                    const typeB = rightExpressionType.types[j];\n                    newMulti.push(resultTypeAfterInfixOp(operator, typeA, typeB));\n                }\n            }\n            newMulti = newMulti.filter(x => !x.isCompatible(types_1.Types.UNDEFINED));\n            if (newMulti.length <= 0) {\n                if (config_1.Config.enable_type_casting) {\n                    if (leftExpressionType.isCompatible(types_1.Types.INTEGER) || leftExpressionType.isCompatible(types_1.Types.REAL)) {\n                        if (rightExpressionType.isCompatible(types_1.Types.INTEGER) || rightExpressionType.isCompatible(types_1.Types.REAL)) {\n                            return new multiType_1.MultiType([types_1.Types.INTEGER, types_1.Types.REAL]);\n                        }\n                    }\n                }\n                return types_1.Types.UNDEFINED;\n            }\n            else {\n                return new multiType_1.MultiType(newMulti);\n            }\n        }\n        else if (leftExpressionType instanceof multiType_1.MultiType) {\n            if (leftExpressionType.isCompatible(rightExpressionType)) {\n                return resultTypeAfterInfixOp(operator, rightExpressionType, rightExpressionType);\n            }\n            else {\n                if (config_1.Config.enable_type_casting) {\n                    if (leftExpressionType.isCompatible(types_1.Types.INTEGER) || leftExpressionType.isCompatible(types_1.Types.REAL)) {\n                        if (rightExpressionType.isCompatible(types_1.Types.INTEGER) || rightExpressionType.isCompatible(types_1.Types.REAL)) {\n                            return rightExpressionType;\n                        }\n                    }\n                }\n                return types_1.Types.UNDEFINED;\n            }\n        }\n        else if (rightExpressionType instanceof multiType_1.MultiType) {\n            if (rightExpressionType.isCompatible(leftExpressionType)) {\n                return resultTypeAfterInfixOp(operator, leftExpressionType, leftExpressionType);\n            }\n            else {\n                if (config_1.Config.enable_type_casting) {\n                    if (leftExpressionType.isCompatible(types_1.Types.INTEGER) || leftExpressionType.isCompatible(types_1.Types.REAL)) {\n                        if (rightExpressionType.isCompatible(types_1.Types.INTEGER) || rightExpressionType.isCompatible(types_1.Types.REAL)) {\n                            return leftExpressionType;\n                        }\n                    }\n                }\n                return types_1.Types.UNDEFINED;\n            }\n        }\n        const resultTable = infixMap.get(operator) || [];\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const resultType = resultTable[leftExpressionType.ord][rightExpressionType.ord];\n        if (resultType === null || resultType === undefined) {\n            if (config_1.Config.enable_type_casting) {\n                if (leftExpressionType.isCompatible(types_1.Types.INTEGER) || leftExpressionType.isCompatible(types_1.Types.REAL)) {\n                    if (rightExpressionType.isCompatible(types_1.Types.INTEGER) || rightExpressionType.isCompatible(types_1.Types.REAL)) {\n                        if (operator === operators_1.Operators.MOD) {\n                            return types_1.Types.INTEGER;\n                        }\n                        else if (operator.ord >= 5 && operator.ord <= 10) {\n                            return types_1.Types.BOOLEAN;\n                        }\n                    }\n                }\n            }\n            return types_1.Types.UNDEFINED;\n        }\n        return resultType;\n    }\n    catch (e) {\n        if (e instanceof TypeError) {\n            return types_1.Types.UNDEFINED;\n        }\n        else {\n            throw e;\n        }\n    }\n}\nexports.resultTypeAfterInfixOp = resultTypeAfterInfixOp;\nfunction resultTypeAfterUnaryOp(operator, leftExpressionType) {\n    try {\n        if (leftExpressionType instanceof multiType_1.MultiType) {\n            let newMulti = [];\n            for (let i = 0; i < leftExpressionType.types.length; ++i) {\n                const type = leftExpressionType.types[i];\n                newMulti.push(resultTypeAfterUnaryOp(operator, type));\n            }\n            newMulti = newMulti.filter(x => !x.isCompatible(types_1.Types.UNDEFINED));\n            if (newMulti.length <= 0) {\n                return types_1.Types.UNDEFINED;\n            }\n            return new multiType_1.MultiType(newMulti);\n        }\n        const resultTable = unaryMap.get(operator) || [];\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const resultType = resultTable[leftExpressionType.ord];\n        if (resultType == null) {\n            return types_1.Types.UNDEFINED;\n        }\n        return resultType;\n    }\n    catch (e) {\n        if (e instanceof TypeError) {\n            return types_1.Types.UNDEFINED;\n        }\n        else {\n            throw e;\n        }\n    }\n}\nexports.resultTypeAfterUnaryOp = resultTypeAfterUnaryOp;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Context = void 0;\nexports.Context = Object.freeze({\n    BASE: Symbol('context:base'),\n    BREAKABLE: Symbol('context:breakable'),\n    FUNCTION: Symbol('context:function')\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Modes = void 0;\nexports.Modes = Object.freeze({\n    RETURN: Symbol('mode:return'),\n    BREAK: Symbol('mode:break'),\n    PAUSE: Symbol('mode:pause'),\n    RUN: Symbol('mode:run'),\n    ABORT: Symbol('mode:abort')\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Store = void 0;\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nconst modes_1 = require(\"../modes\");\nconst types_1 = require(\"../../typeSystem/types\");\nconst storeObject_1 = require(\"./storeObject\");\nconst storeObjectRef_1 = require(\"./storeObjectRef\");\nconst array_type_1 = require(\"../../typeSystem/array_type\");\nconst array_store_value_1 = require(\"./value/array_store_value\");\nconst location_1 = require(\"../../memory/location\");\nconst storeObjectArray_1 = require(\"./storeObjectArray\");\nconst store_value_1 = require(\"./value/store_value\");\nconst store_value_address_1 = require(\"./value/store_value_address\");\nconst store_value_ref_1 = require(\"./value/store_value_ref\");\nconst array_store_value_ref_1 = require(\"./value/array_store_value_ref\");\nconst store_object_array_ref_1 = require(\"./store_object_array_ref\");\nclass Store {\n    constructor(name) {\n        this.name = name;\n        this.store = new Map();\n        this.mode = modes_1.Modes.RUN;\n    }\n    static canImplicitTypeCast(castType, sourceType) {\n        if (castType.isCompatible(types_1.Types.INTEGER) || castType.isCompatible(types_1.Types.REAL)) {\n            if (sourceType.isCompatible(types_1.Types.INTEGER) || sourceType.isCompatible(types_1.Types.REAL)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    static doImplicitCasting(castType, stoObj) {\n        if (!Store.canImplicitTypeCast(castType, stoObj.type)) {\n            throw new Error(\"!!!Critical error: attempted to type cast invalid types\");\n        }\n        if (castType.isCompatible(types_1.Types.INTEGER)) {\n            return new store_value_1.StoreValue(types_1.Types.INTEGER, stoObj.get().trunc());\n        }\n        else {\n            return new store_value_1.StoreValue(types_1.Types.REAL, stoObj.get());\n        }\n    }\n    extendStore(nextStore) {\n        this.nextStore = nextStore;\n    }\n    applyStore(id) {\n        if (!this.store.has(id)) {\n            if (this.nextStore != null) {\n                return this.nextStore.applyStore(id);\n            }\n            else {\n                throw new Error(`Variable ${id} not found.`);\n            }\n        }\n        const val = this.store.get(id);\n        let result = null;\n        if (val.type instanceof array_type_1.ArrayType) {\n            const array = val;\n            const array_type = array.type;\n            let l = 0, c = 0;\n            const values = array.value.map(v => {\n                if (array.isVector) {\n                    return new store_value_address_1.StoreValueAddress(array_type.innerType, v, l++, undefined, array.id, array.readOnly);\n                }\n                else {\n                    if (c >= array.columns) {\n                        c = 0;\n                        l += 1;\n                    }\n                    return new store_value_address_1.StoreValueAddress(array_type.innerType, v, l, c++, array.id, array.readOnly);\n                }\n            });\n            result = new array_store_value_1.ArrayStoreValue(array_type, values, array.lines, array.columns, val.id, val.readOnly);\n        }\n        else {\n            result = new store_value_1.StoreValue(val.type, val.value, val.id, val.readOnly);\n        }\n        return result;\n    }\n    updateStore(id, stoValue) {\n        if (!this.store.has(id)) {\n            if (this.nextStore != null) {\n                this.nextStore.updateStore(id, stoValue);\n                return this;\n            }\n            else {\n                // TODO: better error message\n                throw new Error(`Variable ${id} not found.`);\n            }\n        }\n        else {\n            const oldObj = this.store.get(id);\n            if (oldObj.readOnly) {\n                // TODO: better error message\n                throw new Error(\"Cannot change value of a read only variable: \" + id);\n            }\n            if (oldObj instanceof storeObjectArray_1.StoreObjectArray) {\n                const array_value = stoValue;\n                if (oldObj.isCompatible(array_value)) {\n                    if (oldObj.isVector) {\n                        array_value.get().forEach((val, index) => {\n                            oldObj.setAt(val, index, undefined);\n                        });\n                    }\n                    else {\n                        let line = 0;\n                        let column = 0;\n                        array_value.get().forEach((val) => {\n                            oldObj.setAt(val, line, column);\n                            column += 1;\n                            if (column >= oldObj.columns) {\n                                line += 1;\n                                column = 0;\n                            }\n                        });\n                    }\n                    return this;\n                }\n            }\n            else if (oldObj.isCompatible(stoValue)) {\n                const loc_address = oldObj.locAddress;\n                location_1.Location.updateAddress(loc_address, stoValue.get());\n                return this;\n            }\n            const oldType = oldObj.type;\n            const stoType = stoValue.type;\n            // TODO: better error message\n            throw new Error(`${oldType.value} is not compatible with type ${stoType.value} given`);\n        }\n    }\n    /**\n     * Method used to update regions of an array (vector or matrix). The should only be used when update an specific\n     * possition since it will only update the required addresses.\n     * @param {string} id the variable id to be updated\n     * @param {IStoreValue} sto_value the value to be used in the update process\n     * @param {number} line the line address of the vector/matrix\n     * @param {number} column the matrix column, which can be undefined\n     */\n    updateStoreArray(id, sto_value, line, column) {\n        if (!this.store.has(id)) {\n            if (this.nextStore != null) {\n                this.nextStore.updateStoreArray(id, sto_value, line, column);\n                return this;\n            }\n            else {\n                // TODO: better error message\n                throw new Error(`Variable ${id} not found.`);\n            }\n        }\n        else {\n            const oldObj = this.store.get(id);\n            if (oldObj.readOnly) {\n                // TODO: better error message\n                throw new Error(\"Cannot change value of a read only variable: \" + id);\n            }\n            if (oldObj instanceof storeObjectArray_1.StoreObjectArray) {\n                if (sto_value instanceof array_store_value_1.ArrayStoreValue) {\n                    // this must be a vector  or matrix line update\n                    const actual_values = sto_value.get();\n                    if (oldObj.isVector && sto_value.isVector()) {\n                        for (let i = 0; i < sto_value.lines; i += 1) {\n                            const val = actual_values[i];\n                            oldObj.setAt(val, i, undefined);\n                        }\n                    }\n                    else if (!oldObj.isVector && column == null && sto_value.isVector()) {\n                        for (let i = 0; i < oldObj.columns; i += 1) {\n                            const val = actual_values[i];\n                            oldObj.setAt(val, line, i);\n                        }\n                    }\n                    else {\n                        // TODO: better error message\n                        throw new Error(`Attempting to assign an invalid value to array ${id}`);\n                    }\n                }\n                else {\n                    if (!oldObj.isVector && column == null) {\n                        // TODO: better error message\n                        throw new Error(`Attempting to assign an invalid value to array ${id}`);\n                    }\n                    oldObj.setAt(sto_value, line, column);\n                }\n            }\n            else {\n                throw new Error(\"Cannot update a non-array variable using updateStoreArray\");\n            }\n            // const oldType = oldObj.type;\n            // const stoType = sto_value.type;\n            // // TODO: better error message\n            // throw new Error(`${oldType.value} is not compatible with type ${stoType.value} given`);\n            return this;\n        }\n    }\n    /**\n     * Inserts a new variable into the Store. This method should be used when declaring a new variable,\n     * including the special return variable $.\n     * @param id variable id\n     * @param stoValue the value to be used as the initial value of id\n     */\n    insertStore(id, stoValue) {\n        if (this.store.has(id)) {\n            // TODO: better error message\n            throw new Error(`${id} is already defined`);\n        }\n        // TODO check for array....\n        let newObj;\n        if (stoValue instanceof store_value_ref_1.StoreValueRef) {\n            newObj = new storeObjectRef_1.StoreObjectRef(stoValue);\n        }\n        else if (stoValue instanceof array_store_value_ref_1.ArrayStoreValueRef) {\n            newObj = new store_object_array_ref_1.StoreObjectArrayRef(stoValue, stoValue.lines, stoValue.columns);\n        }\n        else if (stoValue instanceof array_store_value_1.ArrayStoreValue) {\n            const columns = stoValue.isVector() ? 0 : stoValue.columns;\n            const addresses = [];\n            const all_values = stoValue.get();\n            if (all_values.length > 0) {\n                for (let i = 0; i < stoValue.get().length; i += 1) {\n                    const val = all_values[i].get();\n                    addresses.push(location_1.Location.allocate(val));\n                }\n            }\n            else {\n                let total = stoValue.lines;\n                total = stoValue.isVector() ? total : total * columns;\n                for (let i = 0; i < total; i += 1) {\n                    addresses.push(location_1.Location.allocate(null));\n                }\n            }\n            newObj = new storeObjectArray_1.StoreObjectArray(stoValue.type, stoValue.lines, columns, addresses, stoValue.isConst);\n        }\n        else {\n            const loc_address = location_1.Location.allocate(stoValue.get());\n            newObj = new storeObject_1.StoreObject(stoValue.type, loc_address, stoValue.isConst);\n        }\n        newObj.setID(id);\n        this.store.set(id, newObj);\n        return this;\n    }\n    /**\n     * Helper function similar to applyStore. But it returns the actual object in the store be it ref or not\n     * applyStore will return the refferenced object if the object in the store is a ref\n     */\n    getStoreObject(id) {\n        if (!this.store.has(id)) {\n            if (this.nextStore != null) {\n                return this.nextStore.getStoreObject(id);\n            }\n            else {\n                throw new Error(`Variable ${id} not found.`);\n            }\n        }\n        return this.store.get(id);\n    }\n    destroy() {\n        this.store.forEach(sto => sto.destroy(), this);\n    }\n    isDefined(id) {\n        if (!this.store.has(id)) {\n            if (this.nextStore != null) {\n                return this.nextStore.isDefined(id);\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    }\n}\nexports.Store = Store;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StoreObject = void 0;\nconst location_1 = require(\"../../memory/location\");\nclass StoreObject {\n    /**\n     *\n     * @param {Type} type\n     * @param {Number} loc_address\n     * @param {Boolean} readOnly\n     */\n    constructor(type, loc_address, readOnly = false) {\n        this._loc_address = loc_address;\n        this._type = type;\n        this._readOnly = readOnly;\n        this._id = undefined;\n    }\n    setID(id) {\n        this._id = id;\n    }\n    get id() {\n        return this._id;\n    }\n    get inStore() {\n        return this.id !== null;\n    }\n    get type() {\n        return this._type;\n    }\n    /**\n     * Returns the actual value stored at the loccation address present in this object.\n     * The returned value is compatible with @prop{StoreObject.type}\n    */\n    get value() {\n        const address = location_1.Location.find(this._loc_address);\n        if (address != null) {\n            return address.value;\n        }\n        else {\n            throw new Error(\"!!!Critical Error: variable \" + this.id + \" does not have a valid address. Loc-Address \" + this.locAddress);\n        }\n    }\n    get number() {\n        throw new Error(\"DOT NOT USE THIS PROPERTY!\");\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n    set readOnly(value) {\n        this._readOnly = value;\n    }\n    isCompatible(another) {\n        return this.type.isCompatible(another.type);\n    }\n    destroy() {\n        return location_1.Location.deallocate(this._loc_address);\n    }\n    get locAddress() {\n        return this._loc_address;\n    }\n}\nexports.StoreObject = StoreObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StoreObjectArray = void 0;\nconst storeObject_1 = require(\"./storeObject\");\nconst array_store_value_1 = require(\"./value/array_store_value\");\nconst location_1 = require(\"../../memory/location\");\nclass StoreObjectArray extends storeObject_1.StoreObject {\n    constructor(type, _lines, _columns, loc_addresses, readOnly = false) {\n        super(type, -1, readOnly);\n        this._lines = _lines;\n        this._columns = _columns;\n        this.loc_addresses = loc_addresses;\n    }\n    get lines() {\n        return this._lines;\n    }\n    get columns() {\n        return this._columns;\n    }\n    isCompatible(another) {\n        if (another instanceof array_store_value_1.ArrayStoreValue) {\n            const cols = another.columns == null ? 0 : another.columns;\n            if (this.lines === another.lines && this.columns === cols) {\n                return super.isCompatible(another);\n            }\n        }\n        return false;\n    }\n    get isVector() {\n        return this.type.dimensions === 1;\n    }\n    /**@override\n       * Returns the list of values stored by this array.\n       * All returned values are compatible with @prop{StoreObject.type}\n      */\n    get value() {\n        const values = [];\n        for (let i = 0; i < this.addresses.length; i += 1) {\n            const address = location_1.Location.find(this.addresses[i]);\n            if (address != null) {\n                values.push(address.value);\n            }\n            else {\n                throw new Error(\"!!!Critical Error: variable \" + this.id + \" does not have a valid address. Loc-Address \" + this.locAddress);\n            }\n        }\n        return values;\n    }\n    destroy() {\n        let bool = true;\n        for (let i = 0; i < this.addresses.length; i += 1) {\n            bool = bool && location_1.Location.deallocate(this.addresses[i]);\n        }\n        return bool;\n    }\n    /**\n     * @override\n     *\n     * Returns the address that contains a list of all addresses of the values present in the array\n     */\n    get locAddress() {\n        throw new Error(\"!!!Internal Error: Cannot invoke locAddress on StoreObjectArray\");\n    }\n    get addresses() {\n        return this.loc_addresses;\n    }\n    getAt(line, column) {\n        if (this.isVector) {\n            if (column != null) {\n                throw new Error(this.id + \" is not a matrix!\");\n            }\n            column = line;\n            line = 0;\n        }\n        else if (column == null) {\n            // this is a whole line...\n            const values = [];\n            for (let col = 0; col < this.columns; col += 1) {\n                const index = this.getIndexOf(line, col);\n                const address = location_1.Location.find(this.addresses[index]);\n                values.push(address.value);\n            }\n            return values;\n        }\n        const index = this.getIndexOf(line, column);\n        const address = location_1.Location.find(this.addresses[index]);\n        return address.value;\n    }\n    setAt(value, line, column) {\n        let used_dims = 1;\n        if (column != null) {\n            used_dims += 1;\n        }\n        if (!this.type.canAccept(value.type, used_dims)) {\n            throw new Error(\"!!!Internal Error: Attempting to insert an invalid value inside array \" + this.id);\n        }\n        if (this.isVector) {\n            if (column != null) {\n                throw new Error(this.id + \" is not a matrix!\");\n            }\n            column = line;\n            line = 0;\n        }\n        else if (column == null) {\n            throw new Error(\"!!!Internal Error: Attempting to insert a line into matrix \" + this.id);\n        }\n        const pos = this.getIndexOf(line, column);\n        location_1.Location.updateAddress(this.addresses[pos], value.get());\n    }\n    getIndexOf(line, column) {\n        return line * this.columns + column;\n    }\n    getLocAddressOf(line, column) {\n        if (this.isVector) {\n            if (column != null) {\n                throw new Error(this.id + \" is not a matrix!\");\n            }\n            column = line;\n            line = 0;\n        }\n        else if (column == null) {\n            // this is a whole line...\n            const values = [];\n            for (let col = 0; col < this.columns; col += 1) {\n                const index = this.getIndexOf(line, col);\n                values.push(this.addresses[index]);\n            }\n            return values;\n        }\n        const index = this.getIndexOf(line, column);\n        return this.addresses[index];\n    }\n}\nexports.StoreObjectArray = StoreObjectArray;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StoreObjectRef = void 0;\nconst storeObject_1 = require(\"./storeObject\");\nclass StoreObjectRef extends storeObject_1.StoreObject {\n    /**\n     *\n     * @param {StoreObject} stoValue\n     */\n    constructor(stoValue) {\n        super(stoValue.type, stoValue.getRefAddress(), false);\n        this.refObj = stoValue.id;\n        this.reference_dimension = stoValue.getReferenceDimension();\n    }\n    get isRef() {\n        return true;\n    }\n    getRefObj() {\n        return this.refObj;\n    }\n    getReferenceDimension() {\n        return this.reference_dimension;\n    }\n    destroy() {\n        return false;\n    }\n}\nexports.StoreObjectRef = StoreObjectRef;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StoreObjectArrayRef = void 0;\nconst storeObjectArray_1 = require(\"./storeObjectArray\");\nclass StoreObjectArrayRef extends storeObjectArray_1.StoreObjectArray {\n    constructor(stoValue, lines, columns) {\n        super(stoValue.type, lines, columns, stoValue.getAddresses(), false);\n        this.refObj = stoValue.id;\n    }\n    get isRef() {\n        return true;\n    }\n    getRefObj() {\n        return this.refObj;\n    }\n    destroy() {\n        return false;\n    }\n}\nexports.StoreObjectArrayRef = StoreObjectArrayRef;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrayStoreValue = void 0;\nconst array_type_1 = require(\"../../../typeSystem/array_type\");\nconst store_value_address_1 = require(\"./store_value_address\");\nclass ArrayStoreValue {\n    constructor(type, values, lines, columns, id, isConst = false) {\n        this.type = type;\n        this.id = id;\n        this.isConst = isConst;\n        this.values = values;\n        this.lines = lines;\n        this.columns = columns;\n    }\n    get() {\n        return this.values;\n    }\n    /**\n     * @deprecated\n     * Potential not necessary since array access is occuring directly in the StoreObject\n     * @param line\n     * @param column\n     */\n    getAt(line, column) {\n        console.log(\"Column \", column);\n        if (this.isVector()) {\n            if (column != null) {\n                throw new Error(this.id + \" is not a matrix!\");\n            }\n            column = line;\n            line = 0;\n        }\n        else if (column == null) {\n            const values = [];\n            for (let col = 0; col < this.columns; col += 1) {\n                const index = line * this.lines + col;\n                values.push(this.values[index]);\n            }\n            const array_type = this.type;\n            const vector_type = new array_type_1.ArrayType(array_type.innerType, array_type.dimensions - 1);\n            return new ArrayStoreValue(vector_type, values, this.columns, 0, this.id, this.isConst);\n        }\n        const index = line * this.lines + column;\n        console.log(\"Get at: \", index);\n        return this.values[index];\n    }\n    setAt(value, line, column) {\n        let used_dims = 1;\n        if (column != null) {\n            used_dims += 1;\n        }\n        let actual_line = line;\n        let actual_column = column;\n        if (!this.type.canAccept(value.type, used_dims)) {\n            throw new Error(\"!!!Internal Error: Attempting to insert an invalid value inside array \" + this.id);\n        }\n        if (this.isVector()) {\n            if (column != null) {\n                throw new Error(this.id + \" is not a matrix!\");\n            }\n            actual_column = actual_line;\n            actual_line = 0;\n        }\n        else if (column == null) {\n            if (!(value instanceof ArrayStoreValue)) {\n                throw new Error(\"Attempting to insert a single value as a line of matrix \" + this.id);\n            }\n            const actual_values = value.get();\n            for (let i = 0; i < this.columns; i += 1) {\n                const pos = actual_line * this.columns + i;\n                const val = actual_values[i];\n                this.values[pos] = new store_value_address_1.StoreValueAddress(value.type, val.get(), actual_line, i, this.id, this.isConst);\n            }\n        }\n        const columns = this.columns == null ? 0 : this.columns;\n        const pos = actual_line * columns + actual_column;\n        this.values[pos] = new store_value_address_1.StoreValueAddress(value.type, value.get(), line, column, this.id, this.isConst);\n    }\n    inStore() {\n        return this.id != null;\n    }\n    isVector() {\n        return this.type.dimensions == 1;\n    }\n}\nexports.ArrayStoreValue = ArrayStoreValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrayStoreValueRef = void 0;\nclass ArrayStoreValueRef {\n    constructor(type, values, addresses, lines, columns, id) {\n        this.type = type;\n        this.values = values;\n        this.addresses = addresses;\n        this.lines = lines;\n        this.columns = columns;\n        this.id = id;\n        this.isConst = false;\n    }\n    get() {\n        return this.values;\n    }\n    getAddresses() {\n        return this.addresses;\n    }\n    inStore() {\n        return this.id != null;\n    }\n}\nexports.ArrayStoreValueRef = ArrayStoreValueRef;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StoreValue = void 0;\nclass StoreValue {\n    constructor(type, value, id, isConst = false) {\n        this.type = type;\n        this.id = id;\n        this.isConst = isConst;\n        this.value = value;\n    }\n    get() {\n        return this.value;\n    }\n    inStore() {\n        return this.id != null;\n    }\n}\nexports.StoreValue = StoreValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StoreValueAddress = void 0;\nconst store_value_1 = require(\"./store_value\");\nclass StoreValueAddress extends store_value_1.StoreValue {\n    constructor(type, value, line, column, id, isConst = false) {\n        super(type, value, id, isConst);\n        this.line = line;\n        this.column = column;\n    }\n}\nexports.StoreValueAddress = StoreValueAddress;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StoreValueRef = void 0;\nclass StoreValueRef {\n    constructor(type, value, loc_address, id) {\n        this.type = type;\n        this.value = value;\n        this.loc_address = loc_address;\n        this.id = id;\n        this.isConst = false;\n        this.reference_dimesion = 0;\n    }\n    get() {\n        return this.value;\n    }\n    getRefAddress() {\n        return this.loc_address;\n    }\n    inStore() {\n        return this.id != null;\n    }\n    getReferenceDimension() {\n        return this.reference_dimesion;\n    }\n    setReferenceDimension(dimension) {\n        this.reference_dimesion = dimension;\n    }\n}\nexports.StoreValueRef = StoreValueRef;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LanguageService = void 0;\nconst grammar_1 = require(\"./../../grammar/\");\nconst line_i18n_1 = require(\"line-i18n\");\nconst config_1 = require(\"./../util/config\");\nclass LanguageServiceExtended extends line_i18n_1.default.LanguageServiceNoLS {\n    constructor() {\n        super(typeof iLMparameters === \"undefined\"\n            ? config_1.Config.default_lang\n            : iLMparameters.lang);\n    }\n    getDefaultLang() {\n        return \"en\";\n    }\n    getCurrentLexer() {\n        const langLexer = grammar_1.default[this.getLang()];\n        if (langLexer === null || langLexer === undefined) {\n            return grammar_1.default[this.getDefaultLang()];\n        }\n        else {\n            return langLexer;\n        }\n    }\n    getCurrentLangFuncs() {\n        const langInfo = grammar_1.default[this.getLang()];\n        if (langInfo === null || langInfo === undefined) {\n            return grammar_1.default[this.getDefaultLang()].getLangFuncs();\n        }\n        else {\n            return langInfo.getLangFuncs();\n        }\n    }\n    getCurrentLangLibs() {\n        const langInfo = grammar_1.default[this.getLang()];\n        if (langInfo === null || langInfo === undefined) {\n            return grammar_1.default[this.getDefaultLang()].getLangLibs();\n        }\n        return langInfo.getLangLibs();\n    }\n}\nexports.LanguageService = new LanguageServiceExtended();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrayType = void 0;\nclass ArrayType {\n    constructor(type, dimensions) {\n        this.dimensions = dimensions;\n        this.innerType = type;\n    }\n    get isVector() {\n        return this.dimensions == 1;\n    }\n    isCompatible(another) {\n        if (another instanceof ArrayType) {\n            if (this.dimensions !== another.dimensions) {\n                return false;\n            }\n            return this.innerType.isCompatible(another.innerType);\n        }\n        return false;\n    }\n    stringInfo() {\n        const list = this.innerType.stringInfo();\n        list.forEach(v => {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const tmp = v;\n            tmp.dim = this.dimensions;\n        });\n        return list;\n    }\n    get value() {\n        return undefined;\n    }\n    get ord() {\n        return undefined;\n    }\n    canAccept(another, used_dims) {\n        const free_dims = this.dimensions - used_dims;\n        if (another instanceof ArrayType) {\n            return free_dims == another.dimensions && this.innerType.isCompatible(another.innerType);\n        }\n        else {\n            return free_dims == 0 && this.innerType.isCompatible(another);\n        }\n    }\n}\nexports.ArrayType = ArrayType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultiType = void 0;\nclass MultiType {\n    constructor(types) {\n        this.types = types;\n    }\n    get value() {\n        return undefined;\n    }\n    get ord() {\n        return undefined;\n    }\n    stringInfo() {\n        let list = [];\n        for (let i = 0; i < this.types.length; i++) {\n            const t = this.types[i];\n            list = list.concat(t.stringInfo());\n        }\n        return list;\n    }\n    isCompatible(another) {\n        for (let i = 0; i < this.types.length; i++) {\n            const t = this.types[i];\n            if (another.isCompatible(t)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\nexports.MultiType = MultiType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Type = void 0;\nclass Type {\n    constructor(value, ord) {\n        this.value = value;\n        this.ord = ord;\n    }\n    stringInfo() {\n        return [{ type: this.value, dim: 0 }];\n    }\n    isCompatible(another) {\n        return this.value === another.value && this.ord === another.ord;\n    }\n}\nexports.Type = Type;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromOrdToType = exports.Types = void 0;\nconst type_1 = require(\"./type\");\nconst multiType_1 = require(\"./multiType\");\nconst maybe_1 = require(\"../util/maybe\");\nconst INTEGER = new type_1.Type(\"integer\", 0);\nconst REAL = new type_1.Type(\"real\", 1);\nconst STRING = new type_1.Type(\"text\", 2);\nconst BOOLEAN = new type_1.Type(\"boolean\", 3);\nconst CHAR = new type_1.Type(\"char\", 4);\nconst VOID = new type_1.Type(\"void\", 5);\nconst UNDEFINED = new type_1.Type(\"undefined\", 6);\nconst ALL = new multiType_1.MultiType([INTEGER, REAL, STRING, CHAR, BOOLEAN]);\nexports.Types = Object.freeze({\n    INTEGER: INTEGER,\n    REAL: REAL,\n    STRING: STRING,\n    CHAR: CHAR,\n    BOOLEAN: BOOLEAN,\n    VOID: VOID,\n    UNDEFINED: UNDEFINED,\n    ALL: ALL\n});\nfunction fromOrdToType(ord) {\n    const typeMap = exports.Types;\n    for (const t in typeMap) {\n        if (typeMap[t].ord && typeMap[t].ord === ord) {\n            return maybe_1.Maybe.some(typeMap[t]);\n        }\n    }\n    return maybe_1.Maybe.none();\n}\nexports.fromOrdToType = fromOrdToType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Config = void 0;\nclass ConfigObject {\n    constructor() {\n        this.decimalPlaces = 8;\n        this.intConvertRoundMode = 2;\n        this.default_lang = \"pt\";\n        this.enable_type_casting = true;\n        this.idle_input_interval = 5000;\n        this.suspend_threshold = 1000;\n        // this.max_instruction_count = 350250; - automated evaluation limit\n        this.max_instruction_count = Number.MAX_SAFE_INTEGER;\n        this.activity_programming_type = new Map();\n        this.activity_functions = new Map();\n        this.activity_datatypes = new Map();\n        this.activity_commands = new Map();\n        this.activity_filter = new Map();\n    }\n    setConfig(opts) {\n        const otherConfig = opts;\n        for (const key in otherConfig) {\n            if (Object.prototype.hasOwnProperty.call(this, key)) {\n                this[key] = otherConfig[key];\n            }\n        }\n    }\n}\nconst config = new ConfigObject();\nexports.Config = config;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Maybe = void 0;\n/**\n*\n*  Maybe Monad\n*  @Source: https://codewithstyle.info/advanced-functional-programming-in-typescript-maybe-monad/\n*  @Modified by: @lucascalion - 28/08/2019\n*\n**/\nclass Maybe {\n    constructor(value) {\n        this.value = value;\n    }\n    static some(value) {\n        if (!value) {\n            throw Error(\"Provided value must not be empty\");\n        }\n        return new Maybe(value);\n    }\n    static none() {\n        return new Maybe(null);\n    }\n    static fromValue(value) {\n        return value ? Maybe.some(value) : Maybe.none();\n    }\n    getOrElse(defaultValue) {\n        return this.value === null ? defaultValue : this.value;\n    }\n    map(f) {\n        if (this.value === null) {\n            return Maybe.none();\n        }\n        else {\n            return Maybe.fromValue(f(this.value));\n        }\n    }\n}\nexports.Maybe = Maybe;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkivprogCore\"] = self[\"webpackChunkivprogCore\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors-node_modules_codemirror_addon_edit_closebrackets_js-node_modules_codemirror_addon_edi-a55abd\"], () => (__webpack_require__(\"./js/main.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["line_i18n","IVProgProcessor","DOMConsole","LocalizedStringsService","OutputMatching","Config","LocalizedStrings","getInstance","StringTypes","AssessmentConfig","max_instruction_count","suspend_threshold","IVProgAssessment","ast_code","testCases","domConsole","_classCallCheck","old_config","JSON","parse","stringify","setConfig","_createClass","key","value","runTest","_this","partialTests","map","t","name","input","output","testResult","om","eval","Promise","all","then","results","grade","i","length","result","writeToConsole","INFO","MESSAGE","generateOutput","status","ERR","ERROR","error_msg","channel","toFixed","error","showErrorMessage","err","message","resolve","errorID","_len","arguments","args","Array","_key","getError","showInfoMessage","msgID","_len2","_key2","info","getMessage","msgType","msg","getString","_len3","_key3","processString","writeRawHTML","StringDiff","OutputAssessmentResult","inputs","store","time","undefined","get","reduce","prev","val","prepareResults","template","DETAIL_TEMPLATE","replace","getUI","input_spans","prepareInputList","output_rows","type","formatString","formatNumber","formatBool","prepareOutputTable","failed_text","FAILED_TEMPLATE","input_list","list","INPUT_INFO_TEMPLATE","read","join","OUPUT_TABLE_TEMPLATE","assessment_result","page","PAGE_TEMPLATE","result_class","formatOutput","expected_class","generated_class","OUTPUT_TEMPLATE","expected_tmpl","expected","generated_tmpl","generated","EMPTY_OUTPUT_TEMPLATE","final_result","_this2","g_string","e_string","g_string_tmpl","e_string_tmpl","diff","diff_vec","part","getDiffStringStyle","diff_string","actual","text","action","INSERT","DELETE","EQUAL","Decimal","InputAssessment","OutputTest","levenshteinDistance","TypeParser","OutputResult","program","expected_output","test_name","_eval","refThis","gen_output","registerInput","registerOutput","start_time","Date","now","interpretAST","sto","final_time","isInputAvailable","getErrorMessage","g_out","OutputMatchResult","getPotentialOutputType","outputMatch","console","log","e_out","push","NUM_REGEX","test","BOOLEAN_REGEX","g_output","e_output","checkStrings","g_num","e_num","checkNumbers","g_bool","toBool","e_bool","checkBoolean","decimalPlaces","Math","min","dp","ROUND_FLOOR","eq","createNumberResult","toNumber","g_bool_text","convertBoolToString","e_bool_text","createBoolResult","e_ouput","assessmentList","e_output_clean","trim","g_output_clean","NUM_IN_STRING_REGEX","expected_numbers","match","generated_numbers","g_val","e_val","numberGrade","r","BOOLEAN_IN_STRING_REGEX","expected_bools","generated_bools","boolGrade","dist","gradeDiff","max","Number","isNaN","assessment_size","gradeAcc","finalGrade","createStringResult","str","concat","RegExp","Assign","ArrayIndexAssign","_Assign","_inherits","_super","_createSuper","id","lineExpression","columnExpression","expression","call","line","column","Declaration","ArrayDeclaration","_Declaration","lines","columns","initial","isConst","Command","_Command","Break","Case","commands","setCommands","_sourceInfo","set","sourceInfo","CommandBlock","variables","For","for_id","for_from","for_to","for_pass","commandBlock","FormalParameter","byRef","variadic","Types","Function","returnType","formalParameters","isCompatible","VOID","hasVariadic","some","p","IfThenElse","condition","ifTrue","ifFalse","Return","While","RepeatUntil","Switch","SysCall","FunctionCall","_While","Expression","cases","langFunc","SyntaxError","_Error","_context","Error","captureStackTrace","_assertThisInitialized","contextObj","_wrapNativeSuper","createError","message_id","context","SyntaxErrorFactory","Object","freeze","extra_lines","token_missing_one","token","col","token_missing_list","expectedList","getOR","id_missing","eos_missing","invalid_array_dimension","typeName","invalid_array_size","invalid_main_return","invalid_var_declaration","invalid_break_command","cmdName","invalid_terminal","invalid_type","const_not_init","invalid_id_format","duplicate_function","main_parameters","duplicate_variable","invalid_character","annonymous_array_literal","invalid_matrix_literal_line","exp","cannot_infer_matrix_line","cannot_infer_matrix_column","cannot_infer_vector_size","matrix_to_vector_literal_attr","vector_to_matrix_literal_attr","array_init_not_literal","array_exceeds_2d","invalid_matrix_id_dimension","invalid_vector_init","invalid_matrix_init","invalid_syntax","ArrayAccess","_Expression","toString","strLine","strColumn","parenthesis","Literal","ArrayLiteral","_Literal","element","validateSize","validateType","valid","strList","arrayLiteral","BoolLiteral","BOOLEAN","CharLiteral","CHAR","_parenthesis","flag","LanguageDefinedFunction","actualParameters","isMainCall","getMainFunctionName","getLocalName","params","strParams","v","IntLiteral","RealLiteral","StringLiteral","VariableLiteral","InfixApp","UnaryApp","op","left","right","l","convertToString","INTEGER","REAL","STRING","_InfixApp","UNDEFINED","Expressions","Commands","Parsers","ArrayType","SourceInfo","convertFromString","LanguageService","IVProgParser","ivprogLexer","inputStream","lexer","tokenStream","pos","ruleNames","getRules","variableTypes","entries","getTypeKeys","_ref","_ref2","_slicedToArray","_","functionTypes","RK_VOID","parsingArrayDimension","scope","langFuncs","getLangFuncs","definedFuncsNameList","definedVariablesStack","fill","stream","from","reset","filter","WHITESPACE","COMMENTS","parseTree","parseProgram","getToken","index","EOF_TOKEN","insideScope","BASE","pushScope","pushVariableStack","popScope","pop","popVariableStack","getCurrentVariableStack","isEOF","consumeNewLines","globalVars","functions","RK_PROGRAM","checkOpenCurly","RK_CONST","isVariableType","parseGlobalVariables","RK_FUNCTION","parseFunction","checkCloseCurly","global","getReservedKeys","attempt","OPEN_CURLY","CLOSE_CURLY","checkOpenBrace","OPEN_BRACE","checkCloseBrace","CLOSE_BRACE","checkOpenParenthesis","OPEN_PARENTHESIS","checkCloseParenthesis","CLOSE_PARENTHESIS","checkEOS","eosToken","EOS","checkFunctionDuplicate","functionID","funcIDToken","indexOf","checkVariableDuplicate","variableID","consumeForSemiColon","decl","parseMaybeConst","constToken","typeString","parseType","parseDeclaration","getTypeArray","dim1","dim2","dimensions","createSourceInfo","idString","parseID","parseArrayDimension","parseArrayDeclaration","assignmentToken","ASSIGNMENT","parseExpressionOR","declaration","commaToken","COMMA","n_lines","n_columns","dim_is_id","parseArrayLiteral","isVector","expString","toInt","find","dimToken","getIntLiteral","ID","parseVariable","RK_INTEGER","getRealLiteral","toReal","getStringLiteral","getCharLiteral","toChar","getBoolLiteral","openCurly","invalid_token","beginArray","data","maybeCurlyOpen","parseVectorList","parseExpressionList","endArray","createSourceInfoFromList","dataDim","lastSize","substring","offset","FUNCTION","formalParams","funType","parseFormalParameters","commandsBlock","parseCommandBlock","func","isMain","reference","maybeIDToken","RK_REFERENCE","parameter","parseMaybeLibID","maybeDOT","DOT","anotherID","RK_BOOLEAN","RK_REAL","RK_STRING","RK_CHARACTER","optionalCurly","variablesDecl","hasOpen","parsedCommand","cmd","parseCommand","lastToken","varType","parseIDCommand","RK_RETURN","parseReturn","RK_WHILE","RK_WHILE_ALT","parseWhile","RK_FOR","RK_FOR_ALT","parseFor","RK_BREAK","BREAKABLE","parseBreak","RK_SWITCH","parseSwitchCase","RK_DO","parseRepeatUntil","RK_IF","parseIfThenElse","casesList","parseCases","command","whileToken","RK_DO_UNTIL","COMMAND","logicalExpression","cmdBlocks","maybeElse","RK_ELSE","maybeIf","elseBlock","for_token","id_token","parseForParameters","RK_FOR_FROM","RK_FOR_TO","maybePass","RK_FOR_PASS","returnCommand","refToken","isID","parseExpression","assignmentOrParenthesis","funcCall","parseFunctionCallCommand","keyword_code","from_token","keyword","int_or_id","is_unary_op","SUM_OP","RK_CASE","nextToken","RK_DEFAULT","colonToken","COLON","block","defaultCase","aCase","caseToken","exp1","parseExpressionAND","RK_LOGICAL_OR","opToken","or","exp2","finalExp","parseExpressionNot","RK_LOGICAL_AND","and","maybeNotToken","RK_LOGICAL_NOT","not","parseExpressionRel","RELATIONAL_OPERATOR","relToken","rel","factor","parseFactor","sumOpToken","factor2","term","parseTerm","MULTI_OP","multOpToken","term2","CHARACTER","RK_TRUE","RK_FALSE","parseIDTerm","parseParenthesisExp","tokenA","tokenB","firstIndex","secondIndex","parseFunctionCallExpression","getFunctionName","getInternalName","stepBack","parseActualParameters","funcName","maybeToken","types","x","literalNames","createParser","includes","setLang","getCurrentLexer","parser","lineBreaks","size","Utils","elementID","disableMarginTop","cursorInterval","idleInterval","inputDiv","inputCMD","inputSpan","cursorRef","needInput","clearBtn","hideBtn","showBtn","termDiv","anyKey","actualID","parent","document","getElementById","setup","inputListeners","hideInput","pending_writes","last_clear","_setupDom","_setupEvents","addEventListener","bind","clearBtnClick","hideBtnClick","showBtnClick","event","keyCode","which","clearInterval","notifyListeners","_appendUserInput","innerHTML","currentLine","bashNode","createElement","classList","add","BASH_TEMPLATE","querySelector","INPUT_CARET_TEMPLATE","setAttribute","append","_setupCursor","window","$","popup","content","blinkCaretAndFocus","updateSpanText","stopBlinkCaret","focus","setInterval","style","visibility","scheduleNotify","forEach","splice","_appendTextLn","write","newLine","_appendText","USER","_appendText2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","write_time","divClass","textDiv","_args","wrap","_callee$","next","sleep","abrupt","getClassForType","insertBefore","getOutputText","scrollTerm","stop","_x","_x2","apply","_appendTextLn2","_callee2","_args2","_callee2$","_context2","removeChild","_x3","_x4","_appendUserInput2","_callee3","_callee3$","_context3","INPUT","getUserInputText","_x5","scrollTop","scrollHeight","display","top","marginTop","showInput","isElementInViewport","scrollIntoView","hide","dispose","removeEventListener","cNode","cloneNode","parentNode","replaceChild","click","requestInput","promise","sendOutput","outputList","split","clearPendingWrites","clear","parentElement","childNodes","firstChild","notifyIdle","idle_input_interval","cancelPendingInputRequests","Input","Output","runner","initVisualUI","addFunctionChangeListener","addGlobalChangeListener","removeFunctionListener","removeGlobalListener","getTestCases","i18nHelper","ActionTypes","getLogs","getLogsAsString","registerClick","registerUserEvent","parseLogs","prepareActivityToStudentHelper","prepareActivityToStudentHelperJSON","autoEval","setPreviousAlgorithm","openAssessmentDetail","processData","parseCode","CodeEditorAll","autoGenerateTestCaseOutput","generate","CodeEditor","initTextEditor","setCode","getCode","updateEditor","disable","Settings","programming","datatypes","i18n","generateCode","createInputFun","createOutputFun","createLengthFun","createLowercaseFun","createrCharAtFun","createSubstringFun","createUppercaseFun","createMatrixColumnsFun","createMatrixLinesFun","createNumElementsFun","createCastBoolFun","createCastIntFun","createCastRealFun","createCastStringFun","createIsBoolFun","createIsIntFun","createIsRealFun","createCastCharFun","createAbsFun","createCosFun","createInvertFun","createLogFun","createMaxFun","createMinFun","createNegateFun","createPowFun","createSinFun","createSqrtFun","createTanFun","createRandFun","valueToKey","object","prototype","hasOwnProperty","concatObjects","obj","libsObject","$mathLib","$sin","$cos","$tan","$sqrt","$pow","$log","$abs","$negate","$invert","$max","$min","$rand","$ioLib","$read","$write","$strLib","$substring","$length","$uppercase","$lowercase","$charAt","$arrayLib","$numElements","$matrixLines","$matrixColumns","$langLib","$isReal","$isInt","$isBool","$castReal","$castInt","$castBool","$castString","$castChar","funcsObject","getCurrentLangFuncs","main_function","localName","names","lib","getCurrentLangLibs","internalName","getFunction","libName","funName","RuntimeError","SemanticError","createRuntimeError","i18n_id","createSemanticError","ProcessorErrorFactory","symbol_not_found_full","symbol_not_found","function_missing_full","function_missing","main_missing","array_dimension_not_int_full","array_dimension_not_int","unknown_command_full","unknown_command","incompatible_types_full","left_type","left_dim","right_type","right_dim","source_info","translateType","incompatible_types","incompatible_types_array_full","dim","incompatible_types_array","loop_condition_type_full","loop_condition_type","endless_loop_full","endless_loop","if_condition_type_full","if_condition_type","invalid_global_var","not_implemented","invalid_case_type_full","invalid_case_type","void_in_expression_full","void_in_expression","invalid_array_access_full","invalid_array_access","invalid_matrix_access_full","invalid_matrix_access","matrix_column_outbounds_full","matrix_column_outbounds","matrix_line_outbounds_full","matrix_line_outbounds","vector_line_outbounds_full","vector_line_outbounds","vector_not_matrix_full","vector_not_matrix","function_no_return","invalid_void_return_full","invalid_void_return","invalid_return_type_full","invalid_return_type","invalid_parameters_size_full","invalid_parameters_size","invalid_parameter_type_full","fun_name","invalid_parameter_type","invalid_ref_full","invalid_ref","unexpected_break_command_full","unexpected_break_command","invalid_array_literal_type_full","invalid_array_literal_type","invalid_array_literal_line_full","invalid_array_literal_line","invalid_array_literal_column_full","invalid_array_literal_column","invalid_unary_op_full","opName","translateOp","invalid_unary_op","invalid_infix_op_full","typeLeft","dimLeft","typeRight","dimRight","invalid_infix_op","array_dimension_not_positive_full","array_dimension_not_positive","invalid_type_conversion","invalid_read_type","invalid_read_type_array","typePos","dimPos","typeArray","dimArray","invalid_const_ref_full","invalid_const_ref","invalid_const_assignment_full","var_id","invalid_const_assignment","invalid_vector_assignment_full","left_id","left_size","right_id","right_size","invalid_vector_assignment","invalid_matrix_assignment_full","left_line","left_column","right_line","right_column","invalid_matrix_assignment","matrix_to_vector_attr","vector_to_matrix_attr","invalid_matrix_index_assign_full","mat_id","mat_line","mat_size","exp_size","invalid_matrix_index_assign","invalid_number_elements_vector","expected_num","actual_num","invalid_number_lines_matrix","divsion_by_zero_full","divsion_by_zero","undefined_tanget_value","negative_log_value","invalid_string_index","local_fun_name","negative_sqrt_value","exceeded_recursive_calls","invalid_for_variable","invalid_for_from","invalid_for_to","invalid_for_pass","exceed_max_instructions","Store","Modes","Context","Operators","resultTypeAfterInfixOp","resultTypeAfterUnaryOp","Location","StoreValue","StoreValueRef","ArrayStoreValue","ArrayStoreValueRef","StoreValueAddress","ast","globalStore","stores","forceKill","mode","RUN","function_call_stack","instruction_count","function_call_count","checkContext","ignoreSwitchCases","RETURN","BREAK","prepareState","_interpretAST","mainFunc","initGlobal","findMainFunction","runFunction","_initGlobal","executeCommands","findFunction","MAIN_INTERNAL_ID","fun","_runFunction","funcStore","stoWithVars","finalSto","extendStore","associateParameters","variablesDeclarations","sent","_associateParameters","_callee4","formal_params","effective_params","caller_store","callee_store","j","formalParameter","_yield$this$associate","_yield$this$associate2","actualParam","_callee4$","_context4","associateVariadicParameter","associateParameter","_x6","_x7","_associateVariadicParameter","_callee5","count","variadicCount","_callee5$","_context5","insertStore","_x8","_x9","_x10","_x11","_x12","_x13","_associateParameter","_callee6","actualParameter","callerStore","calleeStore","actualValue","shouldTypeCast","realObj","ref","values","array_type","addresses","varID","realValue","_varID","_args6","_callee6$","_context6","evaluateExpression","enable_type_casting","canImplicitTypeCast","inStore","getStoreObject","getLocAddressOf","setReferenceDimension","locAddress","doImplicitCasting","_x14","_x15","_x16","_x17","_x18","_executeCommands","_callee7","cmds","_callee7$","_context7","executeCommand","_x19","_x20","_executeCommand","_callee8","_callee8$","_context8","PAUSE","ABORT","executeDeclaration","executeArrayIndexAssign","executeAssign","executeBreak","executeReturn","executeIfThenElse","executeRepeatUntil","executeWhile","executeFor","executeSwitch","executeFunctionCall","executeSysCall","_x21","_x22","_executeSysCall","_callee9","_callee9$","_context9","_x23","_x24","_executeFunctionCall","_callee10","_callee10$","_context10","destroy","_x25","_x26","_executeSwitch","_callee11","switchCases","lastStore","lastCaseCheckResult","switchCase","equalityInfixApp","_callee11$","_context11","isDefault","EQ","_x27","_x28","_executeFor","_callee12","initCmd","passValue","checkEndGTBegin","isForward","increment","whileBlock","forAsWhile","newCmdList","_callee12$","_context12","LT","GE","GT","ADD","_x29","_x30","_executeRepeatUntil","_callee13","checkCondition","_callee13$","_context13","_x31","_x32","_executeWhile","_callee14","_callee14$","_context14","_x33","_x34","_executeIfThenElse","_callee15","isTrue","_callee15$","_context15","_x35","_x36","_executeReturn","_callee16","funcType","real_value","stringInfo","_callee16$","_context16","_x37","_x38","_executeBreak","_callee17","_callee17$","_context17","_x39","_x40","_executeAssign","_callee18","exp_type_string_info","exp_type_info","_exp","_callee18$","_context18","applyStore","updateStore","_x41","_x42","_executeArrayIndexAssign","_callee19","mustBeArray","used_dims","lineSV","columnSV","current_value","_exp2","_callee19$","_context19","canAccept","innerType","getAt","updateStoreArray","_x43","_x44","_executeDeclaration","_callee20","temp","_callee20$","_context20","executeArrayDeclaration","_x45","_x46","_executeArrayDeclaration","_callee21","linesSV","columnsSV","valueList","_callee21$","_context21","evaluateArrayLiteral","_x47","_x48","_evaluateExpression","_callee22","_callee22$","_context22","evaluateUnaryApp","evaluateInfixApp","evaluateArrayAccess","evaluateVariableLiteral","evaluateLiteral","evaluateFunctionCall","_x49","_x50","_evaluateFunctionCall","_callee23","_callee23$","_context23","max_call_stack","_x51","_x52","_evaluateArrayLiteral","_callee24","storeValueMatrix","_callee24$","_context24","evaluateMatrix","evaluateVector","_x53","_x54","_x55","_x56","_x57","_evaluateVector","_callee25","exps","n_elements","actualValues","_callee25$","_context25","exp_str","newValue","_x58","_x59","_x60","_x61","_evaluateMatrix","_callee26","vectors","_callee26$","_context26","vector","vec_type","_x62","_x63","_x64","_x65","_x66","_evaluateLiteral","_callee27","_callee27$","_context27","_x67","_x68","_evaluateVariableLiteral","_callee28","_callee28$","_context28","_x69","_x70","_evaluateArrayAccess","_callee29","_callee29$","_context29","isArray","readOnly","_x71","_x72","_evaluateUnaryApp","_callee30","unaryApp","resultType","_callee30$","_context30","t0","ord","SUB","NOT","negated","_x73","_x74","_evaluateInfixApp","_callee31","infixApp","shouldImplicitCast","stringInfoLeft","infoLeft","stringInfoRight","infoRight","rightStr","leftStr","strLeft","strRight","leftValue","rightValue","_leftValue","_rightValue","_leftValue2","_rightValue2","_leftValue3","_rightValue3","_leftValue4","_rightValue4","_leftValue5","_rightValue5","_leftValue6","_rightValue6","_callee31$","_context31","MULT","DIV","MOD","LE","NEQ","AND","OR","plus","minus","times","divToInt","div","trunc","modulo","charCodeAt","gt","gte","lt","lte","_x75","_x76","numElementsFun","ALL","matrixLinesFun","matrix","matrixColumnsFun","_ref3","writeFunction","totalSV","total","readFunction","typeToConvert","realObject","arrayInfo","stoValue","getReferenceDimension","getRefObj","MultiType","isRealFun","isIntFun","_unused","isBoolFun","castRealFun","_temp","typeStringInfoArray","typeInfo","t1","castIntFun","_ref4","_temp2","_temp3","floor","castBoolFun","_ref5","castStringFun","_ref6","castCharFun","valSV","String","fromCharCode","convertToRadians","degrees","acos","sinFun","angle","mod","sin","cosFun","cos","tanFun","tan","sqrtFun","isNeg","reject","sqrt","powFun","y","pow","logFun","isNegative","log10","absFun","_ref7","abs","negateFun","_ref8","invertFun","_ref9","dividedBy","maxFun","_ref10","numbers","sto_addrs","_toConsumableArray","paramType","minFun","_ref11","seed","a","m","c","randFun","_ref12","createSetSeedFun","setSeedFun","_ref13","substringFun","start","end","lengthFun","uppercaseFun","toUpperCase","lowercaseFun","toLowerCase","charAtFun","idx","charAt","SemanticAnalyser","symbolMap","currentFunction","pushMap","n","popMap","insertSymbol","findSymbol","symbol_map","getMainFunction","analyseTree","assertDeclarations","f","assertFunction","assertDeclaration","assertArrayDeclaration","evaluateExpressionType","result_string_info","result_info","lineType","columnType","finalResult","resultTypeLeft","resultTypeRight","evaluateLiteralType","assertParameters","arrayTypeInfo","arrType","literal","last","e","strInfo","strExp","arrayDeclaration","evaluateVectorLiteralType","line_literal","formalParam","optional","assertReturn","checkCommand","checkCommands","var_type","from_type","to_type","pass_type","sType","hasDefault","caseType","lineExp","columnExp","exp_type","access_type","compatible","access_type_string_info","access_type_info","_this3","actualParametersList","parameterList","assertVariadicParameter","param","assertParameter","expType","variable","shared","analyseFromSource","stringCode","semantic","editor","JsonEditor","analiser","semAna","proc","load","alert","identifier","opts","UI","warn","Lexers","LanguageServiceExtended","_line_i18n$LanguageSe","iLMparameters","default_lang","lang","getDefaultLang","langInfo","getLang","langLibs","LanguageServiceNoLS","Langs","IVProgLocalizedStrings","_line_i18n$LocalizedS","langService","langsJsons","shouldListenToChange","type_string","translateInternalFunction","category","_instance","clicks","inRebuildMode","INSERT_FUNCTION","REMOVE_FUNCTION","INSERT_GLOBAL_VAR","REMOVE_GLOBAL_VAR","RENAME_FUNCTION","RENAME_GLOBAL_VAR","SET_GLOBAL_CONST","CHANGE_FUNCTION_RETURN","CHANGE_GLOBAL_TYPE","CHANGE_GLOBAL_VALUE","INSERT_FUNCTION_PARAM","REMOVE_FUNCTION_PARAM","CHANGE_PARAM_TYPE","RENAME_FUNCTION_PARAM","INSERT_FUNCTION_VAR","REMOVE_FUNCTION_VAR","RENAME_FUNCTION_VAR","CHANGE_VAR_TYPE","CHANGE_VAR_VALUE","INSERT_COMMAND","REMOVE_COMMAND","CHANGE_COMMAND_EXP","CHANGE_ATTRIB_EXP","CHANGE_ATTRIB_VAR","MOVE_COMMAND","ENTER_CHANGE_VAR_NAME","ENTER_CHANGE_VAR_VALUE","ENTER_CHANGE_GLOBAL_NAME","ENTER_CHANGE_GLOBAL_VALUE","ENTER_CHANGE_PARAM_NAME","details","registerEvent","registerSystemEvent","tag","setRebuildMode","logData","bool","InputTest","program_text","copyTestCases","assign","resultList","exec","result_final","inputList","showAlert","outputGenerated","Models","VariableValueMenuManagement","CodeParser","parseBoolean","var_value","final_array","el","row","parseGlobal","global_obj","new_global","Variable","is_constant","is_const","dimension","rows","program_obj","addGlobal","parseParameter","parameter_obj","new_parameter","function_obj","new_function","return_type","return_dimensions","is_main","parameters_list","variables_list","addFunction","printCommandText","code","aux","globals","parserCodeVisual","code_obj","trace","conteudo","preparedFunction","rawFunction","parseCommands","commands_block","COMMAND_TYPES","reader","parseReader","writer","parseWriter","comment","parseComment","attribution","parseAttribution","functioncall","parseFunctionCall","iftrue","parseIfTrue","repeatNtimes","parseRepeatNTimes","whiletrue","parseWhileTrue","dowhiletrue","parseDoWhileTrue","parseSwitch","expressionParserCodeVisual","Reader","Writer","Attribution","Comment","parameters","function_called","searchFunction","VariableValueMenu","VAR_OR_VALUE_TYPES","only_function","ifTrueBlock","ifFalseBlock","IfTrue","var_attribution","expression1","var_initial","expression2","item","var_step","step_expression","operator","ARITHMETIC_TYPES","expression3","ExpressionElement","EXPRESSION_ELEMENTS","exp_op_exp","RepeatNTimes","only_variable","WhileTrue","DoWhileTrue","sc","case_el","temp_exp","temp_commands","temp_case","SwitchCase","folderInput","header","generateSubCode","algorithmInIlm","ivprogCore","prepareData","submission","exercID","studentID","exercMap","has","Map","files","folderName","csvEntries","blockExercMap","getFilePath","counter","download","getExercHeader","_getExercHeader","props","acc","prop","_download","file","encodeURIComponent","appendChild","webkitRelativePath","slice","vec","path","studentsMap","submissions","sort","b","parseInt","array","student","previousCode","previousFile","previous","currentFile","current","currentCode","logs","ratio","parseFloat","getOrElse","csv","firstLine","_iterator","_createForOfIteratorHelper","_step","s","done","getCodeEditorModeConfig","CodeEditorMode","CodeMirror","indented","align","pushContext","state","indent","popContext","typeBefore","prevToken","string","typeAtEndOfLine","indentation","isTopScope","contains","words","word","propertyIsEnumerable","tokenComment","maybeEnd","ch","tokenize","defineMode","config","parserConfig","indentUnit","statementIndentUnit","dontAlignCalls","keywords","switchKeyword","caseKeyword","defaultKeyword","caseRegex","builtin","blockKeywords","defKeywords","atoms","hooks","multiLineStrings","indentStatements","namespaceSeparator","isPunctuationChar","numberStart","number","isOperatorChar","isIdentifierChar","isReservedIdentifier","curPunc","isDefKeyword","tokenString","tokenBase","backUp","eat","skipToEnd","eatWhile","cur","quote","escaped","maybeEOL","typeFirstDefinitions","eol","startState","basecolumn","startOfLine","ctx","sol","eatSpace","styleDefs","textAfter","Pass","firstChar","closing","dontIndentStatements","hook","switchBlock","allmanIndentation","caseTestRegex","electricInput","blockCommentStart","blockCommentEnd","blockCommentContinue","lineComment","fold","codeConfig","ivprogKeywords","basicTypes","ivprogTypes","ivprogBlockKeywords","blocks","ivprogDefKeywords","def","mimes","helperType","registerHelper","defineMIME","switchString","case_default","modeProps","setTestCases","TestConsole","Maybe","parseActivityData","ignore_logs","algorithm_in_ilm","none","configAuxiliar","obj_config","keys","setActivityConfig","config_json","activity_commands","activity_functions","activity_datatypes","activity_filter","activity_programming_type","showInvalidData","ilm_cont","test_cases","settings","algorithm","maybe_content","testcases","prog_type","settings_programming_type","settingsProgrammingType","settingsDataTypes","settings_data_types","settingsCommands","settings_commands","settingsFunctions","settings_functions","settingsFilter","settings_filter","compareArray","elementA","elementB","compareTestcases","original","elementO","elementS","originalData","callback","con","autoAssessment","_Input","_Output","TYPES","VARIABLE","CONST","RELATIONAL","LOGIC","ARITHMETIC","getOpType","switchCaseWalker","commandWalker","expressionWalker","switchWalker","switchCommand","returnWalker","breakWalker","forWalker","forLoop","whileWalker","whileLoop","testFirst","ifThenElseWalker","ifthenelse","assignmentWalker","assingment","arrayClass","instance","functionCallWalker","functionCall","lastInput","functionWalker","funcDeclaration","functionParameterWalker","variableDeclarationWalker","variableInitialWalker","opType","funcObj","paramsList","opValue","expressionAST","codeLinesMap","tokens","_i","_tokens","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","diff_main","text1","text2","cursor_pos","_fix_unicode","editdiff","find_cursor_edit_diff","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diffs","diff_compute_","unshift","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_bisect_","text1_length","text2_length","max_d","ceil","v_offset","v_length","v1","v2","delta","front","k1start","k1end","k2start","k2end","d","k1","k1_offset","x1","y1","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","is_surrogate_pair_start","pointerend","is_surrogate_pair_end","diff_halfMatchI_","best_common","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","prefixLength","suffixLength","hm1","hm2","fix_unicode","pointer","count_delete","count_insert","text_delete","text_insert","previous_equality","ends_with_pair_start","stray","k","starts_with_pair_end","changes","charCode","remove_empty_tuples","tuples","ret","make_edit_splice","before","oldMiddle","newMiddle","after","oldText","newText","oldRange","newRange","oldLength","newLength","oldCursor","oldBefore","oldAfter","maybeNewCursor","editBefore","newCursor","newBefore","newAfter","oldPrefix","newPrefix","editAfter","cursor","oldSuffix","newSuffix","replaceRange","_type","scrollIt","destination","duration","easing","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","pageYOffset","startTime","performance","getTime","documentHeight","body","offsetHeight","documentElement","clientHeight","windowHeight","innerHeight","getElementsByTagName","destinationOffset","offsetTop","destinationOffsetToScroll","round","scroll","timeFunction","requestAnimationFrame","rect","getBoundingClientRect","bottom","innerWidth","clientWidth","cacheMainList","cacheOp","fillCache","mainList","logicOpList","lOp","isKeyword","isValidIdentifier","identifier_str","validRegex","blockList","keywordsList","typeList","atomList","win","preventDefault","page_code","currentTarget","dataset","close","open","range","startAt","_sleep","ms","res","setTimeout","GlobalsManagement","FunctionsManagement","block_render","renderAlgorithm","draging","children","off","empty","renderFunction","renderGlobal","blockAllEditingOptions","delay","show","remove","globalsCode","has_error","n_code","functionsCode","TEXT","parametersCode","variablesCode","commandsCode","command_obj","breaksCode","commentsCode","readersCode","writersCode","functioncallsCode","attributionsCode","whiletruesCode","doWhilesCode","iftruesCode","repeatNtimesCode","switchsCode","returnsCode","variable_value_menu","elementExpressionCode","_command_obj","variableValueMenuCode","switchcasesCode","switchcase","repeatNtimesHeader","itens","renderErrorMessage","dom_object","commands_else","logicExpressionCode","first_operand","EXPRESSION_TYPES","exp_logic","exp_arithmetic","arithmeticExpressionCode","LOGIC_COMPARISON","equals_to","not_equals_to","second_operand","ARITHMETIC_COMPARISON","greater_than","less_than","greater_than_or_equals_to","less_than_or_equals_to","expression_obj","type_op","multiplication","division","module","write_sep","variable_obj","is_return","reference_dimensions","isBackslash","newline","comment_text","CommentsManagement","ReadersManagement","WritersManagement","AttributionsManagement","IftruesManagement","RepeatNtimesManagement","WhiletruesManagement","DowhiletruesManagement","SwitchesManagement","FunctioncallsManagement","BreaksManagement","ReturnsManagement","removeCommand","dom_obj","function_container_active","createFloatingCommand","function_container","command_type","mouse_event","floatingObject","draggable","appendTo","mouseup","evt","manageCommand","hasClass","originalEvent","srcElement","closest","on","addGhostDiv","elementFromPoint","clientX","clientY","ghostDiv","css","target","pageX","divx","pageY","trigger","active_container","addGhostToEmptyBlock","container","addGhostToNotEmptyBlock","is","containerIf","containerElse","topIfDistance","bottomIfDistance","height","topElseDistance","bottomElseDistance","addGhostToFunctionArea","allfilhos","topDistances","bottomDistances","topD","botD","menorTop","indiceTop","menorBot","indiceBot","insertAfter","undermouse","borderMouseDragCommand","each","removeClass","objLeft","objTop","objRight","width","objBottom","addClass","renderCommand","element_reference","before_after_inside","createdElement","genericCreateCommand","only_value","variable_and_function","dragTrash","trash","fadeIn","fadeOut","findSingleElement","searching","query","findPathRecursive","starter_index","hierarquia_bottom_up","index_command","full_path","hier","parentsUntil","esta_correto","esta_na_div_correta","new_cmd","findNearbyCommandToAddInFunctionScope","hier_find","is_correct_context","sub_elemento","findBeforeOrAfterCommandToAdd","insertCommandInBlockHierar","all_str_path","hier_dom","hier_obj","el_jq","command_parent","recentComand","findNearbyCommandToAddInBlockScope","addCommandToSwitchCase","findBeforeOrAfterCommandToAddInsertBlock","node_list_commands","all_sub","menor_distancia","elemento_menor_distancia","antes","t_bot","t_top","borda_inferior","command_target","temp_parent","is_in_else","d_top","d_bot","findInBlockCorrectPlace","insertCommandInBlock","correct_div","is_in_if","which_case","case_div","findInBlockCorrectPlaceInSwitchCase","CommandsManagement","ExpressionManagement","CodeGenerator","renderMenu","addHandlers","renderExpression","lockexpression","toggle","toggleClass","manageExpressionElements","ref_object","menu_var_or_value","selectedItem","expression_element","index_to_move","op_exp","par_exp_par","renderExpressionElements","expression_div","command_container","renderElement","renderOperator","temp_op","index_op","context_menu","dropdown","onChange","$selectedItem","renderMenuAddExpression","dom_append_menu","expression_append_new_expression","type_exp","temp_exp_1","temp_exp_2","temp_par_1","temp_par_2","menu_add_item","menu_add_item_seq","index_temp","addMenuItens","divs_expression","attribution_dom","expressionEdition","inputExpression","afterWhichElement","lockButton","editButton","ex","ok_button","cancel_button","focusout","keyup","parsed","expressionParserToVisual","mousedown","len","setSelectionRange","renderMenuOperations","variable_selected","createExpressionAround","break_dom","renderTextComment","comment_dom","initial_el_to_render","renderStartMenu","main_div","renderLogicExpression","renderArithmeticExpression","restartMenu","renderArithmeticOperator","all_expression","expression_arithmetic","arithmetic_operator","element_to_append","menu_operator","selected","renderLogicOperator","expression_logic","logic_operator","exp_el_par_1","exp_el_expr_el_1","exp_el_expr_operand","exp_el_expr_el_2","exp_el_par_2","start_menu","LogicExpression","ArithmeticExpression","html","selectOnKeydown","SwitchManagement","dom_where_render","dom_command","menu_div","collapsed","addCaseToSwitch","renderCase","ConditionalExpressionManagement","ContextualizedMenu","GenericExpressionManagement","dowhiletrue_dom","functioncall_dom","WatchJS","timer","div_to_render","expression_array","aux_cmd","unwatch","watch","types_included","exp_conditional","renderElements","open_or_close","lixeira","posX","posY","Sortable","create","animation","ghostClass","group","put","onStart","onMove","onEnd","onAdd","removeElement","indice","first","opening","div_temp","renderFinalAddElements","renderParenthesis","renderStartAddOperator","renderOperatorMenu","renderAddParenthesis","parentheses_activate","addParentheses","actual_target","renderGhostParentheses","floating","comando_que_esta","comando_certo","open_parentheses","close_parentheses","inserir_open","inserir_close","evts","is_correct","index_in_array","count_opened","count_closed","expression_content","position","ghost_parenthesis","menu_final","getArithmeticOperators","getLogicOperators","getRelationalOperators","div_higher","sera","ExpressionOperator","is_last","button","getSeparator","_value","_text","arithmetic_operators","logic_operators","relational_operators","getVariable","search","variavel","varL0","varC0","system_functions","input_field","var_not_found","fun_not_found","item_parsed","sizeOfParsed","funcao","uniqueWords","Set","exp_obj","function_name","checkIfWriteSeparator","sizeParsed","check_write_esp","vet_obj","item_parsed2","iftrue_dom","reader_dom","togglePasso","var_incrementation","cond_exp","manageClearExpressionElements","repeatNtimes_dom","return_dom","casediv","switch_dom","AttribuitionsManagement","RepeatNTimesManagement","variable_and_value_opt","value_and_function","size_field","index_references","variable_and_value","reference_parent","inputWidth","textWidth","addVariablesToMenu","addFunctionsToMenu","addIVProgFunctionsToMenu","variable_fun","isVarInProgram","renderPreviousContent","appendSelectText","ret_function","isFunctionInProgram","function_called_obj","var_obj","var_fun","parameters_menu","variable_render","openInputToValue","sub_menu","SYSTEM_FUNCTIONS_CATEGORIES","math","arrangement","conversion","is_there","include_constant","openInputToFunction","openInputToVariable","tmpStr","function_selected","field","rendered","fn","font","fakeEl","attr","whiletrue_dom","command_write","addHandlersManager","_function_obj","_writer_dom","item_div","content_element","writer_dom","handle","random","newIndex","oldIndex","replaceWith","newlineBtn","setPopup","_addHandlerIconAdd","insert_after","after_which","icon_add_item","_event","div_parent_with_handler","new_div_item","new_related_menu","addHandlerIconAdd","addContent","_ref_object","_menu_var_or_value","_ref_object_content","VariablesManagement","CodeManagement","AlgorithmManagement","VersionInfo","TextEditor","URLHELP","counter_new_functions","counter_new_parameters","ivprog_version","version","globalChangeListeners","functionsChangeListeners","_testCases","isRunning","studentGrade","Program","SystemFunction","mainFunction","function_comment","generator","runCodeAssessment","insertContext","watchW","addFunctionHandler","in_use","temp_name","addParameter","renderParameter","updateReturnType","new_type","new_dimensions","removeFunction","minimizeFunction","is_hidden","enableNameFunctionUpdate","addVariable","slideToggle","renderFunctionReturn","function_element","tm","cont","appender","renderVariable","function_index","updateSequenceLocals","addSortableHandler","updateSequenceParameters","teste","sticky","scrollContext","observeChanges","onStick","onBottom","onUnstick","onReposition","onScroll","isVisible","onTop","elementTop","elementHeight","containerTop","containerHeight","evento_drag","updateProgramObjDrag","nodes","start_index","path_target","index_each","path_relative","indice_na_raiz","is_in_case_switch","command_start_point","block_to_insert","command_in_drag","prepareDragHandler","id_function","n_group","itemEl","to","showStopButton","runCode","downloadFile","change","uploadFile","showRunButton","stopExecution","toggleVisualCoding","toggleTextualCoding","is_iassign","toggleConsole","full_screen","time_show","listWithHandle","updateSequenceFunction","listGlobalsHandle","updateSequenceGlobals","strCode","settingsProgrammingTypes","getEvaluationCallback","scheduleCall","is_running","removeParameter","parameter_container","updateParameterType","__","enableNameParameterUpdate","checked","updateParameterName","parameter_var","new_name","parameter_obj_dom","variableNameAlreadyExists","name_var","updateFunctionName","function_var","function_obj_dom","functionNameAlreadyExists","opened_name_parameter","opened_input_parameter","parent_node","select","opened_name_function","opened_input","previousPadding","scheduled_call","contentToSend","date","toISOString","toTimeString","replaceAll","blob","Blob","saveAs","oFReader","FileReader","readAsText","onload","oFREvent","txt","prepareActivityToStudent","debug","counter_new_globals","is_from_click","newe","toggleConstant","global_var","updateName","global_obj_dom","globalNameAlreadyExists","global_name","updateType","updateInitialValues","removeGlobal","global_container","alternateBooleanGlobalValue","value_container","alternateBooleanGlobalVectorValue","removeGlobalColumnVector","addGlobalColumnVector","removeColumnGlobalMatrix","addColumnGlobalMatrix","removeLineGlobalMatrix","addLineGlobalMatrix","n_l","alternateBooleanGlobalMatrixValue","renderValues","enableGlobalValueUpdate","enableGlobalVectorValueUpdate","enableGlobalMatrixValueUpdate","updateColumnsAndRowsText","enableNameUpdate","ff","complete_element","opened_name_value_matrix_global_v","opened_input_value_matrix_global_v","opened_name_value_global_var","opened_input_value_global_ar","changed","opened_name_global","opened_input_global","input_name","opened_name_value_vector_global_","opened_input_value_vector_global_","start_point","ConditionalExpression","has_neg","FunctionCallMenu","function_to_add","function_to_receive","codeEditor","fromTextArea","theme","lineNumbers","matchBrackets","autoCloseBrackets","fixedGutter","styleActiveLine","setOption","refresh","setValue","getValue","dom_obj_target","message_text","transition","closable","movePopup","boundary","preserve","className","onHidden","$module","counter_new_variables","is_in_click","new_var","variable_obj_dom","removeVariable","variable_container","function_associated","variable_var","alternateBooleanValue","enableValueUpdate","alternateBooleanVectorValue","enableVectorValueUpdate","removeColumnVector","addColumnVector","removeColumnMatrix","addColumnMatrix","removeLineMatrix","addLineMatrix","alternateBooleanMatrixValue","enableMatrixValueUpdate"],"sourceRoot":""}